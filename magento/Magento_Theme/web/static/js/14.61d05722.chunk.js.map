{"version":3,"sources":["../node_modules/@scandipwa/scandipwa/src/route/ProductPage/index.js","../node_modules/@scandipwa/scandipwa/src/type/Account.js","../node_modules/@scandipwa/scandipwa/src/component/Draggable/Draggable.component.js","../node_modules/@scandipwa/scandipwa/src/component/AddToCart/AddToCart.container.js","../node_modules/@scandipwa/scandipwa/src/component/Draggable/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductLinks/ProductLinks.container.js","../node_modules/@scandipwa/scandipwa/src/component/AddToCart/index.js","../node_modules/@scandipwa/scandipwa/src/component/AddToCart/AddToCart.component.js","../node_modules/@scandipwa/scandipwa/src/component/Slider/Slider.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductActions/ProductActions.config.js","../node_modules/@scandipwa/scandipwa/src/component/ProductLinks/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductLinks/ProductLinks.component.js","../node_modules/@scandipwa/scandipwa/src/component/Slider/index.js","../node_modules/@scandipwa/scandipwa/src/component/Slider/Slider.component.js","../node_modules/@scandipwa/scandipwa/src/component/Slider/Slider.config.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOptions/ProductCustomizableOptions.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOption/ProductCustomizableOption.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGallery/ProductGallery.config.js","../node_modules/@scandipwa/scandipwa/src/component/VideoPopup/VideoPopup.config.js","../node_modules/@scandipwa/scandipwa/src/route/ProductPage/ProductPage.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductActions/ProductActions.container.js","../node_modules/@scandipwa/scandipwa/src/component/GroupedProductList/GroupedProductList.component.js","../node_modules/@scandipwa/scandipwa/src/component/GroupedProductsItem/GroupedProductsItem.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItems/ProductBundleItems.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOptions/ProductCustomizableOptions.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOption/ProductCustomizableOption.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItem/ProductBundleItem.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOptions/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductAttributes/ProductAttributes.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGallery/ProductGallery.container.js","../node_modules/@scandipwa/scandipwa/src/component/ImageZoomPopup/ImageZoomPopup.container.js","../node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.container.js","../../node_modules/tslib/tslib.es6.js","../../src/store/InitialState.ts","../../src/store/utils.ts","../../src/store/animations/utils.ts","../../src/store/animations/index.ts","../../src/store/zoom/utils.ts","../../src/store/pan/index.ts","../../src/store/zoom/index.ts","../../src/store/pinch/index.ts","../../src/store/velocity/index.ts","../../src/store/propsHandlers.ts","../../src/store/StateContext.tsx","../../src/components/TransformWrapper.tsx","../../node_modules/style-inject/dist/style-inject.es.js","../../src/components/TransformComponent.tsx","../node_modules/@scandipwa/scandipwa/src/component/CarouselScroll/CarouselScroll.component.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScrollArrow/CarouselScrollArrow.container.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScrollItem/CarouselScrollItem.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/ProductGalleryBaseImage.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGalleryThumbnailImage/ProductGalleryThumbnailImage.component.js","../node_modules/@scandipwa/scandipwa/src/component/VideoPopup/VideoPopup.container.js","../node_modules/@scandipwa/scandipwa/src/component/VideoThumbnail/VideoThumbnail.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductInformation/ProductInformation.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviews/ProductReviews.container.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewForm/ProductReviewForm.container.js","../node_modules/@scandipwa/scandipwa/src/type/Rating.js","../node_modules/@scandipwa/scandipwa/src/component/ReviewStar/ReviewStar.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewList/ProductReviewList.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewItem/ProductReviewItem.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviews/ProductReviews.config.js","../node_modules/@scandipwa/scandipwa/src/component/ProductTabs/ProductTabs.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductTab/ProductTab.component.js","../node_modules/@scandipwa/scandipwa/src/route/ProductPage/ProductPage.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductActions/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductActions/ProductActions.component.js","../node_modules/@scandipwa/scandipwa/src/component/GroupedProductList/index.js","../node_modules/@scandipwa/scandipwa/src/component/GroupedProductsItem/index.js","../node_modules/@scandipwa/scandipwa/src/component/GroupedProductsItem/GroupedProductsItem.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItems/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOption/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductCustomizableOption/ProductCustomizableOption.config.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItems/ProductBundleItems.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItem/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItem/ProductBundleItem.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductBundleItem/ProductBundleItem.config.js","../node_modules/@scandipwa/scandipwa/src/component/ProductConfigurableAttributes/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductAttributes/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductAttributes/ProductAttributes.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGallery/index.js","../node_modules/@scandipwa/scandipwa/src/component/ImageZoomPopup/index.js","../node_modules/@scandipwa/scandipwa/src/component/ImageZoomPopup/ImageZoomPopup.component.js","../node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/index.js","../node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGallery/ProductGallery.component.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScroll/index.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScrollArrow/index.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScrollArrow/CarouselScrollArrow.component.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScrollItem/index.js","../node_modules/@scandipwa/scandipwa/src/component/CarouselScrollItem/CarouselScrollItem.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/ProductGalleryBaseImage.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/ProductGalleryBaseImage.config.js","../node_modules/@scandipwa/scandipwa/src/component/ProductGalleryThumbnailImage/index.js","../node_modules/@scandipwa/scandipwa/src/component/VideoPopup/index.js","../node_modules/@scandipwa/scandipwa/src/component/VideoPopup/VideoPopup.component.js","../node_modules/@scandipwa/scandipwa/src/component/VideoThumbnail/index.js","../node_modules/@scandipwa/scandipwa/src/component/VideoThumbnail/VideoThumbnail.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductInformation/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviews/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviews/ProductReviews.component.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewForm/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewForm/ProductReviewForm.component.js","../node_modules/@scandipwa/scandipwa/src/component/ReviewStar/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewList/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductReviewItem/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductTabs/index.js","../node_modules/@scandipwa/scandipwa/src/component/ProductTab/index.js"],"names":["regionType","PropTypes","oneOfType","shape","region_code","string","region","region_id","number","addressType","city","country_id","customer_id","default_billing","bool","default_shipping","firstname","id","lastname","middlename","postcode","prefix","street","arrayOf","suffix","telephone","addressesType","customerType","created_at","dob","date","email","group_id","is_subscribed","taxvat","baseOrderInfoType","increment_id","status_label","grand_total","subtotal","orderType","base_order_info","order_products","array","payment_info","object","shipping_info","DASHBOARD","MY_ORDERS","MY_WISHLIST","ADDRESS_BOOK","NEWSLETTER_SUBSCRIPTION","tabType","url","name","objectOf","Draggable","state","isDragging","originalX","translateX","lastTranslateX","originalY","translateY","lastTranslateY","handleTouchStart","touches","window","addEventListener","handleTouchMove","handleTouchEnd","length","_handleDragStart","handleMouseDown","event","handleMouseMove","handleMouseUp","preventDefault","clientX","clientY","props","shiftX","shiftY","setState","onDrag","removeEventListener","_handleDragEnd","handleClick","e","onClick","newState","this","onDragStart","onDragEnd","children","handleFocus","handleKey","draggableRef","mix","block","ref","onMouseDown","onTouchStart","onContextMenu","onKeyDown","onFocus","tabIndex","role","aria-label","defaultProps","callback","Object","defineProperty","_Draggable","value","CartDispatcher","WishlistDispatcher","mapStateToProps","wishlistItems","WishlistReducer","productsInWishlist","mapDispatchToProps","dispatch","addProduct","options","then","default","addProductToCart","removeFromWishlist","removeItemFromWishlist","showNotification","type","message","AddToCartContainer","isLoading","containerFunctions","buttonClick","bind","validationMap","CONFIGURABLE","validateConfigurableProduct","GROUPED","validateGroupedProduct","BUNDLE","validateBundleProduct","addToCartHandlerMap","addConfigurableProductToCart","addGroupedProductToCart","configurableVariantIndex","product","variants","__","stock_status","groupedProductQuantity","items","some","productOptionsData","validateCustomizableOptions","isBundle","requiredOptions","productOptions","productOptionsMulti","validateProductOptions","every","requiredOption","find","item","option_id","type_id","validationRule","validateSimpleProduct","Promise","all","map","groupedProductItem","newProduct","parent","quantity","resolve","afterAddToCart","resetLoading","addToCartHandler","addSimpleProductToCart","onProductValidationError","validateAddToCart","sku","wishlistItemKey","keys","key","wishlist","isSignedIn","undefined","item_id","noMessage","setQuantityToDefault","removeProductFromWishlist","_AddToCartContainer","connect","linkedProducts","LinkedProductsReducer","ProductLinksContainer","siblingsHaveBrands","siblingsHavePriceBadge","siblingsHaveTierPrice","siblingsHaveConfigurableOptions","productCardFunctions","setSiblingsHaveBrands","setSiblingsHavePriceBadge","setSiblingsHaveTierPrice","setSiblingsHaveConfigurableOptions","productCardProps","linkType","containerProps","_ProductLinksContainer","AddToCart","mods","isPlaceholder","renderPlaceholder","disabled","_AddToCart","device","ConfigReducer","forwardRef","Slider","DEFAULT_MAX_PRODUCTS","ProductLinks","renderProductCard","i","elem","numberOfProductsToDisplay","slice","Array","from","_","title","areDetailsLoaded","wrapperMix","label","renderHeading","renderItems","_ProductLinks","sliderWidth","prevPosition","createRef","sliderRef","handleDragStart","handleInteraction","handleDrag","handleDragEnd","renderCrumb","activeImage","prevActiveImage","addWindowResizeWatcher","getIsSlider","sliderChildren","current","offsetWidth","setStyleVariablesOnMount","getSliderRef","sliderHeight","offsetHeight","onload","CSS","setVariable","setTimeout","ANIMATION_DURATION","prevProps","newTranslate","getSlideWidth","setAnimationSpeedStyle","Math","abs","setTranlateXStyle","isHeightTransitionDisabledOnMount","transitionSpeed","HEIGHT_TRANSITION_SPEED_ON_MOUNT","translate","isVertical","animationDuration","slideSize","lastTranslate","fullSliderSize","prevActiveSlider","onActiveImageChange","fullSliderPoss","round","sliderPossition","mousePossitionInElement","getBoundingClientRect","x","isMobile","activeSlide","fullSliderWidth","scrollWidth","scrollHeight","getFullSliderWidth","activeSlidePosition","activeSlidePercent","isSlideBack","onClickChangeSlide","ACTIVE_SLIDE_PERCENT","ceil","floor","calculateNextSlide","isInteractionDisabled","args","call","Children","isActive","changeActiveImage","showCrumbs","renderSliderContent","renderCrumbs","_Slider","ProductCustomizableOptionsContainer","selectedCheckboxValues","selectedDropdownOptions","textFieldValues","setSelectedDropdownValue","setSelectedCheckboxValues","setCustomizableOptionTextFieldValue","stopLoading","prevState","prevSelectedCheckboxValues","prevSelectedDropdownOptions","prevTextFieldValues","updateSelectedOptionsArray","updateSelectedOptions","getSelectedCustomizableOptions","customizableOptions","push","option_value","filteredOptions","filter","textFieldValue","val","filteredItems","concat","option","optionData","selectedValue","_ProductCustomizableOptionsContainer","ProductCustomizableOptionContainer","textValue","selectedDropdownValue","getDropdownOptions","getSelectedCheckboxValue","updateTextFieldValue","setDropdownValue","renderOptionLabel","optionType","getOptionType","requiredSelected","getIsRequiredSelected","selectedItems","isRequired","reduce","acc","priceType","price","formatPrice","fieldValue","parseInt","values","option_type_id","price_type","_ProductCustomizableOptionContainer","MAX_ZOOM_SCALE","IMAGE_TYPE","VIDEO_TYPE","PLACEHOLDER_TYPE","THUMBNAIL_KEY","AMOUNT_OF_PLACEHOLDERS","PRODUCT_GALERY_POPUP_ID","VIDEO_POPUP_ID","VIMEO_FORMAT","RegExp","YOUTUBE_FORMAT","BreadcrumbsDispatcher","MetaDispatcher","ProductDispatcher","isOffline","OfflineReducer","ProductReducer","navigation","NavigationReducer","TOP_NAVIGATION_TYPE","metaTitle","MetaReducer","changeHeaderState","changeNavigationState","BOTTOM_NAVIGATION_TYPE","requestProduct","handleData","setBigOfflineNotice","isBig","updateBreadcrumbs","breadcrumbs","updateWithProduct","updateMetaFromProduct","goToPreviousNavigationState","updateRecentlyViewedProducts","products","ProductPageContainer","parameters","selectedBundlePrice","currentProductSKU","updateConfigurableVariant","getLink","setBundlePrice","setOfflineNoticeSize","productSKU","getDataSource","productOrVariant","getProductOrVariant","dataSource","getAreDetailsLoaded","updateNavigationState","updateMeta","updateHeaderState","scrollTopIfPreviousPageWasPLP","prevProductSKU","prevSku","prevOptions","prevItems","stateSKU","history","debounce","LOADING_TIME","JSON","stringify","getRequiredProductOptions","_addToRecentlyViewedProducts","navigationStateHistory","prevPageId","prevName","beforePrevName","CATEGORY","DEFAULT_STATE_NAME","scrollTo","location","search","pathname","obj","convertQueryStringToKeyValuePairs","query","objectToUri","required","updateArray","hasOwnProperty","getIsConfigurableParameterSelected","toString","getNewParameters","updateUrl","updateConfigurableVariantIndex","updateQueryParamWithoutHistory","removeQueryParamWithoutHistory","configurable_options","newIndex","getVariantIndex","currentVariantIndex","getConfigurableVariantIndex","stateProduct","isSingleProduct","getProductRequestFilter","MENU_TAB","PDP","onBackClick","back","prevSKU","entries","_ProductPageContainer","withRouter","ProductActionsContainer","showOnlyIfLoaded","getIsOptionInCurrentVariant","setQuantity","setGroupedProductQuantity","_setGroupedProductQuantity","clearGroupedProductQuantity","_clearGroupedProductQuantity","getIsConfigurableAttributeAvailable","onConfigurableProductError","onProductError","configurableOptionsRef","onGroupedProductError","groupedProductsRef","minQuantity","getMinQuantity","maxQuantity","getMaxQuantity","_getGroupedProductQuantity","productPrice","getProductPrice","productName","getProductName","offerCount","getOfferCount","offerType","getOfferType","stockMeta","getStockMeta","metaLink","getMetaLink","scrollIntoView","behavior","classList","remove","add","attribute","attribute_code","attribute_value","isAttributeSelected","parameterPairs","selectedAttributes","attributes","foundValue","origin","replace","price_range","minimum_price","currency","regular_price","priceValue","discount","percent_off","final_price","expression","content","placeholder","stock_item","min_sale_qty","max_sale_qty","minQty","maxQty","_ProductActionsContainer","GroupedProductList","qty","defaultQuantity","renderProductList","_GroupedProductList","GroupedProductsItemContainer","changeCount","itemCount","_getCurrentQuantity","_GroupedProductsItemContainer","ProductBundleItemsContainer","updateQuantity","getItemsPrice","getOptionPrice","selectedValues","optionId","totalPrice","bundleOptions","bundlePrice","getTotalPrice","newItemData","el","propTypes","ProductItemsType","func","_ProductBundleItemsContainer","ProductCustomizableOptions","renderContent","_ProductCustomizableOptions","ProductCustomizableOption","renderMap","CHECKBOX","render","renderCheckboxValues","renderTitle","DROPDOWN","renderDropdownValues","TEXT_FIELD","renderTextField","renderTextFieldTitle","AREA_FIELD","renderOptionCheckboxValue","priceLabel","onChange","mainTitle","titleBold","dropdownOptions","selectOptions","max_characters","data","renderRequired","renderOptionDropdownValues","fieldType","maxLength","renderMaxCharacters","optionRenderMap","heading","isContentExpanded","_ProductCustomizableOption","ProductBundleItemContainer","setDropdownItemQuantity","getDefaultValues","setDefaultDropdownValue","setDefaultCheckboxValue","is_default","getSelectedOptionData","can_change_quantity","finalPrice","dropdownLabel","_ProductBundleItemContainer","ProductAttributesContainer","attributesWithValues","_getAttributesWithValues","attribute_label","valueIndexFromParameter","_ProductAttributesContainer","ProductGalleryContainer","handleZoomChange","disableZoom","handleImageZoomPopupActiveChange","isZoomEnabled","isImageZoomPopupActive","gallery","getGalleryPictures","_getProductName","productId","handleImageZoomPopupClose","prevProdId","media_gallery_entries","mediaGallery","srcMedia","types","position","includes","fill","media_type","placeholders","thumbnail","base","document","documentElement","scale","onClose","activeImageId","popupId","to","SharedTransitionContainer","registerSharedElementDestination","_ProductGalleryContainer","showPopup","payload","hideActiveOverlay","ImageZoomPopupContainer","prevIsActive","clickOutside","contentMix","_ImageZoomPopupContainer","TranslateOnCursorMove","d","b","setPrototypeOf","__proto__","p","__extends","constructor","prototype","create","assign","t","s","n","arguments","apply","initialState","wrapperComponent","contentComponent","previousScale","positionX","positionY","transformEnabled","minPositionX","maxPositionX","minPositionY","maxPositionY","minScale","maxScale","limitToBounds","limitToWrapper","centerContent","wrapperClass","contentClass","wheel","step","wheelEnabled","touchPadEnabled","limitsOnWheel","pan","panAnimationType","lockAxisX","lockAxisY","velocity","velocityEqualToMove","velocitySensitivity","velocityActiveScale","velocityMinSpeed","velocityBaseTime","velocityAnimationType","padding","paddingSize","panReturnAnimationTime","panReturnAnimationType","disableOnTarget","pinch","zoomIn","animation","animationType","animationTime","zoomOut","doubleClick","mode","reset","scalePadding","size","roundNumber","num","decimal","Number","toFixed","checkIsNumber","defaultValue","boundLimiter","minBound","maxBound","getDistance","firstPoint","secondPoint","sqrt","pow","pageX","pageY","deleteUndefinedProps","newObject","forEach","handleCallback","handleWheelStop","previousEvent","stateProvider","sign","deltaY","mergeProps","dynamicProps","curr","availableAnimations","easeOut","cos","PI","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","handleDisableAnimation","mounted","cancelAnimationFrame","animate","animationName","startTime","Date","getTime","frameTime","requestAnimationFrame","animateComponent","targetState","speed","scaleDiff","positionXDiff","positionYDiff","applyTransformation","checkZoomBounds","zoom","zoomPadding","enablePadding","minScaleWithPadding","isNaN","checkPositionBounds","bounds","paddingValue","paddingX","paddingY","y","wheelMousePosition","contentRect","mouseX","left","mouseY","top","console","error","handleCalculatePositions","newScale","scaleDifference","newPositionX","newPositionY","getClientPosition","handlePanning","startCoords","positions","calculatedPosition","handlePaddingAnimation","handlePanningAnimation","handlePanToBounds","xChanged","yChanged","mousePosX","mousePosY","handleCalculateZoom","delta","disablePadding","getTarget","isBtnFunction","targetScale","innerWidth","wrapperToWindowScale","max","min","paddingEnabled","handleCalculateBounds","wrapperWidth","wrapperHeight","newContentWidth","newContentHeight","newDiffWidth","newDiffHeight","diffWidth","diffHeight","scaleWidthFactor","scaleHeightFactor","calculateBoundingArea","handleWheelZoom","stopPropagation","customDelta","getDelta","ctrlKey","isLimitedToBounds","handleZoomToPoint","isDisabled","mousePosition","handleDoubleClick","resetTransformations","time","getButtonAnimationTime","handleZoomControls","customStep","isZoomIn","animationSpeed","defaultScale","defaultPositionX","defaultPositionY","checkIfInfinite","Infinity","calculatePinchZoom","currentDistance","pinchStartDistance","pinchStartScale","handleZoomPinch","cancelable","firstPointX","firstPointY","getCurrentDistance","lastDistance","velocityTimeSpeed","handleEnableVelocity","startAnimation","handleFireVelocity","animateVelocity","velocityX","velocityY","targetX","targetY","newAnimationTime","maxTargetX","minTargetX","maxTargetY","minTargetY","startPosition","customReturnStep","returnAnimation","currentPositionX","getPosition","currentPositionY","calculateVelocityStart","now","lastMousePosition","distanceX","distanceY","interval","velocityTime","wrapperToWindowScaleX","wrapperToWindowScaleY","innerHeight","throttle","clearTimeout","isLocked","target","panReturnStep","offset","minTarget","maxTarget","newPosition","propsList","getValidPropsFromObject","Context","createContext","wheelStopEventTimer","wheelAnimationTimer","dynamicValues","defaultValues","windowToWrapperScaleX","windowToWrapperScaleY","isDown","distance","offsetX","offsetY","previousWheelEvent","lastScale","maxBounds","handleWheel","onWheelStart","onWheel","onWheelStop","getCallbackProps","checkPanningTarget","tag","toUpperCase","tagName","element","checkIsPanningActive","handleSetUpPanning","onPanningStart","handleStartPanning","contains","onPanning","handleStopPanning","onPanningStop","handlePinchStart","onPinchingStart","handlePinch","onPinching","handlePinchStop","onPinchingStop","handleTouch","handleTouchStop","Error","handleDbClick","setScale","setPositionX","newPosX","setPositionY","newPosY","setTransform","resetTransform","setDefaultState","forceUpdate","setWrapperComponent","setContentComponent","transform","style","WebkitTransform","setInterval","clearInterval","posX","posY","onZoomChange","componentDidMount","passiveOption","componentWillUnmount","componentDidUpdate","oldProps","oldState","wrapper","getWindowScaleY","loaded","Boolean","nodes","Provider","TransformWrapper","indexOf","getOwnPropertySymbols","propertyIsEnumerable","rest","StateProvider","css","insertAt","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","wrapperRef","contentRef","className","styles","Component","TransformComponent","contextType","CarouselScroll","activeItemId","itemRef","carouselRef","handleArrowClick","isNextArrow","handleChange","nextId","setTranslate","renderContentItem","child","showedItemCount","height","prevChildrenLength","childrenLength","prevActiveItemId","handleReset","showedActiveItemNr","getNextTranslate","showArrow","renderArrow","_CarouselScroll","CarouselScrollArrowContainer","_CarouselScrollArrowContainer","CarouselScrollItemContainer","_CarouselScrollItemContainer","ProductGalleryBaseImageContainer","alt","_getAlt","src","_getSrc","nextProps","mediaData","nextScale","INITIAL_SCALE","TRANSFORMATION_SPEED","TRANSFORMATION_DELAY","file","baseUrl","media","PRODUCT_MEDIA","_ProductGalleryBaseImageContainer","ProductGalleryThumbnailImage","renderVideo","renderImage","ratio","thumbnailUrl","renderMedia","_ProductGalleryThumbnailImage","PopupReducer","popupPayload","VideoPopup","VideoThumbnailContainer","onPlayClick","_onPlayClick","video_content","video_title","_VideoThumbnailContainer","ProductInformation","description","html","renderDescription","htmlString","trim","DOMParser","parseFromString","body","innerText","isHTMLWhiteSpaceOrUndefined","_ProductInformation","isEnabled","reviews_are_enabled","isGuestEnabled","reviews_allow_guest","REVIEW_POPUP_ID","showInfoNotification","ProductReviewsContainer","_showPopup","_ProductReviewsContainer","ReviewDispatcher","customer","MyAccountReducer","reviewRatings","addReview","submitProductReview","goToPreviousHeaderState","ProductReviewFormContainer","onReviewSubmitAttempt","_onReviewSubmitAttempt","onReviewSubmitSuccess","_onReviewSubmitSuccess","onStarRatingClick","_onStarRatingClick","handleNicknameChange","_handleFieldChange","handleSummaryChange","handleDetailChange","onReviewError","_onReviewError","reviewData","nickname","ratingData","invalidFields","reviewsAreNotValid","rating_id","fields","rating_data","detail","product_sku","success","fieldName","_ProductReviewFormContainer","RatingOptionItemType","rating_code","rating_options","ReviewStar","isChecked","checked","_ReviewStar","ProductReviewList","reviews","reviewItem","renderReviews","_ProductReviewList","ProductReviewItem","renderReviewListItemRating","ratingVoteItem","percent","itemType","itemScope","itemProp","summary","code","fixedDate","toDateString","getFormattedDate","rating_votes","renderAuthor","_ProductReviewItem","ProductTabs","onTabClick","activeTab","renderTab","tabNames","tabName","toLowerCase","defaultTab","childrenArray","any","renderAllTabs","renderActiveTab","renderTabs","_ProductTabs","ProductTab","_ProductTab","ProductPage","isGrey","renderProductCompareButton","renderCustomizableOptions","RELATED","UPSELL","renderProductPageContent","renderAdditionalSections","_ProductPage","ProductActions","stockStatus","renderStock","numberOfPlaceholders","isReady","short_description","htmlWithItemProp","renderShortDescriptionContent","brand","renderOfferCount","href","renderConfigurablePriceBadge","renderSchema","isSchemaRequired","variantsCount","renderPriceWithSchema","review_summary","rating_summary","review_count","rating","parseFloat","renderPriceWithGlobalSchema","renderShortDescription","renderQuantityInput","renderAddToCart","renderProductWishlistButton","renderNameAndBrand","renderSkuAndStock","renderConfigurableAttributes","renderBundleItems","renderGroupedItems","renderTierPrices","_ProductActions","GroupedProductsItem","thumb_url","path","renderQuantity","_GroupedProductsItem","ProductBundleItems","_ProductBundleItems","ProductBundleItem","MULTI","RADIO","SELECT","renderQtyInput","_ProductBundleItem","ProductAttributes","renderAttribute","attributeLabel","valueLabel","isFormattedAsText","renderAttributes","_ProductAttributes","ImageZoomPopup","_ImageZoomPopup","wrapperPageY","onMouseMove","_TranslateOnCursorMove","ProductGallery","imageRef","scrollEnabled","handleSliderClick","renderAdditionalPicture","index","zoomState","timeout","stopScrolling","context","renderSlide","updateSharedDestinationElement","prevProductId","prevPathname","limitToWrapperBounds","isZoomInCursor","renderAdditionalPictures","renderSlider","_ProductGallery","CarouselScrollArrow","_CarouselScrollArrow","CarouselScrollItem","_CarouselScrollItem","ProductGalleryBaseImage","display","_ProductGalleryBaseImage","loadVimeoLibrary","loadYouTubeLibrary","vimeoPromise","youTubePromise","cancel","videoId","Vimeo","vimeoComponent","autoplay","YouTube","youTubeComponent","containerClassName","opts","playerVars","makeCancelable","promise","vimeo","youTube","video_url","exec","vimeoId","_renderVimeoVideo","youtubeId","_renderYoutubeVideo","_renderVideoContent","_VideoPopup","VideoThumbnail","renderPlayIcon","_VideoThumbnail","ProductReviews","reviewCount","renderRatingSchema","renderNoRating","reviewSchemaObject","renderRatingData","renderButton","renderSummary","renderList","renderPopup","_ProductReviews","ProductReviewForm","ratingTitleMap","1","2","3","4","5","sort","renderReviewStar","renderReviewRating","validation","onSubmit","onSubmitSuccess","onSubmitError","renderReviewFormContent","_ProductReviewForm"],"mappings":"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","file":"static/js/14.61d05722.chunk.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductPage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\n\nexport const regionType = PropTypes.oneOfType([\n    PropTypes.shape({\n        region_code: PropTypes.string,\n        region: PropTypes.string,\n        region_id: PropTypes.number\n    })\n]);\n\nexport const addressType = PropTypes.shape({\n    city: PropTypes.string,\n    country_id: PropTypes.string,\n    customer_id: PropTypes.number,\n    default_billing: PropTypes.bool,\n    default_shipping: PropTypes.bool,\n    firstname: PropTypes.string,\n    id: PropTypes.number,\n    lastname: PropTypes.string,\n    middlename: PropTypes.string,\n    postcode: PropTypes.string,\n    prefix: PropTypes.string,\n    regionType,\n    street: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]),\n    suffix: PropTypes.string,\n    telephone: PropTypes.string\n});\n\nexport const addressesType = PropTypes.arrayOf(addressType);\n\nexport const customerType = PropTypes.shape({\n    addressesType,\n    created_at: PropTypes.string,\n    default_billing: PropTypes.string,\n    default_shipping: PropTypes.string,\n    dob: PropTypes.date,\n    email: PropTypes.string,\n    firstname: PropTypes.string,\n    group_id: PropTypes.number,\n    id: PropTypes.number,\n    is_subscribed: PropTypes.bool,\n    lastname: PropTypes.string,\n    middlename: PropTypes.string,\n    prefix: PropTypes.string,\n    suffix: PropTypes.string,\n    taxvat: PropTypes.string\n});\n\nexport const baseOrderInfoType = PropTypes.shape({\n    id: PropTypes.number,\n    increment_id: PropTypes.string,\n    created_at: PropTypes.string,\n    status_label: PropTypes.string,\n    grand_total: PropTypes.number,\n    subtotal: PropTypes.string\n});\n\n// TODO: remove objects\nexport const orderType = PropTypes.shape({\n    base_order_info: baseOrderInfoType,\n    order_products: PropTypes.array,\n    payment_info: PropTypes.object,\n    shipping_info: PropTypes.object\n});\n\nexport const ordersType = PropTypes.arrayOf(orderType);\n\nexport const DASHBOARD = 'dashboard';\nexport const MY_ORDERS = 'my-orders';\nexport const MY_WISHLIST = 'my-wishlist';\nexport const ADDRESS_BOOK = 'address-book';\nexport const NEWSLETTER_SUBSCRIPTION = 'newsletter-subscription';\n\nexport const activeTabType = PropTypes.string;\n\nexport const tabType = PropTypes.shape({\n    url: PropTypes.string,\n    name: PropTypes.string\n});\n\nexport const tabMapType = PropTypes.objectOf(tabType);\n\nexport const signInStateType = PropTypes.string;\n","/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType, MixType } from 'Type/Common';\n\nimport './Draggable.style';\n\n/** @namespace Component/Draggable/Component */\nexport class Draggable extends PureComponent {\n    static propTypes = {\n        shiftX: PropTypes.number,\n        shiftY: PropTypes.number,\n        onDragStart: PropTypes.func,\n        onClick: PropTypes.func,\n        onDragEnd: PropTypes.func,\n        handleFocus: PropTypes.func,\n        handleKey: PropTypes.func,\n        onDrag: PropTypes.func,\n        children: ChildrenType.isRequired,\n        mix: MixType,\n        draggableRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ])\n    };\n\n    static defaultProps = {\n        shiftX: 0,\n        shiftY: 0,\n        onDragStart: () => {},\n        onDragEnd: (state, callback) => {\n            const { translateX, translateY } = state;\n\n            callback({\n                originalX: 0,\n                originalY: 0,\n                shiftX: translateX,\n                shiftY: translateY\n            });\n        },\n        onClick: () => {},\n        onDrag: () => {},\n        handleFocus: () => {},\n        handleKey: () => {},\n        draggableRef: () => {},\n        mix: {}\n    };\n\n    state = {\n        isDragging: false,\n        originalX: 0,\n        translateX: 0,\n        lastTranslateX: 0,\n        originalY: 0,\n        translateY: 0,\n        lastTranslateY: 0\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { shiftX, shiftY } = props;\n        const { lastTranslateX, lastTranslateY } = state;\n        if (shiftX !== lastTranslateX || shiftY !== lastTranslateY) {\n            return {\n                lastTranslateX: shiftX,\n                lastTranslateY: shiftY\n            };\n        }\n\n        return null;\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n    }\n\n    handleTouchStart = ({ touches }) => {\n        window.addEventListener('touchmove', this.handleTouchMove);\n        window.addEventListener('touchend', this.handleTouchEnd);\n\n        if (touches.length === 1) {\n            this._handleDragStart(touches[0]);\n        }\n    };\n\n    handleMouseDown = (event) => {\n        window.addEventListener('mousemove', this.handleMouseMove);\n        window.addEventListener('mouseup', this.handleMouseUp);\n\n        event.preventDefault();\n        this._handleDragStart(event);\n    };\n\n    handleTouchMove = ({ touches }) => {\n        if (touches.length === 1) {\n            this.handleMouseMove(touches[0]);\n        }\n    };\n\n    handleMouseMove = ({ clientX, clientY }) => {\n        const { isDragging } = this.state;\n        const { shiftX, shiftY } = this.props;\n\n        if (!isDragging) {\n            return;\n        }\n\n        this.setState(({\n            originalX,\n            originalY\n        }) => ({\n            translateX: clientX - originalX + shiftX,\n            translateY: clientY - originalY + shiftY\n        }), () => {\n            const { onDrag } = this.props;\n            if (onDrag) {\n                onDrag({ ...this.state, clientX, clientY });\n            }\n        });\n    };\n\n    handleTouchEnd = () => {\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n\n        this._handleDragEnd();\n    };\n\n    handleMouseUp = () => {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n\n        this._handleDragEnd();\n    };\n\n    handleClick = (e) => {\n        const { onClick } = this.props;\n\n        if (onClick) {\n            onClick(\n                this.state,\n                (newState) => this.setState({\n                    ...newState,\n                    isDragging: false,\n                    translateX: 0,\n                    translateY: 0\n                }),\n                e\n            );\n        }\n    };\n\n    _handleDragStart({\n        clientX,\n        clientY\n    }) {\n        const { onDragStart } = this.props;\n\n        if (onDragStart) {\n            onDragStart();\n        }\n\n        this.setState({\n            originalX: clientX,\n            originalY: clientY,\n            isDragging: true\n        });\n    }\n\n    _handleDragEnd() {\n        const { onDragEnd } = this.props;\n\n        onDragEnd(this.state, (newState) => this.setState({\n            ...newState,\n            isDragging: false,\n            translateX: 0,\n            translateY: 0\n        }));\n\n        // TO STAY WHERE RELEASED\n        // originalX: 0,\n        // lastTranslateX: translateX,\n        // originalY: 0,\n        // lastTranslateY: translateY,\n\n        // TO RETURN INTO INITIAL\n        // originalX: 0,\n        // lastTranslateX: 0\n        // originalY: 0,\n        // lastTranslateY: 0\n    }\n\n    render() {\n        const {\n            children,\n            handleFocus,\n            handleKey,\n            draggableRef,\n            mix\n        } = this.props;\n\n        return (\n            <div\n              block=\"Draggable\"\n              mix={ mix }\n              ref={ draggableRef }\n              onMouseDown={ this.handleMouseDown }\n              onTouchStart={ this.handleTouchStart }\n              onClick={ this.handleClick }\n              onContextMenu={ this.handleClick }\n              onKeyDown={ handleKey }\n              onFocus={ handleFocus }\n              tabIndex={ 0 }\n              role=\"button\"\n              aria-label=\"Draggable area\"\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { ProductType } from 'Type/ProductList';\nimport { isSignedIn } from 'Util/Auth';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport AddToCart from './AddToCart.component';\n\nexport const CartDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Cart/Cart.dispatcher'\n);\n\nexport const WishlistDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Wishlist/Wishlist.dispatcher'\n);\n\n/** @namespace Component/AddToCart/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    wishlistItems: state.WishlistReducer.productsInWishlist\n});\n\n/** @namespace Component/AddToCart/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    addProduct: (options) => CartDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.addProductToCart(dispatch, options)\n    ),\n    removeFromWishlist: (options) => WishlistDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.removeItemFromWishlist(dispatch, options)\n    ),\n    showNotification: (type, message) => dispatch(showNotification(type, message))\n});\n\n/* @namespace Component/AddToCart/Container */\nexport class AddToCartContainer extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool,\n        product: ProductType.isRequired,\n        quantity: PropTypes.number,\n        configurableVariantIndex: PropTypes.number,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        showNotification: PropTypes.func.isRequired,\n        setQuantityToDefault: PropTypes.func,\n        addProduct: PropTypes.func.isRequired,\n        removeFromWishlist: PropTypes.func.isRequired,\n        wishlistItems: PropTypes.objectOf(ProductType).isRequired,\n        onProductValidationError: PropTypes.func,\n        productOptionsData: PropTypes.object.isRequired\n    };\n\n    static defaultProps = {\n        quantity: 1,\n        configurableVariantIndex: 0,\n        setQuantityToDefault: () => {},\n        onProductValidationError: () => {},\n        isLoading: false\n    };\n\n    state = { isLoading: false };\n\n    containerFunctions = {\n        buttonClick: this.buttonClick.bind(this)\n    };\n\n    validationMap = {\n        [CONFIGURABLE]: this.validateConfigurableProduct.bind(this),\n        [GROUPED]: this.validateGroupedProduct.bind(this),\n        [BUNDLE]: this.validateBundleProduct.bind(this)\n    };\n\n    addToCartHandlerMap = {\n        [CONFIGURABLE]: this.addConfigurableProductToCart.bind(this),\n        [GROUPED]: this.addGroupedProductToCart.bind(this)\n    };\n\n    validateConfigurableProduct() {\n        const {\n            configurableVariantIndex,\n            showNotification,\n            product: {\n                variants = []\n            }\n        } = this.props;\n\n        if (configurableVariantIndex < 0 || !variants[configurableVariantIndex]) {\n            showNotification('info', __('Please select product options!'));\n            return false;\n        }\n\n        const { stock_status: configurableStock } = variants[configurableVariantIndex];\n\n        if (configurableStock !== 'IN_STOCK') {\n            showNotification('info', __('Sorry! The selected product option is out of stock!'));\n            return false;\n        }\n\n        return true;\n    }\n\n    validateGroupedProduct() {\n        const {\n            groupedProductQuantity,\n            showNotification,\n            product: {\n                items\n            }\n        } = this.props;\n\n        const isAllItemsAvailable = items.some(({ product: { id } }) => groupedProductQuantity[id]);\n\n        if (!isAllItemsAvailable) {\n            showNotification('info', __('Please specify the quantity of product(s)!'));\n            return false;\n        }\n\n        return true;\n    }\n\n    validateBundleProduct() {\n        const {\n            productOptionsData,\n            showNotification\n        } = this.props;\n\n        const validateBundleOptions = this.validateCustomizableOptions(productOptionsData, true);\n\n        if (!validateBundleOptions) {\n            showNotification('info', __('Please select required option!'));\n            return false;\n        }\n\n        return true;\n    }\n\n    validateSimpleProduct() {\n        const {\n            productOptionsData,\n            showNotification\n        } = this.props;\n\n        const validateCustomizableOptions = this.validateCustomizableOptions(productOptionsData);\n\n        if (!validateCustomizableOptions) {\n            showNotification('info', __('Please select required option!'));\n            return false;\n        }\n\n        return true;\n    }\n\n    validateCustomizableOptions(productOptionsData, isBundle = false) {\n        const {\n            requiredOptions = {}\n        } = productOptionsData || {};\n\n        if (requiredOptions.length) {\n            const {\n                productOptions,\n                productOptionsMulti,\n                requiredOptions\n            } = productOptionsData;\n\n            return this.validateProductOptions(\n                [...productOptions || [], ...productOptionsMulti || []],\n                requiredOptions,\n                isBundle\n            );\n        }\n\n        return true;\n    }\n\n    validateProductOptions(items, requiredOptions, isBundle = false) {\n        // Make sure EVERY required option is FOUND in selected items\n        return requiredOptions.every((requiredOption) => (\n            items.find((item) => {\n                const { id, option_id } = item;\n                const matchWith = isBundle ? id : option_id;\n                return requiredOption === matchWith;\n            })\n        ));\n    }\n\n    validateAddToCart() {\n        const {\n            product: { type_id }\n        } = this.props;\n\n        const validationRule = this.validationMap[type_id];\n\n        if (validationRule) {\n            return validationRule();\n        }\n\n        return this.validateSimpleProduct();\n    }\n\n    addGroupedProductToCart() {\n        const {\n            product,\n            product: { items },\n            groupedProductQuantity,\n            addProduct\n        } = this.props;\n\n        Promise.all(items.map((item) => {\n            const { product: groupedProductItem } = item;\n\n            const newProduct = {\n                ...groupedProductItem,\n                parent: product\n            };\n\n            const quantity = groupedProductQuantity[groupedProductItem.id];\n\n            if (!quantity) {\n                return Promise.resolve();\n            }\n\n            return addProduct({\n                product: newProduct,\n                quantity\n            });\n        })).then(\n            /** @namespace Component/AddToCart/Container/addGroupedProductToCartPromiseAllThen */\n            () => this.afterAddToCart(),\n            /** @namespace Component/AddToCart/Container/addGroupedProductToCartPromiseAllCatch */\n            () => this.resetLoading()\n        );\n    }\n\n    addConfigurableProductToCart() {\n        const {\n            product,\n            quantity,\n            addProduct,\n            configurableVariantIndex,\n            productOptionsData\n        } = this.props;\n\n        addProduct({\n            product: {\n                ...product,\n                configurableVariantIndex\n            },\n            quantity,\n            productOptionsData\n        }).then(\n            /** @namespace Component/AddToCart/Container/addConfigurableProductToCartAddProductThen */\n            () => this.afterAddToCart(),\n            /** @namespace Component/AddToCart/Container/addConfigurableProductToCartAddProductCatch */\n            () => this.resetLoading()\n        );\n    }\n\n    addSimpleProductToCart() {\n        const {\n            product,\n            quantity,\n            addProduct,\n            productOptionsData\n        } = this.props;\n\n        addProduct({\n            product,\n            quantity,\n            productOptionsData\n        }).then(\n            /** @namespace Component/AddToCart/Container/addSimpleProductToCartAddProductThen */\n            () => this.afterAddToCart(),\n            /** @namespace Component/AddToCart/Container/addSimpleProductToCartAddProductCatch */\n            () => this.resetLoading()\n        );\n    }\n\n    addProductToCart() {\n        const {\n            product: { type_id }\n        } = this.props;\n\n        const addToCartHandler = this.addToCartHandlerMap[type_id];\n\n        if (addToCartHandler) {\n            addToCartHandler();\n            return;\n        }\n\n        this.addSimpleProductToCart();\n    }\n\n    buttonClick() {\n        const {\n            product: { type_id },\n            onProductValidationError\n        } = this.props;\n\n        if (!this.validateAddToCart()) {\n            onProductValidationError(type_id);\n            return;\n        }\n\n        this.setState({ isLoading: true }, () => this.addProductToCart());\n    }\n\n    resetLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    removeProductFromWishlist() {\n        const {\n            wishlistItems,\n            removeFromWishlist,\n            configurableVariantIndex,\n            product: { type_id, variants = {} } = {}\n        } = this.props;\n\n        if (type_id !== 'configurable') {\n            return;\n        }\n\n        const { sku } = variants[configurableVariantIndex];\n\n        const wishlistItemKey = Object.keys(wishlistItems)\n            .find((key) => {\n                const { wishlist: { sku: wSku } } = wishlistItems[key];\n                return wSku === sku;\n            });\n\n        if (!isSignedIn() || wishlistItemKey === undefined) {\n            return;\n        }\n\n        const { wishlist: { id: item_id } } = wishlistItems[wishlistItemKey];\n        removeFromWishlist({ item_id, sku, noMessage: true });\n    }\n\n    afterAddToCart() {\n        const {\n            showNotification,\n            setQuantityToDefault\n        } = this.props;\n\n        showNotification('success', __('Product added to cart!'));\n        setQuantityToDefault();\n\n        this.removeProductFromWishlist();\n        this.setState({ isLoading: false });\n    }\n\n    render() {\n        return (\n            <AddToCart\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToCartContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './Draggable.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductLinks from './ProductLinks.component';\n\n/** @namespace Component/ProductLinks/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    linkedProducts: state.LinkedProductsReducer.linkedProducts\n});\n\n/** @namespace Component/ProductLinks/Container */\nexport class ProductLinksContainer extends PureComponent {\n    static propTypes = {\n        linkedProducts: PropTypes.objectOf(ProductType).isRequired,\n        linkType: PropTypes.string.isRequired\n    };\n\n    state = {\n        siblingsHaveBrands: false,\n        siblingsHavePriceBadge: false,\n        siblingsHaveTierPrice: false,\n        siblingsHaveConfigurableOptions: false\n    };\n\n    containerProps() {\n        const {\n            siblingsHaveBrands,\n            siblingsHavePriceBadge,\n            siblingsHaveTierPrice,\n            siblingsHaveConfigurableOptions\n        } = this.state;\n\n        return {\n            productCardFunctions: {\n                setSiblingsHaveBrands: () => this.setState({ siblingsHaveBrands: true }),\n                setSiblingsHavePriceBadge: () => this.setState({ siblingsHavePriceBadge: true }),\n                setSiblingsHaveTierPrice: () => this.setState({ siblingsHaveTierPrice: true }),\n                setSiblingsHaveConfigurableOptions: () => this.setState({ siblingsHaveConfigurableOptions: true })\n            },\n            productCardProps: {\n                siblingsHaveBrands,\n                siblingsHavePriceBadge,\n                siblingsHaveTierPrice,\n                siblingsHaveConfigurableOptions\n            }\n        };\n    }\n\n    render() {\n        const {\n            linkType,\n            linkedProducts: {\n                [linkType]: {\n                    items = []\n                } = {}\n            }\n        } = this.props;\n\n        if (items.length === 0) {\n            return null;\n        }\n\n        return (\n            <ProductLinks\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\n/** @namespace Component/ProductLinks/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductLinksContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './AddToCart.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { MixType } from 'Type/Common';\nimport { ProductType } from 'Type/ProductList';\n\nimport './AddToCart.style';\n\n/**\n * Button for adding product to Cart\n * @class AddToCart\n * @namespace Component/AddToCart/Component\n */\nexport class AddToCart extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool,\n        product: ProductType,\n        mix: MixType,\n        buttonClick: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        product: {},\n        mix: {},\n        isLoading: false\n    };\n\n    renderPlaceholder() {\n        const { isLoading, mix } = this.props;\n\n        return (\n            <div\n              block=\"AddToCart\"\n              mods={ { isLoading, isPlaceholder: true } }\n              mix={ mix }\n            />\n        );\n    }\n\n    render() {\n        const {\n            mix,\n            product: { type_id },\n            isLoading,\n            buttonClick\n        } = this.props;\n\n        if (!type_id) {\n            this.renderPlaceholder();\n        }\n\n        return (\n            <button\n              onClick={ buttonClick }\n              block=\"Button AddToCart\"\n              mix={ mix }\n              mods={ { isLoading } }\n              disabled={ isLoading }\n            >\n                <span>{ __('Add to cart') }</span>\n                <span>{ __('Adding...') }</span>\n            </button>\n        );\n    }\n}\n\nexport default AddToCart;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport Slider from './Slider.component';\n\n/** @namespace Component/Slider/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/Slider/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/always-both-mappings\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Slider);\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const DEFAULT_MAX_PRODUCTS = 99;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductLinks.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductCard from 'Component/ProductCard';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductLinks.style';\n\n/** @namespace Component/ProductLinks/Component */\nexport class ProductLinks extends PureComponent {\n    static propTypes = {\n        numberOfProductsToDisplay: PropTypes.number,\n        areDetailsLoaded: PropTypes.bool,\n        linkedProducts: PropTypes.objectOf(ProductType).isRequired,\n        linkType: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        productCardProps: PropTypes.object.isRequired,\n        productCardFunctions: PropTypes.object.isRequired\n    };\n\n    static defaultProps = {\n        numberOfProductsToDisplay: 4,\n        areDetailsLoaded: true\n    };\n\n    renderProductCard = this.renderProductCard.bind(this);\n\n    renderProductCard(product, i) {\n        const {\n            productCardProps,\n            productCardFunctions\n        } = this.props;\n        const { id = i } = product;\n\n        return (\n            <ProductCard\n              block=\"ProductLinks\"\n              elem=\"Card\"\n              product={ product }\n              key={ id }\n              { ...productCardProps }\n              { ...productCardFunctions }\n            />\n        );\n    }\n\n    renderItems() {\n        const {\n            linkType,\n            linkedProducts: { [linkType]: { items } },\n            numberOfProductsToDisplay\n        } = this.props;\n\n        if (!items) {\n            return Array.from(\n                { length: numberOfProductsToDisplay },\n                (_, i) => this.renderProductCard({}, i)\n            );\n        }\n\n        return items.slice(0, numberOfProductsToDisplay).map(this.renderProductCard);\n    }\n\n    renderHeading() {\n        const { title } = this.props;\n\n        return (\n            <h4 block=\"ProductLinks\" elem=\"Title\">\n                { title }\n            </h4>\n        );\n    }\n\n    render() {\n        const { areDetailsLoaded } = this.props;\n\n        if (!areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              mix={ { block: 'ProductLinks' } }\n              wrapperMix={ { block: 'ProductLinks', elem: 'Wrapper' } }\n              label={ __('Linked products') }\n            >\n                { this.renderHeading() }\n                <ul block=\"ProductLinks\" elem=\"List\">\n                    { this.renderItems() }\n                </ul>\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductLinks;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './Slider.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Children, createRef, PureComponent } from 'react';\n\nimport Draggable from 'Component/Draggable';\nimport { ChildrenType, MixType } from 'Type/Common';\nimport { DeviceType } from 'Type/Device';\nimport CSS from 'Util/CSS';\n\nimport {\n    ACTIVE_SLIDE_PERCENT,\n    ANIMATION_DURATION,\n    HEIGHT_TRANSITION_SPEED_ON_MOUNT\n} from './Slider.config';\n\nimport './Slider.style';\n\n/**\n * Slider component\n * @class Slider\n * @namespace Component/Slider/Component\n */\nexport class Slider extends PureComponent {\n    static propTypes = {\n        showCrumbs: PropTypes.bool,\n        activeImage: PropTypes.number,\n        onActiveImageChange: PropTypes.func,\n        mix: MixType,\n        children: ChildrenType.isRequired,\n        isInteractionDisabled: PropTypes.bool,\n        device: DeviceType.isRequired,\n        onClick: PropTypes.func,\n        isVertical: PropTypes.bool,\n        isHeightTransitionDisabledOnMount: PropTypes.bool,\n        sliderHeight: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string\n        ]),\n        sliderRef: PropTypes.object\n    };\n\n    static defaultProps = {\n        activeImage: 0,\n        onActiveImageChange: () => {},\n        showCrumbs: false,\n        isInteractionDisabled: false,\n        mix: {},\n        onClick: null,\n        isVertical: false,\n        isHeightTransitionDisabledOnMount: false,\n        sliderHeight: null,\n        sliderRef: null\n    };\n\n    sliderWidth = 0;\n\n    prevPosition = 0;\n\n    draggableRef = createRef();\n\n    sliderRef = createRef();\n\n    handleDragStart = this.handleInteraction.bind(this, this.handleDragStart);\n\n    handleDrag = this.handleInteraction.bind(this, this.handleDrag);\n\n    handleDragEnd = this.handleInteraction.bind(this, this.handleDragEnd);\n\n    renderCrumb = this.renderCrumb.bind(this);\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { activeImage } = this.props;\n\n        this.state = {\n            prevActiveImage: activeImage\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { activeImage, children } = props;\n        const { prevActiveImage } = state;\n\n        if (prevActiveImage !== activeImage && children.length !== 1) {\n            return { prevActiveImage: activeImage };\n        }\n\n        return null;\n    }\n\n    componentDidMount() {\n        this.addWindowResizeWatcher();\n\n        if (!this.getIsSlider()) {\n            return;\n        }\n\n        const sliderChildren = this.draggableRef.current.children;\n        const sliderWidth = this.draggableRef.current.offsetWidth;\n        this.sliderWidth = sliderWidth;\n\n        if (!sliderChildren || !sliderChildren[0]) {\n            return;\n        }\n\n        this.setStyleVariablesOnMount();\n\n        const sliderRef = this.getSliderRef();\n        const sliderHeight = `${ sliderChildren[0].offsetHeight }px`;\n\n        sliderChildren[0].onload = () => {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        };\n\n        setTimeout(() => {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        }, ANIMATION_DURATION);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { activeImage: prevActiveImage } = prevProps;\n        const { activeImage } = this.props;\n\n        if (activeImage !== prevActiveImage && this.getIsSlider()) {\n            const newTranslate = -activeImage * this.getSlideWidth();\n\n            this.setAnimationSpeedStyle(Math.abs((prevActiveImage - activeImage) * ANIMATION_DURATION));\n            this.setTranlateXStyle(newTranslate);\n        }\n    }\n\n    addWindowResizeWatcher() {\n        window.addEventListener('resize', () => {\n            const { activeImage } = this.props;\n            const newTranslate = -activeImage * this.getSlideWidth();\n\n            this.setTranlateXStyle(newTranslate);\n\n            // Removed animation to avoid image movement while changing window width.\n            this.setAnimationSpeedStyle(0);\n\n            const delay = 500;\n            setTimeout(() => {\n                this.setAnimationSpeedStyle();\n            }, delay);\n        });\n    }\n\n    setStyleVariablesOnMount() {\n        const { sliderHeight, isHeightTransitionDisabledOnMount, activeImage } = this.props;\n\n        const sliderRef = this.getSliderRef();\n\n        if (isHeightTransitionDisabledOnMount) {\n            const transitionSpeed = isHeightTransitionDisabledOnMount\n                ? 0\n                : `${ HEIGHT_TRANSITION_SPEED_ON_MOUNT }ms`;\n\n            CSS.setVariable(\n                sliderRef,\n                'height-transition-speed',\n                transitionSpeed\n            );\n        }\n\n        if (sliderHeight) {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        }\n\n        const newTranslate = -activeImage * this.getSlideWidth();\n        this.setTranlateXStyle(newTranslate);\n    }\n\n    setTranlateXStyle(translate) {\n        const { isVertical } = this.props;\n\n        CSS.setVariable(this.draggableRef, isVertical ? 'translateY' : 'translateX', `${ translate }px`);\n    }\n\n    setAnimationSpeedStyle(animationDuration = ANIMATION_DURATION) {\n        CSS.setVariable(this.draggableRef, 'animation-speed', `${ animationDuration }ms`);\n    }\n\n    getIsSlider() {\n        const { children } = this.props;\n\n        return children.length > 0;\n    }\n\n    getSlideWidth() {\n        const { isVertical } = this.props;\n        const { offsetWidth = 0, offsetHeight = 0 } = this.draggableRef.current || {};\n\n        return isVertical ? offsetHeight : offsetWidth;\n    }\n\n    getSliderRef() {\n        const { sliderRef } = this.props;\n\n        return sliderRef || this.sliderRef;\n    }\n\n    onClickChangeSlide(state, slideSize, lastTranslate, fullSliderSize) {\n        const { originalX } = state;\n        const { prevActiveImage: prevActiveSlider } = this.state;\n        const { onActiveImageChange, device, onClick } = this.props;\n\n        if (onClick) {\n            onClick();\n\n            return -prevActiveSlider;\n        }\n\n        const fullSliderPoss = Math.round(fullSliderSize / slideSize);\n        const elementPossitionInDOM = this.draggableRef.current.getBoundingClientRect().x;\n\n        const sliderPossition = -prevActiveSlider;\n        const realElementPossitionInDOM = elementPossitionInDOM - lastTranslate;\n        const mousePossitionInElement = originalX - realElementPossitionInDOM;\n\n        if (device.isMobile) {\n            return sliderPossition;\n        }\n\n        if (slideSize / 2 < mousePossitionInElement && -fullSliderPoss < sliderPossition) {\n            const activeSlide = sliderPossition - 1;\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        if (slideSize / 2 > mousePossitionInElement && lastTranslate) {\n            const activeSlide = sliderPossition + 1;\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        return sliderPossition;\n    }\n\n    getFullSliderWidth() {\n        const { isVertical } = this.props;\n        const { scrollWidth: fullSliderWidth, scrollHeight } = this.draggableRef.current;\n\n        const width = isVertical ? scrollHeight : fullSliderWidth;\n\n        return width - this.getSlideWidth();\n    }\n\n    calculateNextSlide(state) {\n        const { isVertical } = this.props;\n        const {\n            translateX,\n            translateY,\n            lastTranslateX,\n            lastTranslateY\n        } = state;\n\n        const lastTranslate = isVertical ? lastTranslateY : lastTranslateX;\n        const translate = isVertical ? translateY : translateX;\n\n        const { onActiveImageChange } = this.props;\n\n        const slideSize = this.getSlideWidth();\n\n        const fullSliderSize = this.getFullSliderWidth();\n\n        const activeSlidePosition = translate / slideSize;\n        const activeSlidePercent = Math.abs(activeSlidePosition % 1);\n        const isSlideBack = translate > lastTranslate;\n\n        if (!translate) {\n            return this.onClickChangeSlide(state, slideSize, lastTranslate, fullSliderSize);\n        }\n\n        if (translate >= 0) {\n            onActiveImageChange(0);\n            return 0;\n        }\n\n        if (translate < -fullSliderSize) {\n            const activeSlide = Math.round(fullSliderSize / -slideSize);\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        if (isSlideBack && activeSlidePercent < 1 - ACTIVE_SLIDE_PERCENT) {\n            const activeSlide = Math.ceil(activeSlidePosition);\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        if (!isSlideBack && activeSlidePercent > ACTIVE_SLIDE_PERCENT) {\n            const activeSlide = Math.floor(activeSlidePosition);\n            onActiveImageChange(-activeSlide);\n            return activeSlide;\n        }\n\n        const activeSlide = Math.round(activeSlidePosition);\n        onActiveImageChange(-activeSlide);\n        return activeSlide;\n    }\n\n    handleDragStart() {\n        this.setAnimationSpeedStyle(0);\n    }\n\n    handleDrag(state) {\n        const { isVertical } = this.props;\n        const { translateX, translateY } = state;\n\n        const translate = isVertical ? translateY : translateX;\n\n        const fullSliderSize = this.getFullSliderWidth();\n\n        if (translate < 0 && translate > -fullSliderSize) {\n            this.setTranlateXStyle(translate);\n        }\n    }\n\n    handleDragEnd(state, callback) {\n        const { isVertical } = this.props;\n        const activeSlide = this.calculateNextSlide(state);\n        const slideSize = this.getSlideWidth();\n        const newTranslate = activeSlide * slideSize;\n\n        this.setAnimationSpeedStyle();\n        this.setTranlateXStyle(newTranslate);\n\n        if (isVertical) {\n            callback({\n                originalY: newTranslate,\n                lastTranslateY: newTranslate\n            });\n\n            return;\n        }\n\n        callback({\n            originalX: newTranslate,\n            lastTranslateX: newTranslate\n        });\n    }\n\n    handleClick = (state, callback, e) => {\n        if (e.type === 'contextmenu') {\n            this.handleDragEnd(state, callback);\n        }\n    };\n\n    handleInteraction(callback, ...args) {\n        const { isInteractionDisabled } = this.props;\n\n        if (isInteractionDisabled || !callback) {\n            return;\n        }\n\n        callback.call(this, ...args);\n    }\n\n    changeActiveImage(activeImage) {\n        const { onActiveImageChange } = this.props;\n        onActiveImageChange(activeImage);\n    }\n\n    renderCrumbs() {\n        const { children } = this.props;\n        if (children.length <= 1) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"Slider\"\n              elem=\"Crumbs\"\n            >\n                { Children.map(children, this.renderCrumb) }\n            </div>\n        );\n    }\n\n    renderCrumb(_, i) {\n        const { activeImage } = this.props;\n        const isActive = i === Math.abs(-activeImage);\n\n        return (\n            <button\n              block=\"Slider\"\n              elem=\"Image\"\n              mods={ { type: 'single' } }\n              // eslint-disable-next-line react/jsx-no-bind\n              onClick={ () => this.changeActiveImage(i) }\n            >\n                <div\n                  block=\"Slider\"\n                  elem=\"Crumb\"\n                  mods={ { isActive } }\n                />\n            </button>\n        );\n    }\n\n    renderSliderContent() {\n        const { activeImage, children, isVertical } = this.props;\n\n        if (!this.getIsSlider()) {\n            return children;\n        }\n\n        return (\n            <Draggable\n              mix={ { block: 'Slider', elem: 'Wrapper', mods: { isVertical } } }\n              draggableRef={ this.draggableRef }\n              onDragStart={ this.handleDragStart }\n              onDragEnd={ this.handleDragEnd }\n              onDrag={ this.handleDrag }\n              onClick={ this.handleClick }\n              shiftX={ -activeImage * this.getSlideWidth() }\n              shiftY={ -activeImage * this.getSlideWidth() }\n            >\n                { children }\n            </Draggable>\n        );\n    }\n\n    render() {\n        const {\n            showCrumbs,\n            mix\n        } = this.props;\n\n        return (\n            <div\n              block=\"Slider\"\n              mix={ mix }\n              ref={ this.getSliderRef() }\n            >\n                { this.renderSliderContent() }\n                { showCrumbs && this.renderCrumbs() }\n            </div>\n        );\n    }\n}\n\nexport default Slider;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const ANIMATION_DURATION = 300;\nexport const HEIGHT_TRANSITION_SPEED_ON_MOUNT = 300;\nexport const ACTIVE_SLIDE_PERCENT = 0.1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { OptionsType } from 'Type/ProductList';\n\nimport ProductCustomizableOptions from './ProductCustomizableOptions.component';\n\n/** @namespace Component/ProductCustomizableOptions/Container */\nexport class ProductCustomizableOptionsContainer extends PureComponent {\n    static propTypes = {\n        options: OptionsType,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        options: []\n    };\n\n    state = {\n        isLoading: true,\n        selectedCheckboxValues: [],\n        selectedDropdownOptions: [],\n        textFieldValues: []\n    };\n\n    containerFunctions = {\n        setSelectedDropdownValue: this.setSelectedDropdownValue.bind(this),\n        setSelectedCheckboxValues: this.setSelectedCheckboxValues.bind(this),\n        setCustomizableOptionTextFieldValue: this.setCustomizableOptionTextFieldValue.bind(this)\n    };\n\n    componentDidMount() {\n        const { options } = this.props;\n\n        if (options) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { options } = this.props;\n        const {\n            selectedCheckboxValues,\n            selectedDropdownOptions,\n            textFieldValues,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedCheckboxValues: prevSelectedCheckboxValues,\n            selectedDropdownOptions: prevSelectedDropdownOptions,\n            textFieldValues: prevTextFieldValues\n        } = prevState;\n\n        if (options && isLoading) {\n            this.stopLoading();\n        }\n\n        if (selectedCheckboxValues !== prevSelectedCheckboxValues) {\n            this.updateSelectedOptionsArray();\n        }\n\n        if (textFieldValues !== prevTextFieldValues\n            || selectedDropdownOptions !== prevSelectedDropdownOptions\n        ) {\n            this.updateSelectedOptions();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    updateSelectedOptionsArray() {\n        const { getSelectedCustomizableOptions } = this.props;\n        const { selectedCheckboxValues } = this.state;\n        const customizableOptions = [];\n\n        customizableOptions.push(...customizableOptions, ...selectedCheckboxValues);\n        getSelectedCustomizableOptions(customizableOptions, true);\n    }\n\n    updateSelectedOptions() {\n        const { getSelectedCustomizableOptions } = this.props;\n        const {\n            selectedDropdownOptions,\n            textFieldValues\n        } = this.state;\n        const customizableOptions = [];\n\n        customizableOptions.push(\n            ...customizableOptions,\n            ...textFieldValues,\n            ...selectedDropdownOptions\n        );\n\n        getSelectedCustomizableOptions(customizableOptions);\n    }\n\n    setCustomizableOptionTextFieldValue(option_id, option_value) {\n        const { textFieldValues } = this.state;\n\n        if (!option_value) {\n            const filteredOptions = textFieldValues.filter((item) => item.option_id !== option_id);\n            return this.setState({ textFieldValues: filteredOptions });\n        }\n\n        const textFieldValue = { option_id, option_value };\n\n        if (textFieldValues.some(({ option_id: val }) => option_id === val)) {\n            const filteredItems = textFieldValues.filter((value) => value.option_id !== option_id);\n            return this.setState({ textFieldValues: filteredItems.concat(textFieldValue) });\n        }\n\n        return this.setState({ textFieldValues: [...textFieldValues, textFieldValue] });\n    }\n\n    setSelectedDropdownValue(value, option) {\n        const { selectedDropdownOptions } = this.state;\n        const { option_id } = option;\n\n        if (!value) {\n            const filteredOptions = selectedDropdownOptions.filter((item) => item.option_id !== option_id);\n            return this.setState({ selectedDropdownOptions: filteredOptions });\n        }\n\n        const optionData = { option_id, option_value: value };\n\n        if (selectedDropdownOptions.some(({ option_id: val }) => option_id === val)) {\n            const filteredItems = selectedDropdownOptions.filter((value) => value.option_id !== option_id);\n            return this.setState({ selectedDropdownOptions: filteredItems.concat(optionData) });\n        }\n\n        return this.setState({\n            selectedDropdownOptions:\n                [...selectedDropdownOptions, optionData]\n        });\n    }\n\n    setSelectedCheckboxValues(option_id, option_value) {\n        const { selectedCheckboxValues } = this.state;\n        const selectedValue = { option_id, option_value };\n\n        if (selectedCheckboxValues.some(({ option_value: val }) => option_value === val)) {\n            this.setState({\n                selectedCheckboxValues: selectedCheckboxValues.filter(\n                    (value) => value.option_value !== option_value\n                ) || []\n            });\n\n            return;\n        }\n\n        this.setState({\n            selectedCheckboxValues: [...selectedCheckboxValues, selectedValue]\n        });\n    }\n\n    render() {\n        return (\n            <ProductCustomizableOptions\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default ProductCustomizableOptionsContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { formatPrice } from 'Util/Price';\n\nimport ProductCustomizableOption from './ProductCustomizableOption.component';\n\n/** @namespace Component/ProductCustomizableOption/Container */\nexport class ProductCustomizableOptionContainer extends PureComponent {\n    static propTypes = {\n        option: PropTypes.object.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        setCustomizableOptionTextFieldValue: PropTypes.func.isRequired,\n        setSelectedDropdownValue: PropTypes.func.isRequired\n    };\n\n    state = {\n        textValue: '',\n        selectedDropdownValue: 0\n    };\n\n    containerFunctions = {\n        getDropdownOptions: this.getDropdownOptions.bind(this),\n        getSelectedCheckboxValue: this.getSelectedCheckboxValue.bind(this),\n        updateTextFieldValue: this.updateTextFieldValue.bind(this),\n        setDropdownValue: this.setDropdownValue.bind(this),\n        renderOptionLabel: this.renderOptionLabel.bind(this)\n    };\n\n    containerProps = () => ({\n        optionType: this.getOptionType(),\n        requiredSelected: this.getIsRequiredSelected()\n    });\n\n    getOptionType() {\n        const { option } = this.props;\n        const { type } = option;\n\n        return type;\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { option_id }) => {\n            if (isRequired[0] === option_id) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    renderOptionLabel(priceType, price) {\n        switch (priceType) {\n        case 'PERCENT':\n            return `${ price }%`;\n        default:\n            /* TODO: get currency code */\n            return formatPrice(price);\n        }\n    }\n\n    getSelectedCheckboxValue(value) {\n        const { option, setSelectedCheckboxValues } = this.props;\n        const { option_id } = option;\n\n        setSelectedCheckboxValues(option_id, value);\n    }\n\n    updateTextFieldValue(value) {\n        const { option, setCustomizableOptionTextFieldValue } = this.props;\n        const { option_id } = option;\n\n        setCustomizableOptionTextFieldValue(option_id, value);\n        this.setState({ fieldValue: value });\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            setSelectedDropdownValue(value, option);\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n        }\n    }\n\n    getDropdownOptions(values) {\n        return values.reduce((acc, {\n            option_type_id, title, price, price_type\n        }) => {\n            acc.push({\n                id: option_type_id,\n                name: title,\n                value: option_type_id,\n                label: `${title} + ${this.renderOptionLabel(price_type, price)}`\n            });\n\n            return acc;\n        }, []);\n    }\n\n    render() {\n        return (\n            <ProductCustomizableOption\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductCustomizableOptionContainer;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const MAX_ZOOM_SCALE = 8;\n\nexport const IMAGE_TYPE = 'image';\nexport const VIDEO_TYPE = 'external-video';\nexport const PLACEHOLDER_TYPE = 'placeholder';\n\nexport const THUMBNAIL_KEY = 'small_image';\nexport const AMOUNT_OF_PLACEHOLDERS = 0;\n\nexport const PRODUCT_GALERY_POPUP_ID = 'ProductGalleryPopup';\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const VIDEO_POPUP_ID = 'VIDEO_POPUP_ID';\n\n/**\n * An expression that checks for vimeo URLs described in https://developer.vimeo.com/api/oembed/videos#table-1 and matches the video id\n * @type {RegExp}\n */\nexport const VIMEO_FORMAT = new RegExp('(?:https?//)?vimeo.com[\\\\w/]*/(\\\\d+)$');\nexport const YOUTUBE_FORMAT = new RegExp('(?:https?//)?www.youtube.com/watch\\\\?v=(\\\\w+)');\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport { CATEGORY, PDP } from 'Component/Header/Header.config';\nimport { DEFAULT_STATE_NAME } from 'Component/NavigationAbstract/NavigationAbstract.config';\nimport { MENU_TAB } from 'Component/NavigationTabs/NavigationTabs.config';\nimport { LOADING_TIME } from 'Route/CategoryPage/CategoryPage.config';\nimport { changeNavigationState, goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { BOTTOM_NAVIGATION_TYPE, TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { setBigOfflineNotice } from 'Store/Offline/Offline.action';\nimport { updateRecentlyViewedProducts } from 'Store/RecentlyViewedProducts/RecentlyViewedProducts.action';\nimport { HistoryType, LocationType, MatchType } from 'Type/Common';\nimport { ProductType } from 'Type/ProductList';\nimport { getVariantIndex } from 'Util/Product';\nimport { debounce } from 'Util/Request';\nimport {\n    convertQueryStringToKeyValuePairs,\n    objectToUri,\n    removeQueryParamWithoutHistory,\n    updateQueryParamWithoutHistory\n} from 'Util/Url';\n\nimport ProductPage from './ProductPage.component';\n\nexport const BreadcrumbsDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Breadcrumbs/Breadcrumbs.dispatcher'\n);\n\nexport const MetaDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Meta/Meta.dispatcher'\n);\n\nexport const ProductDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Product/Product.dispatcher'\n);\n\n/** @namespace Route/ProductPage/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isOffline: state.OfflineReducer.isOffline,\n    product: state.ProductReducer.product,\n    navigation: state.NavigationReducer[TOP_NAVIGATION_TYPE],\n    metaTitle: state.MetaReducer.title,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Route/ProductPage/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    changeHeaderState: (state) => dispatch(changeNavigationState(TOP_NAVIGATION_TYPE, state)),\n    changeNavigationState: (state) => dispatch(changeNavigationState(BOTTOM_NAVIGATION_TYPE, state)),\n    requestProduct: (options) => {\n        // TODO: check linked products, there might be issues :'(\n        ProductDispatcher.then(\n            ({ default: dispatcher }) => dispatcher.handleData(dispatch, options)\n        );\n    },\n    setBigOfflineNotice: (isBig) => dispatch(setBigOfflineNotice(isBig)),\n    updateBreadcrumbs: (breadcrumbs) => BreadcrumbsDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.updateWithProduct(breadcrumbs, dispatch)\n    ),\n    updateMetaFromProduct: (product) => MetaDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.updateWithProduct(product, dispatch)\n    ),\n    goToPreviousNavigationState: (state) => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE, state)),\n    updateRecentlyViewedProducts: (products) => dispatch(updateRecentlyViewedProducts(products))\n});\n\n/** @namespace Route/ProductPage/Container */\nexport class ProductPageContainer extends PureComponent {\n    state = {\n        configurableVariantIndex: -1,\n        parameters: {},\n        productOptionsData: {},\n        selectedBundlePrice: 0,\n        currentProductSKU: ''\n    };\n\n    containerFunctions = {\n        updateConfigurableVariant: this.updateConfigurableVariant.bind(this),\n        getLink: this.getLink.bind(this),\n        getSelectedCustomizableOptions: this.getSelectedCustomizableOptions.bind(this),\n        setBundlePrice: this.setBundlePrice.bind(this)\n    };\n\n    static propTypes = {\n        location: LocationType,\n        changeHeaderState: PropTypes.func.isRequired,\n        setBigOfflineNotice: PropTypes.func.isRequired,\n        changeNavigationState: PropTypes.func.isRequired,\n        updateMetaFromProduct: PropTypes.func.isRequired,\n        updateBreadcrumbs: PropTypes.func.isRequired,\n        requestProduct: PropTypes.func.isRequired,\n        isOffline: PropTypes.bool.isRequired,\n        productSKU: PropTypes.string,\n        product: ProductType.isRequired,\n        history: HistoryType.isRequired,\n        match: MatchType.isRequired,\n        goToPreviousNavigationState: PropTypes.func.isRequired,\n        navigation: PropTypes.shape(PropTypes.shape).isRequired,\n        metaTitle: PropTypes.string,\n        updateRecentlyViewedProducts: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        location: { state: {} },\n        productSKU: '',\n        metaTitle: undefined\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const {\n            product: {\n                sku,\n                variants,\n                configurable_options\n            },\n            location: { search }\n        } = props;\n\n        const { currentProductSKU: prevSKU } = state;\n\n        const currentProductSKU = prevSKU === sku ? '' : prevSKU;\n\n        /**\n         * If the product we expect to load is loaded -\n         * reset expected SKU\n         */\n        if (!configurable_options && !variants) {\n            return {\n                currentProductSKU\n            };\n        }\n\n        const parameters = Object.entries(convertQueryStringToKeyValuePairs(search))\n            .reduce((acc, [key, value]) => {\n                if (key in configurable_options) {\n                    return { ...acc, [key]: value };\n                }\n\n                return acc;\n            }, {});\n\n        if (Object.keys(parameters).length !== Object.keys(configurable_options).length) {\n            return {\n                parameters,\n                currentProductSKU\n            };\n        }\n\n        const configurableVariantIndex = getVariantIndex(variants, parameters);\n\n        return {\n            parameters,\n            currentProductSKU,\n            configurableVariantIndex\n        };\n    }\n\n    componentDidMount() {\n        /**\n         * Always make sure the navigation switches into the MENU tab\n         * */\n        this.updateNavigationState();\n\n        /**\n         * Ensure transition PDP => homepage => PDP always having proper meta\n         */\n        this.updateMeta();\n\n        /**\n         * Make sure to update header state, the data-source will\n         * define the correct information to use for update\n         * (it can be a product, history state product or an empty object).\n         */\n        this.updateHeaderState();\n        this.updateBreadcrumbs();\n\n        this.scrollTopIfPreviousPageWasPLP();\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            isOffline,\n            productSKU,\n            product: {\n                sku,\n                options,\n                items\n            }\n        } = this.props;\n\n        const {\n            productSKU: prevProductSKU,\n            product: {\n                sku: prevSku,\n                options: prevOptions,\n                items: prevItems\n            }\n        } = prevProps;\n\n        const { sku: stateSKU } = history?.state?.state?.product || {};\n\n        if (isOffline) {\n            debounce(this.setOfflineNoticeSize, LOADING_TIME)();\n        }\n\n        /**\n         * We should also update product based data if, the URL\n         * rewrite SKU has changed to matching the product history SKU\n         * one. At this point there could be sufficient data for\n         * some updates (i.e. header state).\n         */\n        if (\n            productSKU !== prevProductSKU\n            && stateSKU === productSKU\n        ) {\n            this.updateHeaderState();\n        }\n\n        /**\n         * If the currently loaded category ID does not match the ID of\n         * category ID from URL rewrite, request category.\n         */\n        if (productSKU !== sku) {\n            this.requestProduct();\n        }\n\n        /**\n         * If product ID was changed => it is loaded => we need to\n         * update product specific information, i.e. breadcrumbs.\n         */\n        if (sku !== prevSku) {\n            this.updateBreadcrumbs();\n            this.updateHeaderState();\n            this.updateMeta();\n        }\n\n        /**\n         * LEGACY: needed to make sure required items are\n         * selected in the bundle product.\n         */\n        if (JSON.stringify(options) !== JSON.stringify(prevOptions)) {\n            this.getRequiredProductOptions(options);\n        }\n\n        /**\n         * LEGACY needed to make sure required options are\n         * selected in the customizable options product.\n         */\n        if (JSON.stringify(items) !== JSON.stringify(prevItems)) {\n            this.getRequiredProductOptions(items);\n        }\n\n        this._addToRecentlyViewedProducts();\n    }\n\n    _addToRecentlyViewedProducts() {\n        const {\n            product,\n            product: { sku },\n            updateRecentlyViewedProducts\n        } = this.props;\n\n        // necessary for skipping not loaded products\n        if (!sku) {\n            return;\n        }\n\n        updateRecentlyViewedProducts(product);\n    }\n\n    scrollTopIfPreviousPageWasPLP() {\n        const {\n            navigation: {\n                navigationStateHistory,\n                navigationStateHistory: { length }\n            }\n        } = this.props;\n\n        const minNavStackLength = 2;\n\n        // When first load is PDP\n        if (length <= minNavStackLength) {\n            return;\n        }\n\n        // Minus two, one so array keys match length, one for previous item.\n        const prevPageId = length - 2;\n        const { name: prevName } = navigationStateHistory[prevPageId];\n\n        // One before prev page\n        const beforePrevPageId = prevPageId - 1;\n        const { name: beforePrevName } = navigationStateHistory[beforePrevPageId];\n\n        /**\n         * For some reason on desktop going from PLP to PDP\n         * in navigation stack is added default name between\n         */\n        if (CATEGORY === prevName || (beforePrevName === CATEGORY && prevName === DEFAULT_STATE_NAME)) {\n            window.scrollTo(0, 0);\n        }\n    }\n\n    setOfflineNoticeSize = () => {\n        const { setBigOfflineNotice, productSKU } = this.props;\n        const { sku } = this.getDataSource();\n\n        /**\n         * If there is any information about the product, in example,\n         * we know it's URL-rewrite SKU is matching the product SKU -\n         * show the small offline notice, else - show larger one.\n         */\n        if (sku !== productSKU) {\n            setBigOfflineNotice(true);\n        } else {\n            setBigOfflineNotice(false);\n        }\n    };\n\n    getLink(key, value) {\n        const { location: { search, pathname } } = this.props;\n        const obj = {\n            ...convertQueryStringToKeyValuePairs(search)\n        };\n\n        if (key) {\n            obj[key] = value;\n        }\n\n        const query = objectToUri(obj);\n\n        return `${pathname}${query}`;\n    }\n\n    getRequiredProductOptions(options) {\n        const { productOptionsData } = this.state;\n\n        if (!options) {\n            return [];\n        }\n\n        const requiredOptions = options.reduce((acc, { option_id, required }) => {\n            if (required) {\n                acc.push(option_id);\n            }\n\n            return acc;\n        }, []);\n\n        return this.setState({\n            productOptionsData:\n                { ...productOptionsData, requiredOptions }\n        });\n    }\n\n    setBundlePrice(price) {\n        this.setState({ selectedBundlePrice: price });\n    }\n\n    getSelectedCustomizableOptions(values, updateArray = false) {\n        const { productOptionsData } = this.state;\n\n        if (updateArray) {\n            this.setState({\n                productOptionsData:\n                    { ...productOptionsData, productOptionsMulti: values }\n            });\n        } else {\n            this.setState({\n                productOptionsData:\n                    { ...productOptionsData, productOptions: values }\n            });\n        }\n    }\n\n    getIsConfigurableParameterSelected(parameters, key, value) {\n        return Object.hasOwnProperty.call(parameters, key) && parameters[key] === value;\n    }\n\n    getNewParameters(key, value) {\n        const { parameters } = this.state;\n\n        // If value is already selected, than we remove the key to achieve deselection\n        if (this.getIsConfigurableParameterSelected(parameters, key, value)) {\n            const { [key]: oldValue, ...newParameters } = parameters;\n\n            return newParameters;\n        }\n\n        return {\n            ...parameters,\n            [key]: value.toString()\n        };\n    }\n\n    containerProps = () => ({\n        productOrVariant: this.getProductOrVariant(),\n        dataSource: this.getDataSource(),\n        areDetailsLoaded: this.getAreDetailsLoaded()\n    });\n\n    updateConfigurableVariant(key, value) {\n        const parameters = this.getNewParameters(key, value);\n        this.setState({ parameters });\n\n        this.updateUrl(key, value, parameters);\n        this.updateConfigurableVariantIndex(parameters);\n    }\n\n    updateUrl(key, value, parameters) {\n        const { location, history } = this.props;\n\n        const isParameterSelected = this.getIsConfigurableParameterSelected(parameters, key, value);\n\n        if (isParameterSelected) {\n            updateQueryParamWithoutHistory(key, value, history, location);\n        } else {\n            removeQueryParamWithoutHistory(key, history, location);\n        }\n    }\n\n    updateConfigurableVariantIndex(parameters) {\n        const { product: { variants, configurable_options } } = this.props;\n        const { configurableVariantIndex } = this.state;\n\n        const newIndex = Object.keys(parameters).length === Object.keys(configurable_options).length\n            ? getVariantIndex(variants, parameters)\n            // Not all parameters are selected yet, therefore variantIndex must be invalid\n            : -1;\n\n        if (configurableVariantIndex !== newIndex) {\n            this.setState({ configurableVariantIndex: newIndex });\n        }\n    }\n\n    getAreDetailsLoaded() {\n        const { product } = this.props;\n        const dataSource = this.getDataSource();\n        return dataSource === product;\n    }\n\n    getProductOrVariant() {\n        const dataSource = this.getDataSource();\n        const { variants } = dataSource;\n        const currentVariantIndex = this.getConfigurableVariantIndex(variants);\n        const variant = variants && variants[currentVariantIndex];\n\n        return variant || dataSource;\n    }\n\n    getConfigurableVariantIndex(variants) {\n        const { configurableVariantIndex, parameters } = this.state;\n\n        if (configurableVariantIndex >= 0) {\n            return configurableVariantIndex;\n        }\n\n        if (variants) {\n            return getVariantIndex(variants, parameters);\n        }\n\n        return -1;\n    }\n\n    getDataSource() {\n        const {\n            productSKU,\n            product\n        } = this.props;\n\n        const { sku } = product;\n        const { product: stateProduct } = history?.state?.state || {};\n        const { sku: stateSKU } = stateProduct || {};\n\n        /**\n         * If URL rewrite requested matches loaded product SKU\n         * assume it is a data-source.\n         */\n        if (productSKU === sku) {\n            return product;\n        }\n\n        /**\n         * If URL rewrite requested matches product SKU from\n         * history state - it is a data-source.\n         */\n        if (productSKU === stateSKU) {\n            return stateProduct;\n        }\n\n        /**\n         * Else there is no place to get a up-to-date\n         * information about the product from.\n         */\n        return {};\n    }\n\n    getProductRequestFilter() {\n        const { productSKU } = this.props;\n        return { productSKU };\n    }\n\n    requestProduct() {\n        const { requestProduct, productSKU } = this.props;\n        const { currentProductSKU } = this.state;\n\n        /**\n         * If URL rewrite was not passed - do not request the product.\n         */\n        if (!productSKU) {\n            return;\n        }\n\n        /**\n         * Skip loading the same product SKU the second time\n         */\n        if (currentProductSKU === productSKU) {\n            return;\n        }\n\n        this.setState({ currentProductSKU: productSKU });\n\n        const options = {\n            isSingleProduct: true,\n            args: { filter: this.getProductRequestFilter() }\n        };\n\n        requestProduct(options);\n    }\n\n    updateNavigationState() {\n        const { changeNavigationState } = this.props;\n        changeNavigationState({ name: MENU_TAB });\n    }\n\n    updateMeta() {\n        const { updateMetaFromProduct } = this.props;\n        updateMetaFromProduct(this.getDataSource());\n    }\n\n    updateHeaderState() {\n        const { name = '' } = this.getDataSource();\n        const { changeHeaderState } = this.props;\n\n        changeHeaderState({\n            name: PDP,\n            title: name,\n            onBackClick: () => history.back()\n        });\n    }\n\n    updateBreadcrumbs() {\n        const { updateBreadcrumbs } = this.props;\n        updateBreadcrumbs(this.getDataSource());\n    }\n\n    render() {\n        return (\n            <ProductPage\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    connect(mapStateToProps, mapDispatchToProps)(ProductPageContainer)\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ProductType } from 'Type/ProductList';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport ProductActions from './ProductActions.component';\nimport { DEFAULT_MAX_PRODUCTS } from './ProductActions.config';\n\n/** @namespace Component/ProductActions/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    groupedProductQuantity: state.ProductReducer.groupedProductQuantity,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/ProductActions/Container */\nexport class ProductActionsContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        productOrVariant: PropTypes.object.isRequired,\n        configurableVariantIndex: PropTypes.number.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        getLink: PropTypes.func.isRequired\n    };\n\n    static getMinQuantity(props) {\n        const {\n            product: { stock_item: { min_sale_qty } = {}, variants } = {},\n            configurableVariantIndex\n        } = props;\n\n        if (!min_sale_qty) {\n            return 1;\n        }\n        if (!configurableVariantIndex && !variants) {\n            return min_sale_qty;\n        }\n\n        const { stock_item: { min_sale_qty: minVariantQty } = {} } = variants[configurableVariantIndex] || {};\n\n        return minVariantQty || min_sale_qty;\n    }\n\n    static getMaxQuantity(props) {\n        const {\n            product: {\n                stock_item: {\n                    max_sale_qty\n                } = {},\n                variants\n            } = {},\n            configurableVariantIndex\n        } = props;\n\n        if (!max_sale_qty) {\n            return DEFAULT_MAX_PRODUCTS;\n        }\n\n        if (configurableVariantIndex === -1 || !Object.keys(variants).length) {\n            return max_sale_qty;\n        }\n\n        const {\n            stock_item: {\n                max_sale_qty: maxVariantQty\n            } = {}\n        } = variants[configurableVariantIndex] || {};\n\n        return maxVariantQty || max_sale_qty;\n    }\n\n    state = {\n        quantity: 1,\n        groupedProductQuantity: {}\n    };\n\n    containerFunctions = {\n        showOnlyIfLoaded: this.showOnlyIfLoaded.bind(this),\n        onProductValidationError: this.onProductValidationError.bind(this),\n        getIsOptionInCurrentVariant: this.getIsOptionInCurrentVariant.bind(this),\n        setQuantity: this.setQuantity.bind(this),\n        setGroupedProductQuantity: this._setGroupedProductQuantity.bind(this),\n        clearGroupedProductQuantity: this._clearGroupedProductQuantity.bind(this),\n        getIsConfigurableAttributeAvailable: this.getIsConfigurableAttributeAvailable.bind(this)\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { quantity } = state;\n        const minQty = ProductActionsContainer.getMinQuantity(props);\n        const maxQty = ProductActionsContainer.getMaxQuantity(props);\n\n        if (quantity < minQty) {\n            return { quantity: minQty };\n        }\n        if (quantity > maxQty) {\n            return { quantity: maxQty };\n        }\n\n        return null;\n    }\n\n    onConfigurableProductError = this.onProductError.bind(this, this.configurableOptionsRef);\n\n    onGroupedProductError = this.onProductError.bind(this, this.groupedProductsRef);\n\n    onProductError(ref) {\n        if (!ref) {\n            return;\n        }\n        const { current } = ref;\n\n        current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center'\n        });\n\n        current.classList.remove('animate');\n        // eslint-disable-next-line no-unused-expressions\n        current.offsetWidth; // trigger a DOM reflow\n        current.classList.add('animate');\n    }\n\n    onProductValidationError(type) {\n        switch (type) {\n        case CONFIGURABLE:\n            this.onConfigurableProductError();\n            break;\n        case GROUPED:\n            this.onGroupedProductError();\n            break;\n        default:\n            break;\n        }\n    }\n\n    setQuantity(value) {\n        this.setState({ quantity: +value });\n    }\n\n    // TODO: make key=>value based\n    getIsOptionInCurrentVariant(attribute, value) {\n        const { configurableVariantIndex, product: { variants } } = this.props;\n        if (!variants) {\n            return false;\n        }\n\n        return variants[configurableVariantIndex].product[attribute] === value;\n    }\n\n    getIsConfigurableAttributeAvailable({ attribute_code, attribute_value }) {\n        const { parameters, product: { variants } } = this.props;\n\n        const isAttributeSelected = Object.hasOwnProperty.call(parameters, attribute_code);\n\n        // If value matches current attribute_value, option should be enabled\n        if (isAttributeSelected && parameters[attribute_code] === attribute_value) {\n            return true;\n        }\n\n        const parameterPairs = Object.entries(parameters);\n\n        const selectedAttributes = isAttributeSelected\n            // Need to exclude itself, otherwise different attribute_values of the same attribute_code will always be disabled\n            ? parameterPairs.filter(([key]) => key !== attribute_code)\n            : parameterPairs;\n\n        return variants\n            .some(({ stock_status, attributes }) => {\n                const { attribute_value: foundValue } = attributes[attribute_code] || {};\n\n                return (\n                    stock_status === 'IN_STOCK'\n                    // Variant must have currently checked attribute_code and attribute_value\n                    && foundValue === attribute_value\n                    // Variant must have all currently selected attributes\n                    && selectedAttributes.every(([key, value]) => attributes[key].attribute_value === value)\n                );\n            });\n    }\n\n    containerProps = () => ({\n        minQuantity: ProductActionsContainer.getMinQuantity(this.props),\n        maxQuantity: ProductActionsContainer.getMaxQuantity(this.props),\n        groupedProductQuantity: this._getGroupedProductQuantity(),\n        productPrice: this.getProductPrice(),\n        productName: this.getProductName(),\n        offerCount: this.getOfferCount(),\n        offerType: this.getOfferType(),\n        stockMeta: this.getStockMeta(),\n        metaLink: this.getMetaLink()\n    });\n\n    getProductName() {\n        const {\n            product,\n            product: { variants = [] },\n            configurableVariantIndex\n        } = this.props;\n\n        const {\n            name\n        } = variants[configurableVariantIndex] || product;\n\n        return name;\n    }\n\n    getMetaLink() {\n        const { getLink } = this.props;\n        return window.location.origin + getLink().replace(/\\?.*/, '');\n    }\n\n    getStockMeta() {\n        const {\n            product,\n            product: { variants = [] },\n            configurableVariantIndex\n        } = this.props;\n\n        const {\n            stock_status\n        } = variants[configurableVariantIndex] || product;\n\n        if (stock_status === 'OUT_OF_STOCK') {\n            return 'https://schema.org/OutOfStock';\n        }\n\n        return 'https://schema.org/InStock';\n    }\n\n    getOfferType() {\n        const { product: { variants } } = this.props;\n\n        if (variants && variants.length >= 1) {\n            return 'https://schema.org/AggregateOffer';\n        }\n\n        return 'https://schema.org/Offer';\n    }\n\n    getOfferCount() {\n        const { product: { variants } } = this.props;\n\n        if (variants && variants.length) {\n            return variants.length;\n        }\n\n        return 0;\n    }\n\n    getProductPrice() {\n        const {\n            product,\n            product: { variants = [], type_id },\n            configurableVariantIndex,\n            selectedBundlePrice\n        } = this.props;\n\n        const {\n            price_range\n        } = variants[configurableVariantIndex] || product;\n\n        if (type_id === BUNDLE) {\n            const {\n                price_range: {\n                    minimum_price: {\n                        regular_price: { currency },\n                        discount: { percent_off }\n                    }\n                }\n            } = product;\n\n            // eslint-disable-next-line no-magic-numbers\n            const finalBundlePrice = selectedBundlePrice - (selectedBundlePrice * (percent_off / 100));\n\n            const priceValue = { value: finalBundlePrice, currency };\n\n            return {\n                minimum_price: {\n                    final_price: priceValue,\n                    regular_price: priceValue\n                }\n            };\n        }\n\n        return price_range;\n    }\n\n    _getGroupedProductQuantity() {\n        const { groupedProductQuantity } = this.state;\n        return groupedProductQuantity;\n    }\n\n    _setGroupedProductQuantity(id, value) {\n        this.setState(({ groupedProductQuantity }) => ({\n            groupedProductQuantity: {\n                ...groupedProductQuantity,\n                [id]: value\n            }\n        }));\n    }\n\n    _clearGroupedProductQuantity() {\n        this.setState({ groupedProductQuantity: {} });\n    }\n\n    showOnlyIfLoaded(expression, content, placeholder = content) {\n        const { areDetailsLoaded } = this.props;\n\n        if (!areDetailsLoaded) {\n            return placeholder;\n        }\n        if (areDetailsLoaded && !expression) {\n            return null;\n        }\n\n        return content;\n    }\n\n    render() {\n        return (\n            <ProductActions\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/ProductActions/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductActionsContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport GroupedProductsItem from 'Component/GroupedProductsItem';\nimport { ProductType } from 'Type/ProductList';\n\n/**\n * Product description\n * @class GroupedProductList\n * @namespace Component/GroupedProductList/Component\n */\nexport class GroupedProductList extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        clearGroupedProductQuantity: PropTypes.func.isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired\n    };\n\n    componentWillUnmount() {\n        const { clearGroupedProductQuantity } = this.props;\n        clearGroupedProductQuantity();\n    }\n\n    renderProductList(items) {\n        const {\n            groupedProductQuantity,\n            setGroupedProductQuantity\n        } = this.props;\n\n        return (\n            <ul>\n                { items.map(({ product, product: { id }, qty }) => (\n                    <GroupedProductsItem\n                      key={ id }\n                      product={ product }\n                      defaultQuantity={ qty }\n                      groupedProductQuantity={ groupedProductQuantity }\n                      setGroupedProductQuantity={ setGroupedProductQuantity }\n                    />\n                )) }\n            </ul>\n        );\n    }\n\n    render() {\n        const {\n            product: { items, type_id }\n        } = this.props;\n\n        if (type_id !== 'grouped') {\n            return null;\n        }\n        if (!items) {\n            return null;\n        }\n\n        return this.renderProductList(items);\n    }\n}\n\nexport default GroupedProductList;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport GroupedProductsItem from './GroupedProductsItem.component';\n\n/** @namespace Component/GroupedProductsItem/Container */\nexport class GroupedProductsItemContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired,\n        defaultQuantity: PropTypes.number.isRequired\n    };\n\n    containerFunctions = {\n        changeCount: this.changeCount.bind(this)\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { defaultQuantity } = this.props;\n        this.changeCount(defaultQuantity);\n    }\n\n    containerProps = () => ({\n        itemCount: this._getCurrentQuantity()\n    });\n\n    /**\n     * Get the selected quantity of grouped product\n     * @return {Number} product quantity\n     */\n    _getCurrentQuantity() {\n        const {\n            product: { id },\n            groupedProductQuantity\n        } = this.props;\n\n        return groupedProductQuantity[id] || 0;\n    }\n\n    changeCount(itemCount) {\n        const { setGroupedProductQuantity, product: { id } } = this.props;\n        setGroupedProductQuantity(id, itemCount);\n    }\n\n    render() {\n        return (\n            <GroupedProductsItem\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default GroupedProductsItemContainer;\n","/* eslint-disable fp/no-let */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport ProductCustomizableOptionsContainer\n    from 'Component/ProductCustomizableOptions/ProductCustomizableOptions.container';\nimport { ProductItemsType } from 'Type/ProductList';\n\nimport ProductBundleItems from './ProductBundleItems.component';\n\n/** @namespace Component/ProductBundleItems/Container */\nexport class ProductBundleItemsContainer extends ProductCustomizableOptionsContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionsContainer.propTypes,\n        items: ProductItemsType,\n        setBundlePrice: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        items: []\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        updateQuantity: this.updateQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        const { items } = this.props;\n\n        if (items) {\n            this.stopLoading();\n        }\n    }\n\n    componentDidUpdate(_, prevState) {\n        const { items } = this.props;\n        const {\n            selectedCheckboxValues,\n            selectedDropdownOptions,\n            isLoading\n        } = this.state;\n\n        const {\n            selectedCheckboxValues: prevSelectedCheckboxValues,\n            selectedDropdownOptions: prevSelectedDropdownOptions\n        } = prevState;\n\n        if (items && isLoading) {\n            this.stopLoading();\n        }\n\n        if (\n            selectedDropdownOptions !== prevSelectedDropdownOptions\n            || selectedCheckboxValues !== prevSelectedCheckboxValues\n        ) {\n            this.updateSelectedOptions();\n        }\n    }\n\n    stopLoading() {\n        this.setState({ isLoading: false });\n    }\n\n    getOptionPrice(item, selectedValues) {\n        const { option_id } = item;\n        let price = 0;\n\n        selectedValues.reduce((acc, { id, quantity, value }) => {\n            if (option_id === id) {\n                const { options } = item;\n\n                options.reduce((acc, { id: optionId, product }) => {\n                    if (JSON.stringify(value) === JSON.stringify([optionId.toString()])) {\n                        const { price_range: { minimum_price: { final_price: { value } } } } = product;\n                        price += (value * quantity);\n                    }\n\n                    return acc;\n                }, []);\n            }\n\n            return acc;\n        }, []);\n\n        return price;\n    }\n\n    getItemsPrice = (item) => {\n        const { selectedDropdownOptions, selectedCheckboxValues } = this.state;\n        let price = 0;\n\n        if (selectedCheckboxValues.length) {\n            price += this.getOptionPrice(item, selectedCheckboxValues);\n        }\n\n        if (selectedDropdownOptions.length) {\n            price += this.getOptionPrice(item, selectedDropdownOptions);\n        }\n\n        return price;\n    };\n\n    getTotalPrice() {\n        const { items } = this.props;\n        let totalPrice = 0;\n\n        const priceValues = items.map(this.getItemsPrice);\n\n        priceValues.reduce((acc, item) => {\n            totalPrice += item;\n\n            return acc;\n        }, []);\n\n        return totalPrice;\n    }\n\n    updateSelectedOptions() {\n        const { getSelectedCustomizableOptions, setBundlePrice } = this.props;\n        const { selectedDropdownOptions, selectedCheckboxValues } = this.state;\n        const bundleOptions = [];\n        const bundlePrice = this.getTotalPrice();\n\n        bundleOptions.push(\n            ...bundleOptions,\n            ...selectedCheckboxValues,\n            ...selectedDropdownOptions\n        );\n\n        getSelectedCustomizableOptions(bundleOptions);\n        setBundlePrice(bundlePrice);\n    }\n\n    setSelectedDropdownValue(id, option) {\n        const { selectedDropdownOptions } = this.state;\n        const { value, quantity, option_id } = option;\n\n        if (!id) {\n            const filteredOptions = selectedDropdownOptions.filter((item) => item.id !== option_id);\n            this.setState({ selectedDropdownOptions: filteredOptions });\n\n            return;\n        }\n\n        const optionData = { id, quantity, value: [value] };\n\n        if (selectedDropdownOptions.some(({ id: val }) => val === id)) {\n            const filteredItems = selectedDropdownOptions.filter((item) => item.id !== id);\n            this.setState({ selectedDropdownOptions: filteredItems.concat(optionData) });\n\n            return;\n        }\n\n        const newItemData = selectedDropdownOptions;\n        newItemData.push(optionData);\n\n        this.setState({\n            selectedDropdownOptions: Array.from(newItemData)\n        });\n    }\n\n    updateQuantity(value, quantity) {\n        const { selectedCheckboxValues } = this.state;\n\n        this.setState({\n            selectedCheckboxValues: selectedCheckboxValues.map((el) => (\n                JSON.stringify(el.value) === JSON.stringify(value) ? { ...el, quantity } : el\n            ))\n        });\n    }\n\n    setSelectedCheckboxValues(id, optionData) {\n        const { selectedCheckboxValues } = this.state;\n        const { value, quantity } = optionData;\n        const selectedValue = { id, quantity, value: [value] };\n\n        if (selectedCheckboxValues.some(({ value: val }) => JSON.stringify([value]) === JSON.stringify(val))) {\n            this.setState({\n                selectedCheckboxValues: selectedCheckboxValues.filter(\n                    (item) => JSON.stringify(item.value) !== JSON.stringify([value])\n                ) || []\n            });\n\n            return;\n        }\n\n        const newItemData = selectedCheckboxValues;\n        newItemData.push(selectedValue);\n\n        this.setState({\n            selectedCheckboxValues: Array.from(newItemData)\n        });\n    }\n\n    render() {\n        return (\n            <ProductBundleItems\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default ProductBundleItemsContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductCustomizableOption from 'Component/ProductCustomizableOption';\n\nimport './ProductCustomizableOptions.style';\n\n/** @namespace Component/ProductCustomizableOptions/Component */\nexport class ProductCustomizableOptions extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        options: PropTypes.array,\n        productOptionsData: PropTypes.object.isRequired,\n        setSelectedDropdownValue: PropTypes.func.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        setCustomizableOptionTextFieldValue: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        options: []\n    };\n\n    renderContent() {\n        const {\n            options,\n            productOptionsData,\n            setSelectedCheckboxValues,\n            setCustomizableOptionTextFieldValue,\n            setSelectedDropdownValue\n        } = this.props;\n\n        return options.map((option, key) => (\n            <ProductCustomizableOption\n              option={ option }\n              /* eslint-disable-next-line react/no-array-index-key */\n              key={ key }\n              setSelectedCheckboxValues={ setSelectedCheckboxValues }\n              setCustomizableOptionTextFieldValue={ setCustomizableOptionTextFieldValue }\n              setSelectedDropdownValue={ setSelectedDropdownValue }\n              productOptionsData={ productOptionsData }\n            />\n        ));\n    }\n\n    renderPlaceholder() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              mods={ { isLoading, isPlaceholder: true } }\n            />\n        );\n    }\n\n    render() {\n        const { isLoading } = this.props;\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return this.renderContent();\n    }\n}\n\nexport default ProductCustomizableOptions;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Field from 'Component/Field';\n\nimport {\n    AREA_FIELD, CHECKBOX, DROPDOWN, TEXT_FIELD\n} from './ProductCustomizableOption.config';\n\n/** @namespace Component/ProductCustomizableOption/Component */\nexport class ProductCustomizableOption extends PureComponent {\n    static propTypes = {\n        option: PropTypes.object.isRequired,\n        textValue: PropTypes.string.isRequired,\n        getSelectedCheckboxValue: PropTypes.func.isRequired,\n        renderOptionLabel: PropTypes.func.isRequired,\n        updateTextFieldValue: PropTypes.func.isRequired,\n        setDropdownValue: PropTypes.func.isRequired,\n        selectedDropdownValue: PropTypes.number.isRequired,\n        optionType: PropTypes.string.isRequired,\n        getDropdownOptions: PropTypes.func.isRequired,\n        requiredSelected: PropTypes.bool.isRequired\n    };\n\n    renderMap = {\n        [CHECKBOX]: {\n            render: () => this.renderCheckboxValues(),\n            title: () => this.renderTitle()\n        },\n        [DROPDOWN]: {\n            render: () => this.renderDropdownValues(),\n            title: () => this.renderTitle()\n        },\n        [TEXT_FIELD]: {\n            render: () => this.renderTextField(),\n            title: () => this.renderTextFieldTitle()\n        },\n        [AREA_FIELD]: {\n            render: () => this.renderTextField(),\n            title: () => this.renderTextFieldTitle()\n        }\n    };\n\n    renderRequired(isRequired) {\n        const { requiredSelected } = this.props;\n\n        // skip undefined and false\n        if (isRequired !== true || requiredSelected) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              elem=\"Required\"\n            >\n                { __('This field is required!') }\n            </div>\n        );\n    }\n\n    renderHeading(mainTitle, titleBold) {\n        return (\n            <>\n                <span\n                  block=\"ProductCustomizableOptions\"\n                  elem=\"Heading\"\n                >\n                    { `${ mainTitle } + ` }\n                </span>\n                <span\n                  block=\"ProductCustomizableOptions\"\n                  elem=\"HeadingBold\"\n                >\n                    { titleBold }\n                </span>\n            </>\n        );\n    }\n\n    renderOptionCheckboxValue = (item) => {\n        const { getSelectedCheckboxValue, renderOptionLabel } = this.props;\n        const {\n            option_type_id,\n            title,\n            price,\n            price_type\n        } = item;\n\n        const priceLabel = renderOptionLabel(price_type, price);\n\n        return (\n            <Field\n              type=\"checkbox\"\n              label={ this.renderHeading(title, priceLabel) }\n              key={ option_type_id }\n              id={ `option-${ option_type_id }` }\n              name={ `option-${ option_type_id }` }\n              value={ option_type_id }\n              onChange={ getSelectedCheckboxValue }\n            />\n        );\n    };\n\n    renderOptionDropdownValues(values) {\n        const {\n            getDropdownOptions,\n            selectedDropdownValue,\n            setDropdownValue\n        } = this.props;\n        const dropdownOptions = getDropdownOptions(values);\n\n        return (\n            <Field\n              id=\"customizable-options-dropdown\"\n              name=\"customizable-options-dropdown\"\n              type=\"select\"\n              mix={ { block: 'CustomizableOptions', elem: 'Select' } }\n              placeholder={ __('Choose Option') }\n              selectOptions={ dropdownOptions }\n              value={ selectedDropdownValue }\n              onChange={ setDropdownValue }\n            />\n        );\n    }\n\n    renderMaxCharacters(max_characters) {\n        if (max_characters <= 0) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductCustomizableOptions\"\n              elem=\"Information\"\n            >\n                { __('Maximum %s characters', max_characters) }\n            </div>\n        );\n    }\n\n    renderCheckboxValues() {\n        const { option: { required, data } } = this.props;\n\n        return (\n            <>\n                { data.map(this.renderOptionCheckboxValue) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderDropdownValues() {\n        const { option: { required, data } } = this.props;\n\n        return (\n            <>\n                { this.renderOptionDropdownValues(data) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderTextField() {\n        const {\n            option: {\n                required,\n                data\n            },\n            updateTextFieldValue,\n            textValue,\n            optionType\n        } = this.props;\n        const { max_characters } = data;\n        const fieldType = optionType === 'field' ? 'text' : 'textarea';\n\n        return (\n            <>\n                <Field\n                  id={ `customizable-options-${ optionType }` }\n                  name={ `customizable-options-${ optionType }` }\n                  type={ fieldType }\n                  maxLength={ max_characters > 0 ? max_characters : null }\n                  value={ textValue }\n                  onChange={ updateTextFieldValue }\n                />\n                { this.renderRequired(required) }\n                { this.renderMaxCharacters(max_characters) }\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { option } = this.props;\n        const { title } = option;\n\n        return title;\n    }\n\n    renderTextFieldTitle() {\n        const {\n            renderOptionLabel,\n            option: {\n                title,\n                data: {\n                    price_type,\n                    price\n                }\n            }\n        } = this.props;\n\n        const priceLabel = renderOptionLabel(price_type, price);\n\n        return this.renderHeading(title, priceLabel);\n    }\n\n    render() {\n        const {\n            option: {\n                option_id\n            },\n            optionType\n        } = this.props;\n\n        const optionRenderMap = this.renderMap[optionType];\n\n        if (!optionRenderMap) {\n            return null;\n        }\n\n        const { render, title } = optionRenderMap;\n\n        return (\n            <ExpandableContent\n              heading={ title() }\n              mix={ { block: 'ProductCustomizableOptions', elem: 'Content' } }\n              key={ option_id }\n              isContentExpanded\n            >\n                { render() }\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductCustomizableOption;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport ProductCustomizableOptionContainer\n    from 'Component/ProductCustomizableOption/ProductCustomizableOption.container';\n\nimport ProductBundleItem from './ProductBundleItem.component';\n\n/** @namespace Component/ProductBundleItem/Container */\nexport class ProductBundleItemContainer extends ProductCustomizableOptionContainer {\n    static propTypes = {\n        ...ProductCustomizableOptionContainer.propTypes,\n        setCustomizableOptionTextFieldValue: PropTypes.func,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        ...ProductCustomizableOptionContainer.defaultProps,\n        setCustomizableOptionTextFieldValue: () => {}\n    };\n\n    containerFunctions = {\n        ...this.containerFunctions,\n        setDropdownItemQuantity: this.setDropdownItemQuantity.bind(this)\n    };\n\n    componentDidMount() {\n        this.getDefaultValues();\n    }\n\n    getDefaultValues() {\n        const { optionType } = this.containerProps();\n\n        switch (optionType) {\n        case 'select':\n        case 'radio': // handle radio as select\n            this.setDefaultDropdownValue();\n            break;\n        case 'checkbox':\n        case 'multi': // handle multi-select as checkbox\n            this.setDefaultCheckboxValue();\n            break;\n        default:\n            return null;\n        }\n\n        return null;\n    }\n\n    setDefaultDropdownValue() {\n        const {\n            setSelectedDropdownValue,\n            option: { option_id, options }\n        } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedDropdownValue(option_id, { value, quantity });\n                this.setState({ selectedDropdownValue: id });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    setDefaultCheckboxValue() {\n        const { option: { option_id, options }, setSelectedCheckboxValues } = this.props;\n\n        return options.reduce((acc, { is_default, id, quantity }) => {\n            if (is_default) {\n                const value = id.toString();\n                setSelectedCheckboxValues(option_id, { value, quantity });\n            }\n\n            return acc;\n        }, []);\n    }\n\n    getIsRequiredSelected() {\n        const {\n            productOptionsData,\n            productOptionsData: {\n                requiredOptions,\n                productOptions,\n                productOptionsMulti\n            },\n            option: {\n                option_id\n            }\n        } = this.props;\n\n        if (Object.keys(productOptionsData).length < 1 || !requiredOptions) {\n            return true;\n        }\n\n        const selectedItems = [...productOptions || [], ...productOptionsMulti || []];\n        const isRequired = requiredOptions.reduce((acc, item) => {\n            if (item === option_id) {\n                acc.push(item);\n            }\n\n            return acc;\n        }, []);\n\n        if (!isRequired.length) {\n            return true;\n        }\n\n        const isRequiredSelected = selectedItems.reduce((acc, { id }) => {\n            if (isRequired[0] === id) {\n                acc.push(id);\n            }\n\n            return acc;\n        }, []);\n\n        return !!isRequiredSelected.length;\n    }\n\n    getSelectedCheckboxValue(value) {\n        const {\n            option: { option_id },\n            setSelectedCheckboxValues\n        } = this.props;\n        const selectedValue = this.getSelectedOptionData(value);\n\n        setSelectedCheckboxValues(option_id, selectedValue);\n    }\n\n    setDropdownItemQuantity(quantity) {\n        const { setSelectedDropdownValue, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n        const value = selectedDropdownValue.toString();\n        const selectedValue = { value, quantity };\n\n        setSelectedDropdownValue(option_id, selectedValue);\n    }\n\n    setDropdownValue(value) {\n        const { setSelectedDropdownValue, option, option: { option_id } } = this.props;\n        const { selectedDropdownValue } = this.state;\n\n        if (selectedDropdownValue === value) {\n            setSelectedDropdownValue(null, option);\n            this.setState({ selectedDropdownValue: 0 });\n        } else {\n            this.setState({ selectedDropdownValue: parseInt(value, 10) });\n            const selectedValue = this.getSelectedOptionData(value.toString());\n            setSelectedDropdownValue(option_id, selectedValue);\n        }\n    }\n\n    getSelectedOptionData(optionId) {\n        const { option: { options } } = this.props;\n\n        return options.reduce(\n            (parameters, { id, quantity }) => {\n                const value = id.toString();\n\n                if (optionId === value) {\n                    return { value, quantity };\n                }\n\n                return parameters;\n            }, {}\n        );\n    }\n\n    getDropdownOptions(values) {\n        const { price_range: { minimum_price: { discount: { percent_off } } } } = this.props;\n\n        return values.reduce((acc, {\n            id,\n            label,\n            price_type,\n            quantity,\n            can_change_quantity,\n            product: { price_range: { minimum_price: { final_price: { value } } } }\n        }) => {\n            // eslint-disable-next-line no-magic-numbers\n            const finalPrice = value - (value * (percent_off / 100));\n\n            const dropdownLabel = !can_change_quantity\n                ? `${ quantity } x ${ label } + ${ this.renderOptionLabel(price_type, finalPrice) }`\n                : `${ label } + ${ this.renderOptionLabel(price_type, finalPrice) }`;\n\n            acc.push({\n                id,\n                name: label,\n                value: id,\n                label: dropdownLabel\n            });\n\n            return acc;\n        }, []);\n    }\n\n    render() {\n        return (\n            <ProductBundleItem\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductBundleItemContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductCustomizableOptions.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductAttributes from './ProductAttributes.component';\n\n/** @namespace Component/ProductAttributes/Container */\nexport class ProductAttributesContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired\n    };\n\n    containerProps = () => ({\n        attributesWithValues: this._getAttributesWithValues()\n    });\n\n    _getAttributesWithValues() {\n        const { product: { attributes = {}, parameters = {} } } = this.props;\n\n        const allAttribsWithValues = Object.entries(attributes).reduce((acc, [key, val]) => {\n            const { attribute_label, attribute_value } = val;\n            if (attribute_value) {\n                return { ...acc, [attribute_label]: val };\n            }\n\n            const valueIndexFromParameter = parameters[key];\n            if (valueIndexFromParameter) {\n                return { ...acc, [attribute_label]: { ...val, attribute_value: valueIndexFromParameter } };\n            }\n\n            return acc;\n        }, {});\n\n        return allAttribsWithValues;\n    }\n\n    render() {\n        return (\n            <ProductAttributes\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default ProductAttributesContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Subscribe } from 'unstated';\n\nimport ImageZoomPopup from 'Component/ImageZoomPopup';\nimport SharedTransitionContainer from 'Component/SharedTransition/SharedTransition.unstated';\nimport { ProductType } from 'Type/ProductList';\n\nimport ProductGallery from './ProductGallery.component';\nimport {\n    AMOUNT_OF_PLACEHOLDERS,\n    IMAGE_TYPE,\n    PRODUCT_GALERY_POPUP_ID,\n    THUMBNAIL_KEY\n} from './ProductGallery.config';\n\n/** @namespace Component/ProductGallery/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/ProductGallery/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n/** @namespace Component/ProductGallery/Container */\nexport class ProductGalleryContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool,\n        isMobile: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false\n    };\n\n    sliderRef = createRef();\n\n    containerFunctions = {\n        onActiveImageChange: this.onActiveImageChange.bind(this),\n        handleZoomChange: this.handleZoomChange.bind(this),\n        disableZoom: this.disableZoom.bind(this),\n        handleImageZoomPopupActiveChange: this.handleImageZoomPopupActiveChange.bind(this)\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { product: { id } } = props;\n\n        this.state = {\n            activeImage: 0,\n            isZoomEnabled: false,\n            prevProdId: id,\n            isImageZoomPopupActive: false\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { product: { id } } = props;\n        const { prevProdId } = state;\n        if (prevProdId === id) {\n            return null;\n        }\n\n        return { prevProdId: id, activeImage: 0 };\n    }\n\n    handleImageZoomPopupActiveChange(isImageZoomPopupActive) {\n        const { isMobile } = this.props;\n\n        if (isMobile) {\n            return;\n        }\n\n        this.setState({ isImageZoomPopupActive });\n    }\n\n    onActiveImageChange(activeImage) {\n        this.setState({\n            activeImage,\n            isZoomEnabled: false\n        });\n    }\n\n    getGalleryPictures() {\n        const {\n            areDetailsLoaded,\n            product: {\n                media_gallery_entries: mediaGallery = [],\n                [THUMBNAIL_KEY]: { url } = {},\n                name\n            }\n        } = this.props;\n\n        if (mediaGallery.length) {\n            return Object.values(mediaGallery.reduce((acc, srcMedia) => {\n                const {\n                    types,\n                    position,\n                    disabled\n                } = srcMedia;\n\n                const canBeShown = !disabled;\n                if (!canBeShown) {\n                    return acc;\n                }\n\n                const isThumbnail = types.includes(THUMBNAIL_KEY);\n                const key = isThumbnail ? 0 : position + 1;\n\n                return {\n                    ...acc,\n                    [key]: srcMedia\n                };\n            }, {}));\n        }\n\n        if (!url) {\n            return Array(AMOUNT_OF_PLACEHOLDERS + 1).fill({ media_type: 'placeholder' });\n        }\n\n        const placeholders = !areDetailsLoaded\n            ? Array(AMOUNT_OF_PLACEHOLDERS).fill({ media_type: 'placeholder' }) : [];\n\n        return [\n            {\n                thumbnail: { url },\n                base: { url },\n                id: THUMBNAIL_KEY,\n                label: name,\n                media_type: IMAGE_TYPE\n            },\n            ...placeholders\n        ];\n    }\n\n    containerProps = () => {\n        const { activeImage, isZoomEnabled, isImageZoomPopupActive } = this.state;\n        const { product: { id }, isMobile } = this.props;\n\n        return {\n            gallery: this.getGalleryPictures(),\n            productName: this._getProductName(),\n            activeImage,\n            isZoomEnabled,\n            productId: id,\n            isMobile,\n            isImageZoomPopupActive,\n            sliderRef: this.sliderRef\n        };\n    };\n\n    /**\n     * Returns the name of the product this gallery if for\n     * @private\n     */\n    _getProductName() {\n        const { product: { name } } = this.props;\n        return name;\n    }\n\n    disableZoom() {\n        document.documentElement.classList.remove('overscrollPrevented');\n        this.setState({ isZoomEnabled: false });\n    }\n\n    handleZoomChange(args) {\n        const { isZoomEnabled } = this.state;\n\n        if (args.scale !== 1) {\n            if (isZoomEnabled) {\n                return;\n            }\n            document.documentElement.classList.add('overscrollPrevented');\n            this.setState({ isZoomEnabled: true });\n        }\n    }\n\n    handleImageZoomPopupClose = () => {\n        this.handleImageZoomPopupActiveChange(false);\n    };\n\n    render() {\n        const { isImageZoomPopupActive, activeImage } = this.state;\n\n        return (\n            <ImageZoomPopup\n              isActive={ isImageZoomPopupActive }\n              onClose={ this.handleImageZoomPopupClose }\n              activeImageId={ activeImage }\n              popupId={ PRODUCT_GALERY_POPUP_ID }\n            >\n                <Subscribe to={ [SharedTransitionContainer] }>\n                    { ({ registerSharedElementDestination }) => (\n                        <ProductGallery\n                          registerSharedElementDestination={ registerSharedElementDestination }\n                          { ...this.containerProps() }\n                          { ...this.containerFunctions }\n                        />\n                    ) }\n                </Subscribe>\n            </ImageZoomPopup>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductGalleryContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport Popup from 'Component/Popup';\nimport { hideActiveOverlay } from 'Store/Overlay/Overlay.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { ChildrenType, MixType } from 'Type/Common';\n\nimport ImageZoomPopup from './ImageZoomPopup.component';\n\n/** @namespace Component/ImageZoomPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/ImageZoomPopup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (id, payload) => dispatch(showPopup(id, payload)),\n    hideActiveOverlay: () => dispatch(hideActiveOverlay())\n});\n\n/** @namespace Component/MyAccountAddressBook/Container */\nexport class ImageZoomPopupContainer extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        hideActiveOverlay: PropTypes.func.isRequired,\n        onClose: PropTypes.func,\n        popupId: PropTypes.string.isRequired,\n        isActive: PropTypes.bool.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        mix: MixType\n    };\n\n    static defaultProps = {\n        onClose: () => {},\n        mix: {}\n    };\n\n    componentDidUpdate(prevProps) {\n        const { isActive: prevIsActive, popupId } = prevProps;\n        const { isActive, showPopup } = this.props;\n\n        if (prevIsActive !== isActive && isActive) {\n            showPopup(popupId, {});\n        }\n    }\n\n    render() {\n        const {\n            isActive,\n            children,\n            mix,\n            popupId,\n            isMobile,\n            onClose\n        } = this.props;\n\n        if (!isActive || isMobile) {\n            return children;\n        }\n\n        return (\n            <Popup\n              id={ popupId }\n              clickOutside={ false }\n              mix={ { block: 'ImageZoomPopup', mix } }\n              contentMix={ { block: 'ImageZoomPopup', elem: 'PopupContent' } }\n              onClose={ onClose }\n            >\n                <ImageZoomPopup\n                  { ...this.props }\n                />\n            </Popup>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageZoomPopupContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport TranslateOnCursorMove from './TranslateOnCursorMove.component';\n\n/** @namespace Component/Slider/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/Slider/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/always-both-mappings\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslateOnCursorMove);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export const initialState = {\n  wrapperComponent: null,\n  contentComponent: null,\n  previousScale: 1,\n  scale: 1,\n  positionX: 0,\n  positionY: 0,\n  options: {\n    disabled: false,\n    transformEnabled: true,\n    minPositionX: null,\n    maxPositionX: null,\n    minPositionY: null,\n    maxPositionY: null,\n    minScale: 1,\n    maxScale: 8,\n    limitToBounds: true,\n    limitToWrapper: false,\n    centerContent: true,\n    wrapperClass: \"\",\n    contentClass: \"\",\n  },\n  wheel: {\n    disabled: false,\n    step: 5,\n    wheelEnabled: true,\n    touchPadEnabled: true,\n    limitsOnWheel: false,\n  },\n  pan: {\n    disabled: false,\n    panAnimationType: \"linear\",\n    lockAxisX: false,\n    lockAxisY: false,\n    velocity: true,\n    velocityEqualToMove: true,\n    velocitySensitivity: 2,\n    velocityActiveScale: 1,\n    velocityMinSpeed: 1,\n    velocityBaseTime: 1600,\n    velocityAnimationType: \"easeOutQuart\",\n    padding: true,\n    paddingSize: 30,\n    panReturnAnimationTime: 400,\n    panReturnAnimationType: \"easeOut\",\n    disableOnTarget: [],\n  },\n  pinch: {\n    disabled: false,\n  },\n  zoomIn: {\n    disabled: false,\n    step: 20,\n    animation: true,\n    animationType: \"easeOut\",\n    animationTime: 200,\n  },\n  zoomOut: {\n    disabled: false,\n    step: 20,\n    animation: true,\n    animationType: \"easeOut\",\n    animationTime: 200,\n  },\n  doubleClick: {\n    disabled: false,\n    step: 20,\n    mode: \"zoomIn\",\n    animation: true,\n    animationType: \"easeOut\",\n    animationTime: 200,\n  },\n  reset: {\n    disabled: false,\n    animation: true,\n    animationType: \"easeOut\",\n    animationTime: 200,\n  },\n  scalePadding: {\n    disabled: false,\n    size: 0.2,\n    animationTime: 200,\n    animationType: \"easeOut\",\n  },\n};\n","/**\n * Rounds number to given decimal\n * eg. roundNumber(2.34343, 1) => 2.3\n */\nexport const roundNumber = (num, decimal) => {\n  return Number(num.toFixed(decimal));\n};\n\n/**\n * Checks if value is number, if not it returns default value\n * 1# eg. checkIsNumber(2, 30) => 2\n * 2# eg. checkIsNumber(null, 30) => 30\n */\nexport const checkIsNumber = (num, defaultValue) => {\n  return typeof num === \"number\" ? num : defaultValue;\n};\n\n/**\n * Keeps value between given bounds, used for limiting view to given boundaries\n * 1# eg. boundLimiter(2, 0, 3, true) => 2\n * 2# eg. boundLimiter(4, 0, 3, true) => 3\n * 3# eg. boundLimiter(-2, 0, 3, true) => 0\n * 4# eg. boundLimiter(10, 0, 3, false) => 10\n */\nexport const boundLimiter = (value, minBound, maxBound, isActive) => {\n  if (!isActive) return roundNumber(value, 2);\n  if (value < minBound) return roundNumber(minBound, 2);\n  if (value > maxBound) return roundNumber(maxBound, 2);\n  return roundNumber(value, 2);\n};\n\n/**\n * Returns relative coords of mouse on wrapper element, and provides\n * info about it's width, height, with same info about its content(zoomed component) element\n */\nexport const relativeCoords = (\n  event,\n  wrapperComponent,\n  contentComponent,\n  panningCase,\n) => {\n  const wrapperWidth = wrapperComponent.offsetWidth;\n  const wrapperHeight = wrapperComponent.offsetHeight;\n  const contentRect = contentComponent.getBoundingClientRect();\n  const contentWidth = contentRect.width;\n  const contentHeight = contentRect.height;\n  const contentLeft = contentRect.left;\n  const contentRight = contentRect.right;\n  const diffHeight = wrapperHeight - contentHeight;\n  const diffWidth = wrapperWidth - contentWidth;\n\n  // mouse position x, y over wrapper component\n  let x = panningCase ? event.clientX : event.clientX - contentRect.left;\n  let y = panningCase ? event.clientY : event.clientY - contentRect.top;\n\n  // Mobile touch event case\n  if (isNaN(x) && event.touches && event.touches[0]) {\n    x = event.touches[0].clientX;\n    y = event.touches[0].clientY;\n  }\n\n  return {\n    x,\n    y,\n    wrapperWidth,\n    wrapperHeight,\n    contentWidth,\n    contentHeight,\n    diffHeight,\n    diffWidth,\n    contentLeft,\n    contentRight,\n  };\n};\n\n/**\n * Calculate bounding area of zoomed/panned element\n */\nexport const calculateBoundingArea = (\n  wrapperWidth,\n  newContentWidth,\n  diffWidth,\n  wrapperHeight,\n  newContentHeight,\n  diffHeight,\n  limitToWrapper,\n) => {\n  const scaleWidthFactor =\n    wrapperWidth > newContentWidth\n      ? diffWidth * (limitToWrapper ? 1 : 0.5)\n      : 0;\n  const scaleHeightFactor =\n    wrapperHeight > newContentHeight\n      ? diffHeight * (limitToWrapper ? 1 : 0.5)\n      : 0;\n\n  const minPositionX = wrapperWidth - newContentWidth - scaleWidthFactor;\n  const maxPositionX = scaleWidthFactor;\n  const minPositionY = wrapperHeight - newContentHeight - scaleHeightFactor;\n  const maxPositionY = scaleHeightFactor;\n\n  return { minPositionX, maxPositionX, minPositionY, maxPositionY };\n};\n\n/**\n * Returns middle coordinates x,y of two points\n * Used to get middle point of two fingers pinch\n */\n\nexport const getMiddleCoords = (\n  firstPoint,\n  secondPoint,\n  contentComponent,\n  scale,\n) => {\n  const contentRect = contentComponent.getBoundingClientRect();\n\n  return {\n    x:\n      ((firstPoint.clientX + secondPoint.clientX) / 2 - contentRect.left) /\n      scale,\n    y:\n      ((firstPoint.clientY + secondPoint.clientY) / 2 - contentRect.top) /\n      scale,\n  };\n};\n\n/**\n * Returns middle position of PageX for touch events\n */\nexport const getMidPagePosition = (firstPoint, secondPoint) => {\n  if (!firstPoint || !secondPoint)\n    return console.warn(\"There are no points provided\");\n  return {\n    x: (firstPoint.clientX + secondPoint.clientX) / 2,\n    y: (firstPoint.clientY + secondPoint.clientY) / 2,\n  };\n};\n\n/**\n * Returns distance between two points x,y\n */\nexport const getDistance = (firstPoint, secondPoint) => {\n  return Math.sqrt(\n    Math.pow(firstPoint.pageX - secondPoint.pageX, 2) +\n      Math.pow(firstPoint.pageY - secondPoint.pageY, 2),\n  );\n};\n\n/**\n * Delete undefined values from object keys\n * Used for deleting empty props\n */\n\nexport const deleteUndefinedProps = value => {\n  let newObject = { ...value };\n  Object.keys(newObject).forEach(\n    key => newObject[key] === undefined && delete newObject[key],\n  );\n  return newObject;\n};\n\n/**\n * Returns center zoom position, for computations, based on the relative center to content node\n */\n\nexport const getRelativeZoomCoords = ({\n  wrapperComponent,\n  contentComponent,\n  scale,\n  positionX,\n  positionY,\n}) => {\n  const { wrapperWidth, wrapperHeight } = relativeCoords(\n    event,\n    wrapperComponent,\n    contentComponent,\n    true,\n  );\n  const x = (Math.abs(positionX) + wrapperWidth / 2) / scale;\n  const y = (Math.abs(positionY) + wrapperHeight / 2) / scale;\n  return { x, y };\n};\n\n/**\n * Fire callback if it's function\n */\n\nexport const handleCallback = (callback, props) => {\n  if (callback && typeof callback === \"function\") {\n    callback(props);\n  }\n};\n\nexport const handleWheelStop = (previousEvent, event, stateProvider) => {\n  const {\n    scale,\n    options: { maxScale, minScale },\n  } = stateProvider;\n  if (!previousEvent) return false;\n  if (scale < maxScale || scale > minScale) return true;\n  if (Math.sign(previousEvent.deltaY) !== Math.sign(event.deltaY)) return true;\n  if (previousEvent.deltaY > 0 && previousEvent.deltaY < event.deltaY)\n    return true;\n  if (previousEvent.deltaY < 0 && previousEvent.deltaY > event.deltaY)\n    return true;\n  if (Math.sign(previousEvent.deltaY) !== Math.sign(event.deltaY)) return true;\n  return false;\n};\n\nexport const mergeProps = (initialState, dynamicProps) => {\n  return Object.keys(initialState).reduce((acc, curr) => {\n    if (typeof dynamicProps[curr] === \"object\" && dynamicProps[curr] !== null) {\n      acc[curr] = { ...initialState[curr], ...dynamicProps[curr] };\n    } else {\n      acc[curr] =\n        dynamicProps[curr] === undefined\n          ? initialState[curr]\n          : dynamicProps[curr];\n    }\n    return acc;\n  }, {});\n};\n\nexport function getWindowScaleY(wrapper) {\n  if (!wrapper) return 0;\n  return window.innerHeight / wrapper.offsetHeight;\n}\n\nexport function getWindowScaleX(wrapper) {\n  if (!wrapper) return 0;\n  return window.innerWidth / wrapper.offsetWidth;\n}\n","/**\n * Functions should return denominator of the target value, which is the next animation step.\n * t is a value from 0 to 1, reflecting the percentage of animation status.\n */\nconst easeOut = function(t) {\n  return -Math.cos(t * Math.PI) / 2 + 0.5;\n};\n// linear\nconst linear = function(t) {\n  return t;\n};\n// accelerating from zero velocity\nconst easeInQuad = function(t) {\n  return t * t;\n};\n// decelerating to zero velocity\nconst easeOutQuad = function(t) {\n  return t * (2 - t);\n};\n// acceleration until halfway, then deceleration\nconst easeInOutQuad = function(t) {\n  return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n};\n// accelerating from zero velocity\nconst easeInCubic = function(t) {\n  return t * t * t;\n};\n// decelerating to zero velocity\nconst easeOutCubic = function(t) {\n  return --t * t * t + 1;\n};\n// acceleration until halfway, then deceleration\nconst easeInOutCubic = function(t) {\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n};\n// accelerating from zero velocity\nconst easeInQuart = function(t) {\n  return t * t * t * t;\n};\n// decelerating to zero velocity\nconst easeOutQuart = function(t) {\n  return 1 - --t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nconst easeInOutQuart = function(t) {\n  return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n};\n// accelerating from zero velocity\nconst easeInQuint = function(t) {\n  return t * t * t * t * t;\n};\n// decelerating to zero velocity\nconst easeOutQuint = function(t) {\n  return 1 + --t * t * t * t * t;\n};\n// acceleration until halfway, then deceleration\nconst easeInOutQuint = function(t) {\n  return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n};\n\nexport const availableAnimations = {\n  easeOut,\n  linear,\n  easeInQuad,\n  easeOutQuad,\n  easeInOutQuad,\n  easeInCubic,\n  easeOutCubic,\n  easeInOutCubic,\n  easeInQuart,\n  easeOutQuart,\n  easeInOutQuart,\n  easeInQuint,\n  easeOutQuint,\n  easeInOutQuint,\n};\n","import { availableAnimations } from \"./utils\";\n\nexport function handleDisableAnimation() {\n  if (!this.mounted) return;\n  if (this.animation) {\n    cancelAnimationFrame(this.animation);\n  }\n  this.animate = false;\n  this.animation = false;\n  this.velocity = false;\n}\n\nexport function animate(animationName, animationTime, callback) {\n  if (!this.mounted) return;\n  const startTime = new Date().getTime();\n  const lastStep = 1;\n\n  // if another animation is active\n  handleDisableAnimation.call(this);\n\n  // new animation\n  this.animation = () => {\n    if (!this.animation || !this.mounted) return;\n    const frameTime = new Date().getTime() - startTime;\n    const animationProgress = frameTime / animationTime;\n    const animationType = availableAnimations[animationName];\n\n    const step = animationType(animationProgress);\n\n    if (frameTime >= animationTime) {\n      callback(lastStep);\n      this.animation = null;\n    } else {\n      callback(step);\n      requestAnimationFrame(this.animation);\n    }\n  };\n\n  requestAnimationFrame(this.animation);\n}\n\nexport function animateComponent({ targetState, speed, type }) {\n  const { scale, positionX, positionY } = this.stateProvider;\n\n  const scaleDiff = targetState.scale - scale;\n  const positionXDiff = targetState.positionX - positionX;\n  const positionYDiff = targetState.positionY - positionY;\n\n  if (speed === 0) {\n    this.stateProvider.previousScale = this.stateProvider.scale;\n    this.stateProvider.scale = targetState.scale;\n    this.stateProvider.positionX = targetState.positionX;\n    this.stateProvider.positionY = targetState.positionY;\n    this.applyTransformation();\n  } else {\n    // animation start timestamp\n    animate.call(this, type, speed, step => {\n      this.stateProvider.previousScale = this.stateProvider.scale;\n      this.stateProvider.scale = scale + scaleDiff * step;\n      this.stateProvider.positionX = positionX + positionXDiff * step;\n      this.stateProvider.positionY = positionY + positionYDiff * step;\n\n      // apply animation changes\n      this.applyTransformation();\n    });\n  }\n}\n","import { boundLimiter, checkIsNumber } from \"../utils\";\n\nexport function checkZoomBounds(\n  zoom,\n  minScale,\n  maxScale,\n  zoomPadding,\n  enablePadding,\n) {\n  const scalePadding = enablePadding ? zoomPadding : 0;\n  const minScaleWithPadding = minScale - scalePadding;\n\n  if (!isNaN(maxScale) && zoom >= maxScale) return maxScale;\n  if (!isNaN(minScale) && zoom <= minScaleWithPadding)\n    return minScaleWithPadding;\n  return zoom;\n}\n\nexport function checkPositionBounds(\n  positionX,\n  positionY,\n  bounds,\n  limitToBounds,\n  paddingValue,\n  wrapperComponent,\n) {\n  const { minPositionX, minPositionY, maxPositionX, maxPositionY } = bounds;\n  const paddingX = wrapperComponent\n    ? (paddingValue * wrapperComponent.offsetWidth) / 100\n    : 0;\n  const paddingY = wrapperComponent\n    ? (paddingValue * wrapperComponent.offsetHeight) / 100\n    : 0;\n\n  const x = boundLimiter(\n    positionX,\n    minPositionX - paddingX,\n    maxPositionX + paddingX,\n    limitToBounds,\n  );\n\n  const y = boundLimiter(\n    positionY,\n    minPositionY - paddingY,\n    maxPositionY + paddingY,\n    limitToBounds,\n  );\n  return { x, y };\n}\n\nexport function getDelta(event, customDelta) {\n  const deltaY = event ? (event.deltaY < 0 ? 1 : -1) : 0;\n  const delta = checkIsNumber(customDelta, deltaY);\n  return delta;\n}\n\nexport function wheelMousePosition(\n  event,\n  contentComponent,\n  scale,\n): { mouseX: number; mouseY: number } {\n  const contentRect = contentComponent.getBoundingClientRect();\n\n  // mouse position x, y over wrapper component\n  const mouseX = (event.clientX - contentRect.left) / scale;\n  const mouseY = (event.clientY - contentRect.top) / scale;\n\n  if (isNaN(mouseX) || isNaN(mouseY))\n    console.error(\"No mouse or touch offset found\");\n\n  return {\n    mouseX,\n    mouseY,\n  };\n}\n\nexport function getComponentsSizes(\n  wrapperComponent,\n  contentComponent,\n  newScale,\n) {\n  const wrapperWidth = wrapperComponent.offsetWidth;\n  const wrapperHeight = wrapperComponent.offsetHeight;\n\n  const contentWidth = contentComponent.offsetWidth;\n  const contentHeight = contentComponent.offsetHeight;\n\n  const newContentWidth = contentWidth * newScale;\n  const newContentHeight = contentHeight * newScale;\n  const newDiffWidth = wrapperWidth - newContentWidth;\n  const newDiffHeight = wrapperHeight - newContentHeight;\n\n  return {\n    wrapperWidth,\n    wrapperHeight,\n    newContentWidth,\n    newDiffWidth,\n    newContentHeight,\n    newDiffHeight,\n  };\n}\n\nexport function handleCalculatePositions(\n  mouseX,\n  mouseY,\n  newScale,\n  bounds,\n  limitToBounds,\n) {\n  const {\n    scale,\n    positionX,\n    positionY,\n    options: { transformEnabled },\n  } = this.stateProvider;\n\n  const scaleDifference = newScale - scale;\n\n  if (typeof mouseX !== \"number\" || typeof mouseY !== \"number\")\n    return console.error(\"Mouse X and Y position were not provided!\");\n\n  if (!transformEnabled)\n    return { newPositionX: positionX, newPositionY: positionY };\n\n  const calculatedPositionX = positionX - mouseX * scaleDifference;\n  const calculatedPositionY = positionY - mouseY * scaleDifference;\n\n  // do not limit to bounds when there is padding animation,\n  // it causes animation strange behaviour\n\n  const newPositions = checkPositionBounds(\n    calculatedPositionX,\n    calculatedPositionY,\n    bounds,\n    limitToBounds,\n    0,\n    null,\n  );\n\n  return newPositions;\n}\n","import { PropsList } from \"../interfaces/propsInterface\";\nimport { checkPositionBounds, handleCalculatePositions } from \"../zoom/utils\";\nimport { animateComponent } from \"../animations\";\n\nexport function getClientPosition(event) {\n  const { touches } = event;\n\n  // Mobile points\n  if (touches && touches.length === 1) {\n    return { clientX: touches[0].clientX, clientY: touches[0].clientY };\n  }\n  // Desktop points\n  if (!touches) {\n    return { clientX: event.clientX, clientY: event.clientY };\n  }\n  return null;\n}\n\nexport function handlePanning(event) {\n  const {\n    scale,\n    positionX,\n    positionY,\n    options: { limitToBounds, minScale },\n    pan: { lockAxisX, lockAxisY, padding, paddingSize },\n    wrapperComponent,\n  } = this.stateProvider;\n\n  if (!this.startCoords) return;\n  const { x, y } = this.startCoords;\n\n  const positions = getClientPosition(event);\n  if (!positions) return console.error(\"Cannot find mouse client positions\");\n  const { clientX, clientY } = positions;\n\n  // Get Position\n  const mouseX = clientX - x;\n  const mouseY = clientY - y;\n  const newPositionX = lockAxisX ? positionX : mouseX;\n  const newPositionY = lockAxisY ? positionY : mouseY;\n\n  // padding\n  const paddingValue = padding && scale >= minScale ? paddingSize : 0;\n\n  // If position didn't change\n  if (newPositionX === positionX && newPositionY === positionY) return;\n\n  const calculatedPosition = checkPositionBounds(\n    newPositionX,\n    newPositionY,\n    this.bounds,\n    limitToBounds,\n    paddingValue,\n    wrapperComponent,\n  );\n\n  // Save panned position\n  handlePaddingAnimation.call(this, calculatedPosition.x, calculatedPosition.y);\n}\n\nexport function handlePanningAnimation() {\n  const {\n    scale,\n    options: { minScale },\n    pan: { disabled, padding, panReturnAnimationTime, panReturnAnimationType },\n  } = this.stateProvider;\n  const isDisabled = disabled || scale < minScale || !padding;\n\n  if (isDisabled) return;\n\n  const targetState = handlePanToBounds.call(this);\n\n  animateComponent.call(this, {\n    targetState,\n    speed: panReturnAnimationTime,\n    type: panReturnAnimationType,\n  });\n}\n\nexport function handlePanToBounds() {\n  const {\n    positionX,\n    positionY,\n    scale,\n    options: { disabled, limitToBounds, limitToWrapper },\n  } = this.stateProvider;\n  const { wrapperComponent } = this.state;\n  if (disabled) return;\n  const {\n    maxPositionX,\n    minPositionX,\n    maxPositionY,\n    minPositionY,\n  } = this.bounds;\n\n  const xChanged = positionX > maxPositionX || positionX < minPositionX;\n  const yChanged = positionY > maxPositionY || positionY < minPositionY;\n\n  let mouseX =\n    positionX > maxPositionX\n      ? wrapperComponent.offsetWidth\n      : this.stateProvider.minPositionX || 0;\n  let mouseY =\n    positionY > maxPositionY\n      ? wrapperComponent.offsetHeight\n      : this.stateProvider.minPositionY || 0;\n\n  let mousePosX = mouseX;\n  let mousePosY = mouseY;\n\n  const { x, y } = handleCalculatePositions.call(\n    this,\n    mousePosX,\n    mousePosY,\n    scale,\n    this.bounds,\n    limitToBounds || limitToWrapper,\n  );\n\n  return {\n    scale,\n    positionX: xChanged ? x : positionX,\n    positionY: yChanged ? y : positionY,\n  };\n}\n\nfunction handlePaddingAnimation(positionX, positionY) {\n  const {\n    pan: { padding },\n  }: PropsList = this.stateProvider;\n  if (!padding) return;\n  this.stateProvider.positionX = positionX;\n  this.stateProvider.positionY = positionY;\n  this.applyTransformation();\n}\n","import { roundNumber, checkIsNumber, calculateBoundingArea } from \"../utils\";\nimport { animateComponent } from \"../animations\";\nimport { handlePanningAnimation } from \"../pan\";\nimport { initialState } from \"../InitialState\";\nimport {\n  checkZoomBounds,\n  getComponentsSizes,\n  getDelta,\n  wheelMousePosition,\n  handleCalculatePositions,\n} from \"./utils\";\n\nfunction handleCalculateZoom(\n  delta,\n  step,\n  disablePadding,\n  getTarget,\n  isBtnFunction,\n) {\n  const {\n    scale,\n    options: { maxScale, minScale },\n    scalePadding: { size, disabled },\n    wrapperComponent,\n  } = this.stateProvider;\n\n  let targetScale = null;\n\n  if (isBtnFunction) {\n    const scaleFactor = window.innerWidth * 0.0001;\n    const zoomFactor = delta < 0 ? 30 : 20;\n    targetScale =\n      scale + (step - step * scaleFactor) * delta * (scale / zoomFactor);\n  } else {\n    const wrapperToWindowScale =\n      2 - window.innerWidth / wrapperComponent.offsetWidth;\n    const scaleFactor = Math.max(0.2, Math.min(0.99, wrapperToWindowScale));\n    const zoomFactor = 20;\n    targetScale =\n      scale + step * delta * ((scale - scale * scaleFactor) / zoomFactor);\n  }\n\n  if (getTarget) return targetScale;\n  const paddingEnabled = disablePadding ? false : !disabled;\n  const newScale = checkZoomBounds(\n    roundNumber(targetScale, 3),\n    minScale,\n    maxScale,\n    size,\n    paddingEnabled,\n  );\n  return newScale;\n}\n\nexport function handleCalculateBounds(newScale, limitToWrapper) {\n  const { wrapperComponent, contentComponent } = this.stateProvider;\n\n  const {\n    wrapperWidth,\n    wrapperHeight,\n    newContentWidth,\n    newDiffWidth,\n    newContentHeight,\n    newDiffHeight,\n  } = getComponentsSizes(wrapperComponent, contentComponent, newScale);\n\n  const bounds = calculateBoundingArea(\n    wrapperWidth,\n    newContentWidth,\n    newDiffWidth,\n    wrapperHeight,\n    newContentHeight,\n    newDiffHeight,\n    limitToWrapper,\n  );\n\n  // Save bounds\n  this.bounds = bounds;\n  return bounds;\n}\n\n/**\n * Wheel zoom event\n */\nexport function handleWheelZoom(event) {\n  const {\n    scale,\n    contentComponent,\n    options: { limitToBounds },\n    scalePadding: { size, disabled },\n    wheel: { step, limitsOnWheel },\n  } = this.stateProvider;\n\n  event.preventDefault();\n  event.stopPropagation();\n\n  const delta = getDelta(event, null);\n  const newScale = handleCalculateZoom.call(this, delta, step, !event.ctrlKey);\n\n  // if scale not change\n  if (scale === newScale) return;\n\n  const bounds = handleCalculateBounds.call(this, newScale, !limitsOnWheel);\n\n  const { mouseX, mouseY } = wheelMousePosition(event, contentComponent, scale);\n\n  const isLimitedToBounds =\n    limitToBounds && (disabled || size === 0 || limitsOnWheel);\n\n  const { x, y } = handleCalculatePositions.call(\n    this,\n    mouseX,\n    mouseY,\n    newScale,\n    bounds,\n    isLimitedToBounds,\n  );\n\n  this.bounds = bounds;\n  this.stateProvider.previousScale = scale;\n  this.stateProvider.scale = newScale;\n  this.stateProvider.positionX = x;\n  this.stateProvider.positionY = y;\n  this.applyTransformation();\n}\n\n/**\n * Zoom for animations\n */\n\nexport function handleZoomToPoint(isDisabled, scale, mouseX, mouseY, event) {\n  const {\n    contentComponent,\n    options: { disabled, minScale, maxScale, limitToBounds, limitToWrapper },\n  } = this.stateProvider;\n  if (disabled || isDisabled) return;\n\n  const newScale = checkZoomBounds(\n    roundNumber(scale, 2),\n    minScale,\n    maxScale,\n    null,\n    null,\n  );\n  const bounds = handleCalculateBounds.call(this, newScale, limitToWrapper);\n\n  let mousePosX = mouseX;\n  let mousePosY = mouseY;\n\n  // if event is present - use it's mouse position\n  if (event) {\n    const mousePosition = wheelMousePosition(event, contentComponent, scale);\n    mousePosX = mousePosition.mouseX;\n    mousePosY = mousePosition.mouseY;\n  }\n\n  const { x, y } = handleCalculatePositions.call(\n    this,\n    mousePosX,\n    mousePosY,\n    newScale,\n    bounds,\n    limitToBounds,\n  );\n\n  return { scale: newScale, positionX: x, positionY: y };\n}\n\nexport function handlePaddingAnimation() {\n  const {\n    scale,\n    wrapperComponent,\n    options: { minScale, limitToBounds },\n    scalePadding: { disabled, animationTime, animationType },\n  } = this.stateProvider;\n  const isDisabled = disabled || scale >= minScale;\n\n  if (scale >= 1 || limitToBounds) {\n    // fire fit to bounds animation\n    handlePanningAnimation.call(this);\n  }\n\n  if (isDisabled) return;\n  let mouseX = wrapperComponent.offsetWidth / 2;\n  let mouseY = wrapperComponent.offsetHeight / 2;\n\n  const targetState = handleZoomToPoint.call(\n    this,\n    false,\n    minScale,\n    mouseX,\n    mouseY,\n    null,\n  );\n\n  animateComponent.call(this, {\n    targetState,\n    speed: animationTime,\n    type: animationType,\n  });\n}\n\n/**\n * Button zoom events\n */\n\nexport function handleDoubleClick(event) {\n  event.preventDefault();\n  event.stopPropagation();\n  const {\n    contentComponent,\n    scale,\n    doubleClick: { disabled, mode, step, animationTime, animationType },\n  } = this.stateProvider;\n\n  if (mode === \"reset\") {\n    return resetTransformations.call(this, event, animationTime);\n  }\n  const delta = mode === \"zoomOut\" ? -1 : 1;\n  const newScale = handleCalculateZoom.call(\n    this,\n    delta,\n    step,\n    undefined,\n    undefined,\n    true,\n  );\n\n  const { mouseX, mouseY } = wheelMousePosition(event, contentComponent, scale);\n  const targetState = handleZoomToPoint.call(\n    this,\n    disabled,\n    newScale,\n    mouseX,\n    mouseY,\n  );\n\n  if (targetState.scale === scale) return;\n  const targetScale = handleCalculateZoom.call(\n    this,\n    delta,\n    step,\n    true,\n    undefined,\n    true,\n  );\n  const time = getButtonAnimationTime(targetScale, newScale, animationTime);\n\n  animateComponent.call(this, {\n    targetState,\n    speed: time,\n    type: animationType,\n  });\n}\n\nexport function handleZoomControls(customDelta, customStep) {\n  const {\n    scale,\n    positionX,\n    positionY,\n    wrapperComponent,\n    zoomIn,\n    zoomOut,\n  } = this.stateProvider;\n\n  const wrapperWidth = wrapperComponent.offsetWidth;\n  const wrapperHeight = wrapperComponent.offsetHeight;\n  const mouseX = (wrapperWidth / 2 - positionX) / scale;\n  const mouseY = (wrapperHeight / 2 - positionY) / scale;\n\n  const newScale = handleCalculateZoom.call(\n    this,\n    customDelta,\n    customStep,\n    undefined,\n    undefined,\n    true,\n  );\n  const isZoomIn = newScale > scale;\n  const animationSpeed = isZoomIn\n    ? zoomIn.animationTime\n    : zoomOut.animationTime;\n  const animationType = isZoomIn ? zoomIn.animationType : zoomOut.animationType;\n  const isDisabled = isZoomIn ? zoomIn.disabled : zoomOut.disabled;\n\n  const targetState = handleZoomToPoint.call(\n    this,\n    isDisabled,\n    newScale,\n    mouseX,\n    mouseY,\n  );\n\n  if (targetState.scale === scale) return;\n  const targetScale = handleCalculateZoom.call(\n    this,\n    customDelta,\n    customStep,\n    true,\n    undefined,\n    true,\n  );\n  const time = getButtonAnimationTime(targetScale, newScale, animationSpeed);\n\n  animateComponent.call(this, {\n    targetState,\n    speed: time,\n    type: animationType,\n  });\n}\n\nexport function resetTransformations(animationSpeed) {\n  const {\n    defaultScale,\n    defaultPositionX,\n    defaultPositionY,\n  } = this.props.defaultValues;\n  const {\n    scale,\n    positionX,\n    positionY,\n    reset,\n    options: { disabled, limitToBounds, centerContent, limitToWrapper },\n  } = this.stateProvider;\n  if (disabled || reset.disabled) return;\n  if (\n    scale === defaultScale &&\n    positionX === defaultPositionX &&\n    positionY === defaultPositionY\n  )\n    return;\n\n  const speed =\n    typeof animationSpeed === \"number\" ? animationSpeed : reset.animationTime;\n\n  const targetScale = checkIsNumber(defaultScale, initialState.scale);\n  let newPositionX = checkIsNumber(defaultPositionX, initialState.positionX);\n  let newPositionY = checkIsNumber(defaultPositionY, initialState.positionY);\n\n  if ((limitToBounds && !limitToWrapper) || centerContent) {\n    const bounds = handleCalculateBounds.call(\n      this,\n      targetScale,\n      limitToWrapper,\n    );\n    newPositionX = bounds.minPositionX;\n    newPositionY = bounds.minPositionY;\n  }\n\n  const targetState = {\n    scale: targetScale,\n    positionX: newPositionX,\n    positionY: newPositionY,\n  };\n\n  animateComponent.call(this, {\n    targetState,\n    speed,\n    type: reset.animationType,\n  });\n}\n\nfunction getButtonAnimationTime(targetScale, newScale, time) {\n  return time * (newScale / targetScale);\n}\n","import { PropsList } from \"../interfaces/propsInterface\";\nimport { checkZoomBounds, handleCalculatePositions } from \"../zoom/utils\";\nimport { handleCalculateBounds } from \"../zoom\";\nimport { getDistance, roundNumber } from \"../utils\";\n\nfunction round(number, decimal) {\n  const roundNumber = Math.pow(10, decimal);\n  return Math.round(number * roundNumber) / roundNumber;\n}\n\nfunction getCurrentDistance(event) {\n  return getDistance(event.touches[0], event.touches[1]);\n}\n\nfunction checkIfInfinite(number) {\n  return number === Infinity || number === -Infinity;\n}\n\nexport function calculatePinchZoom(currentDistance, pinchStartDistance) {\n  const {\n    options: { minScale, maxScale },\n    scalePadding: { size, disabled },\n  }: PropsList = this.stateProvider;\n  if (\n    typeof pinchStartDistance !== \"number\" ||\n    typeof currentDistance !== \"number\"\n  )\n    return console.error(\"Pinch touches distance was not provided\");\n\n  if (currentDistance < 0) return;\n  const touchProportion = currentDistance / pinchStartDistance;\n  const scaleDifference = touchProportion * this.pinchStartScale;\n\n  return checkZoomBounds(\n    roundNumber(scaleDifference, 2),\n    minScale,\n    maxScale,\n    size,\n    !disabled,\n  );\n}\n\nexport function calculateMidpoint(event, scale, contentComponent) {\n  const contentRect = contentComponent.getBoundingClientRect();\n  const { touches } = event;\n  const firstPointX = round(touches[0].clientX - contentRect.left, 5);\n  const firstPointY = round(touches[0].clientY - contentRect.top, 5);\n  const secondPointX = round(touches[1].clientX - contentRect.left, 5);\n  const secondPointY = round(touches[1].clientY - contentRect.top, 5);\n\n  return {\n    mouseX: (firstPointX + secondPointX) / 2 / scale,\n    mouseY: (firstPointY + secondPointY) / 2 / scale,\n  };\n}\n\nexport function handleZoomPinch(event) {\n  const {\n    scale,\n    options: { limitToBounds, limitToWrapper },\n    scalePadding: { disabled, size },\n    wheel: { limitsOnWheel },\n    pinch,\n  } = this.stateProvider;\n  const { contentComponent } = this.state;\n  if (pinch.disabled || this.stateProvider.options.disabled) return;\n\n  if (event.cancelable) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  // if one finger starts from outside of wrapper\n  if (this.pinchStartDistance === null) return;\n\n  // Position transformation\n  const { mouseX, mouseY } = calculateMidpoint(event, scale, contentComponent);\n\n  // if touches goes off of the wrapper element\n  if (checkIfInfinite(mouseX) || checkIfInfinite(mouseY)) return;\n\n  const currentDistance = getCurrentDistance(event);\n\n  const newScale = calculatePinchZoom.call(\n    this,\n    currentDistance,\n    this.pinchStartDistance,\n  );\n  if (checkIfInfinite(newScale) || newScale === scale) return;\n\n  // Get new element sizes to calculate bounds\n  const bounds = handleCalculateBounds.call(\n    this,\n    newScale,\n    limitToWrapper,\n  );\n\n  // Calculate transformations\n  const isLimitedToBounds =\n    limitToBounds && (disabled || size === 0 || limitsOnWheel);\n\n  const { x, y } = handleCalculatePositions.call(\n    this,\n    mouseX,\n    mouseY,\n    newScale,\n    bounds,\n    isLimitedToBounds,\n  );\n\n  this.lastDistance = currentDistance;\n\n  this.stateProvider.positionX = x;\n  this.stateProvider.positionY = y;\n  this.stateProvider.scale = newScale;\n  this.stateProvider.previousScale = scale;\n\n  // update component transformation\n  this.applyTransformation();\n}\n","import { PropsList } from \"../interfaces/propsInterface\";\nimport { getClientPosition, handlePanningAnimation } from \"../pan\";\nimport { checkPositionBounds } from \"../zoom/utils\";\nimport { boundLimiter } from \"../utils\";\nimport { animate, handleDisableAnimation } from \"../animations\";\nimport { availableAnimations } from \"../animations/utils\";\n\nconst throttleTime = 30;\n\nfunction velocityTimeSpeed(speed, animationTime) {\n  const {\n    pan: { velocityEqualToMove },\n  }: PropsList = this.stateProvider;\n\n  if (velocityEqualToMove) {\n    return animationTime - animationTime / Math.max(1, speed);\n  }\n  return animationTime;\n}\n\nfunction handleEnableVelocity() {\n  this.setState({ startAnimation: false });\n}\n\nexport function handleFireVelocity() {\n  this.setState({ startAnimation: true });\n}\n\nexport function animateVelocity() {\n  const {\n    positionX,\n    positionY,\n    options: { limitToBounds },\n    pan: {\n      velocityBaseTime,\n      lockAxisX,\n      lockAxisY,\n      velocityAnimationType,\n      panReturnAnimationTime,\n      panReturnAnimationType,\n      padding,\n      paddingSize,\n    },\n    wrapperComponent,\n  } = this.stateProvider;\n  if (!this.mounted) return;\n  if (!this.velocity || !this.bounds) return handleDisableAnimation.call(this);\n\n  const {\n    maxPositionX,\n    minPositionX,\n    maxPositionY,\n    minPositionY,\n  } = this.bounds;\n\n  const { velocityX, velocityY, velocity } = this.velocity;\n  const animationTime = velocityTimeSpeed.call(\n    this,\n    velocity,\n    velocityBaseTime,\n  );\n\n  if (!animationTime) {\n    handlePanningAnimation.call(this);\n    return;\n  }\n\n  const targetX = velocityX;\n  const targetY = velocityY;\n\n  // pan return animation\n  const newAnimationTime =\n    animationTime > panReturnAnimationTime\n      ? animationTime\n      : panReturnAnimationTime;\n\n  const paddingValue = padding ? paddingSize : 0;\n\n  const paddingX = wrapperComponent\n    ? (paddingValue * wrapperComponent.offsetWidth) / 100\n    : 0;\n  const paddingY = wrapperComponent\n    ? (paddingValue * wrapperComponent.offsetHeight) / 100\n    : 0;\n\n  const maxTargetX = maxPositionX + paddingX;\n  const minTargetX = minPositionX - paddingX;\n\n  const maxTargetY = maxPositionY + paddingY;\n  const minTargetY = minPositionY - paddingY;\n\n  const startPosition = checkPositionBounds(\n    positionX,\n    positionY,\n    this.bounds,\n    limitToBounds,\n    paddingValue,\n    wrapperComponent,\n  );\n\n  const startTime = new Date().getTime();\n\n  // animation start timestamp\n  animate.call(this, velocityAnimationType, newAnimationTime, step => {\n    const frameTime = new Date().getTime() - startTime;\n    const animationProgress = frameTime / panReturnAnimationTime;\n    const returnAnimation = availableAnimations[panReturnAnimationType];\n\n    let customReturnStep = returnAnimation(animationProgress);\n\n    if (\n      frameTime > panReturnAnimationTime ||\n      customReturnStep > 1 ||\n      customReturnStep === Infinity ||\n      customReturnStep === -Infinity\n    )\n      customReturnStep = 1;\n\n    const currentPositionX = getPosition(\n      lockAxisX,\n      targetX,\n      step,\n      customReturnStep,\n      minPositionX,\n      maxPositionX,\n      limitToBounds,\n      positionX,\n      startPosition.x,\n      minTargetX,\n      maxTargetX,\n    );\n    const currentPositionY = getPosition(\n      lockAxisY,\n      targetY,\n      step,\n      customReturnStep,\n      minPositionY,\n      maxPositionY,\n      limitToBounds,\n      positionY,\n      startPosition.y,\n      minTargetY,\n      maxTargetY,\n    );\n\n    if (positionX !== currentPositionX || positionY !== currentPositionY) {\n      // Save panned position\n      this.stateProvider.positionX = currentPositionX;\n      this.stateProvider.positionY = currentPositionY;\n\n      // apply animation changes\n      this.applyTransformation();\n    }\n  });\n}\n\nexport function calculateVelocityStart(event) {\n  const {\n    scale,\n    options: { disabled },\n    pan: {\n      velocity,\n      velocitySensitivity,\n      velocityActiveScale,\n      velocityMinSpeed,\n    },\n    wrapperComponent,\n  } = this.stateProvider;\n\n  if (!velocity || velocityActiveScale >= scale || disabled) return;\n  handleEnableVelocity.call(this);\n  const now = Date.now();\n  if (this.lastMousePosition) {\n    const position = getClientPosition(event);\n    if (!position) return console.error(\"No mouse or touch position detected\");\n\n    const { clientX, clientY } = position;\n    const distanceX = clientX - this.lastMousePosition.clientX;\n    const distanceY = clientY - this.lastMousePosition.clientY;\n\n    const interval = now - this.velocityTime;\n\n    const wrapperToWindowScaleX =\n      2 - wrapperComponent.offsetWidth / window.innerWidth;\n    const wrapperToWindowScaleY =\n      2 - wrapperComponent.offsetHeight / window.innerHeight;\n\n    const scaledX =\n      20 * Math.max(velocityMinSpeed, Math.min(2, wrapperToWindowScaleX));\n    const scaledY =\n      20 * Math.max(velocityMinSpeed, Math.min(2, wrapperToWindowScaleY));\n\n    const velocityX =\n      (distanceX / interval) * velocitySensitivity * scale * scaledX;\n    const velocityY =\n      (distanceY / interval) * velocitySensitivity * scale * scaledY;\n\n    const speed = distanceX * distanceX + distanceY * distanceY;\n    const velocity = (Math.sqrt(speed) / interval) * velocitySensitivity;\n\n    if (this.velocity && velocity < this.velocity.velocity && this.throttle)\n      return;\n    this.velocity = { velocityX, velocityY, velocity };\n\n    // throttling\n    if (this.throttle) clearTimeout(this.throttle);\n    this.throttle = setTimeout(() => {\n      if (this.mounted) this.throttle = false;\n    }, throttleTime);\n  }\n  const position = getClientPosition(event);\n  this.lastMousePosition = position;\n  this.velocityTime = now;\n}\n\nfunction getPosition(\n  isLocked,\n  target,\n  step,\n  panReturnStep,\n  minBound,\n  maxBound,\n  limitToBounds,\n  offset,\n  startPosition,\n  minTarget,\n  maxTarget,\n) {\n  if (limitToBounds) {\n    if (startPosition > minBound && offset > maxBound) {\n      const newPosition =\n        startPosition - (startPosition - maxBound) * panReturnStep;\n      if (newPosition > maxTarget) return maxTarget;\n      if (newPosition < maxBound) return maxBound;\n      return newPosition;\n    }\n    if (startPosition < minBound && offset < minBound) {\n      const newPosition =\n        startPosition - (startPosition - minBound) * panReturnStep;\n      if (newPosition < minTarget) return minTarget;\n      if (newPosition > minBound) return minBound;\n      return newPosition;\n    }\n  }\n  if (isLocked) return startPosition;\n  const offsetPosition = offset + target * step;\n  return boundLimiter(offsetPosition, minBound, maxBound, limitToBounds);\n}\n","export const propsList = [\n  \"previousScale\",\n  \"scale\",\n  \"positionX\",\n  \"positionY\",\n  \"defaultPositionX\",\n  \"defaultPositionY\",\n  \"defaultScale\",\n  \"onWheelStart\",\n  \"onWheel\",\n  \"onWheelStop\",\n  \"onPanningStart\",\n  \"onPanning\",\n  \"onPanningStop\",\n  \"onPinchingStart\",\n  \"onPinching\",\n  \"onPinchingStop\",\n  \"onZoomChange\",\n  \"options\",\n  \"wheel\",\n  \"scalePadding\",\n  \"pan\",\n  \"pinch\",\n  \"zoomIn\",\n  \"zoomOut\",\n  \"doubleClick\",\n  \"reset\",\n];\n\nexport const getValidPropsFromObject = props => {\n  return Object.keys(props).reduce((acc, key) => {\n    if (propsList.includes(key)) {\n      acc[key] = props[key];\n    }\n    return acc;\n  }, {});\n};\n","import React, { Component } from \"react\";\nimport { initialState } from \"./InitialState\";\nimport {\n  mergeProps,\n  getDistance,\n  handleCallback,\n  handleWheelStop,\n  getWindowScaleX,\n  getWindowScaleY,\n} from \"./utils\";\nimport {\n  handleZoomControls,\n  handleDoubleClick,\n  resetTransformations,\n  handlePaddingAnimation,\n  handleWheelZoom,\n  handleCalculateBounds,\n} from \"./zoom\";\nimport { handleDisableAnimation, animateComponent } from \"./animations\";\nimport { handleZoomPinch } from \"./pinch\";\nimport { handlePanning, handlePanningAnimation } from \"./pan\";\nimport {\n  handleFireVelocity,\n  animateVelocity,\n  calculateVelocityStart,\n} from \"./velocity\";\nimport makePassiveEventOption from \"./makePassiveEventOption\";\nimport {\n  StateContextState,\n  StateContextProps,\n} from \"./interfaces/stateContextInterface\";\nimport { getValidPropsFromObject } from \"./propsHandlers\";\n\nconst Context = React.createContext({});\n\nlet wheelStopEventTimer = null;\nconst wheelStopEventTime = 180;\nlet wheelAnimationTimer = null;\nconst wheelAnimationTime = 100;\n\nclass StateProvider extends Component<StateContextProps, StateContextState> {\n  public mounted = true;\n\n  public state = {\n    wrapperComponent: undefined,\n    contentComponent: undefined,\n  };\n  public stateProvider = {\n    ...initialState,\n    ...mergeProps(initialState, this.props.dynamicValues),\n    ...this.props.defaultValues,\n    previousScale:\n      this.props.dynamicValues.scale ||\n      this.props.defaultValues.scale ||\n      initialState.scale,\n  };\n\n  public windowToWrapperScaleX = 0;\n  public windowToWrapperScaleY = 0;\n  // panning helpers\n  public startCoords = null;\n  public isDown = false;\n  // pinch helpers\n  public pinchStartDistance = null;\n  public lastDistance = null;\n  public pinchStartScale = null;\n  public distance = null;\n  public bounds = null;\n  // velocity helpers\n  public velocityTime = null;\n  public lastMousePosition = null;\n  public velocity = null;\n  public offsetX = null;\n  public offsetY = null;\n  public throttle = false;\n  // wheel helpers\n  public previousWheelEvent = null;\n  public lastScale = null;\n  // animations helpers\n  public animate = null;\n  public animation = null;\n  public maxBounds = null;\n\n  componentDidMount() {\n    const passiveOption = makePassiveEventOption(false);\n\n    // Panning on window to allow panning when mouse is out of wrapper\n    window.addEventListener(\n      \"mousedown\",\n      this.handleStartPanning,\n      passiveOption,\n    );\n    window.addEventListener(\"mousemove\", this.handlePanning, passiveOption);\n    window.addEventListener(\"mouseup\", this.handleStopPanning, passiveOption);\n  }\n\n  componentWillUnmount() {\n    const passiveOption = makePassiveEventOption(false);\n\n    window.removeEventListener(\n      \"mousedown\",\n      this.handleStartPanning,\n      passiveOption,\n    );\n    window.removeEventListener(\"mousemove\", this.handlePanning, passiveOption);\n    window.removeEventListener(\n      \"mouseup\",\n      this.handleStopPanning,\n      passiveOption,\n    );\n    handleDisableAnimation.call(this);\n  }\n\n  componentDidUpdate(oldProps, oldState) {\n    const { wrapperComponent, contentComponent } = this.state;\n    const { dynamicValues } = this.props;\n    if (!oldState.contentComponent && contentComponent) {\n      this.stateProvider.contentComponent = contentComponent;\n    }\n    if (\n      !oldState.wrapperComponent &&\n      wrapperComponent &&\n      wrapperComponent !== undefined\n    ) {\n      this.stateProvider.wrapperComponent = wrapperComponent;\n      this.windowToWrapperScaleX = getWindowScaleX(wrapperComponent);\n      this.windowToWrapperScaleY = getWindowScaleY(wrapperComponent);\n\n      // Zooming events on wrapper\n      const passiveOption = makePassiveEventOption(false);\n      wrapperComponent.addEventListener(\n        \"wheel\",\n        this.handleWheel,\n        passiveOption,\n      );\n      wrapperComponent.addEventListener(\n        \"dblclick\",\n        this.handleDbClick,\n        passiveOption,\n      );\n      wrapperComponent.addEventListener(\n        \"touchstart\",\n        this.handleTouchStart,\n        passiveOption,\n      );\n      wrapperComponent.addEventListener(\n        \"touchmove\",\n        this.handleTouch,\n        passiveOption,\n      );\n      wrapperComponent.addEventListener(\n        \"touchend\",\n        this.handleTouchStop,\n        passiveOption,\n      );\n    }\n\n    // set bound for animations\n    if (\n      (wrapperComponent && contentComponent) ||\n      oldProps.dynamicValues !== dynamicValues\n    ) {\n      this.maxBounds = handleCalculateBounds.call(\n        this,\n        this.stateProvider.scale,\n        this.stateProvider.options.limitToWrapper,\n      );\n    }\n\n    // must be at the end of the update function, updates\n    if (oldProps.dynamicValues && oldProps.dynamicValues !== dynamicValues) {\n      this.animation = null;\n      this.stateProvider = {\n        ...this.stateProvider,\n        ...mergeProps(this.stateProvider, dynamicValues),\n      };\n      this.applyTransformation(null, null, null);\n    }\n  }\n\n  //////////\n  // Wheel\n  //////////\n\n  handleWheel = event => {\n    const {\n      scale,\n      wheel: { disabled, wheelEnabled, touchPadEnabled },\n    } = this.stateProvider;\n\n    const { onWheelStart, onWheel, onWheelStop } = this.props;\n    const { wrapperComponent, contentComponent } = this.state;\n\n    if (\n      this.isDown ||\n      disabled ||\n      this.stateProvider.options.disabled ||\n      !wrapperComponent ||\n      !contentComponent\n    )\n      return;\n\n    // ctrlKey detects if touchpad execute wheel or pinch gesture\n    if (!wheelEnabled && !event.ctrlKey) return;\n    if (!touchPadEnabled && event.ctrlKey) return;\n\n    // Wheel start event\n    if (!wheelStopEventTimer) {\n      this.lastScale = scale;\n      handleDisableAnimation.call(this);\n      handleCallback(onWheelStart, this.getCallbackProps());\n    }\n\n    // Wheel event\n    handleWheelZoom.call(this, event);\n    handleCallback(onWheel, this.getCallbackProps());\n    this.applyTransformation(null, null, null);\n    this.previousWheelEvent = event;\n\n    // Wheel stop event\n    if (handleWheelStop(this.previousWheelEvent, event, this.stateProvider)) {\n      clearTimeout(wheelStopEventTimer);\n      wheelStopEventTimer = setTimeout(() => {\n        if (!this.mounted) return;\n        handleCallback(onWheelStop, this.getCallbackProps());\n        wheelStopEventTimer = null;\n      }, wheelStopEventTime);\n    }\n\n    // cancel animation\n    this.animate = false;\n\n    // fire animation\n    this.lastScale = this.stateProvider.scale;\n    clearTimeout(wheelAnimationTimer);\n    wheelAnimationTimer = setTimeout(() => {\n      if (!this.mounted) return;\n      handlePaddingAnimation.call(this, event);\n    }, wheelAnimationTime);\n  };\n\n  //////////\n  // Panning\n  //////////\n\n  checkPanningTarget = event => {\n    const {\n      pan: { disableOnTarget },\n    } = this.stateProvider;\n\n    return (\n      disableOnTarget\n        .map(tag => tag.toUpperCase())\n        .includes(event.target.tagName) ||\n      disableOnTarget.find(element =>\n        event.target.classList.value.includes(element),\n      )\n    );\n  };\n\n  checkIsPanningActive = event => {\n    const {\n      pan: { disabled },\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n\n    return (\n      !this.isDown ||\n      disabled ||\n      this.stateProvider.options.disabled ||\n      (event.touches &&\n        (event.touches.length !== 1 ||\n          Math.abs(this.startCoords.x - event.touches[0].clientX) < 1 ||\n          Math.abs(this.startCoords.y - event.touches[0].clientY) < 1)) ||\n      !wrapperComponent ||\n      !contentComponent\n    );\n  };\n\n  handleSetUpPanning = (x, y) => {\n    const { positionX, positionY } = this.stateProvider;\n    this.isDown = true;\n    this.startCoords = { x: x - positionX, y: y - positionY };\n\n    handleCallback(this.props.onPanningStart, this.getCallbackProps());\n  };\n\n  handleStartPanning = event => {\n    const {\n      wrapperComponent,\n      scale,\n      options: { minScale, maxScale, limitToWrapper },\n      pan: { disabled },\n    } = this.stateProvider;\n    const { target, touches } = event;\n\n    if (\n      disabled ||\n      this.stateProvider.options.disabled ||\n      (wrapperComponent && !wrapperComponent.contains(target)) ||\n      this.checkPanningTarget(event) ||\n      scale < minScale ||\n      scale > maxScale\n    )\n      return;\n\n    handleDisableAnimation.call(this);\n    this.bounds = handleCalculateBounds.call(this, scale, limitToWrapper);\n\n    // Mobile points\n    if (touches && touches.length === 1) {\n      this.handleSetUpPanning(touches[0].clientX, touches[0].clientY);\n    }\n    // Desktop points\n    if (!touches) {\n      this.handleSetUpPanning(event.clientX, event.clientY);\n    }\n  };\n\n  handlePanning = event => {\n    if (this.isDown) event.preventDefault();\n    if (this.checkIsPanningActive(event)) return;\n    event.stopPropagation();\n    calculateVelocityStart.call(this, event);\n    handlePanning.call(this, event);\n    handleCallback(this.props.onPanning, this.getCallbackProps());\n  };\n\n  handleStopPanning = () => {\n    if (this.isDown) {\n      this.isDown = false;\n      this.animate = false;\n      this.animation = false;\n      handleFireVelocity.call(this);\n      handleCallback(this.props.onPanningStop, this.getCallbackProps());\n\n      const {\n        pan: { velocity },\n        scale,\n      } = this.stateProvider;\n\n      // start velocity animation\n      if (this.velocity && velocity && scale > 1) {\n        animateVelocity.call(this);\n      } else {\n        // fire fit to bounds animation\n        handlePanningAnimation.call(this);\n      }\n    }\n  };\n\n  //////////\n  // Pinch\n  //////////\n\n  handlePinchStart = event => {\n    const { scale } = this.stateProvider;\n    event.preventDefault();\n    event.stopPropagation();\n\n    handleDisableAnimation.call(this);\n    const distance = getDistance(event.touches[0], event.touches[1]);\n    this.pinchStartDistance = distance;\n    this.lastDistance = distance;\n    this.pinchStartScale = scale;\n    this.isDown = false;\n\n    handleCallback(this.props.onPinchingStart, this.getCallbackProps());\n  };\n\n  handlePinch = event => {\n    this.isDown = false;\n    handleZoomPinch.call(this, event);\n    handleCallback(this.props.onPinching, this.getCallbackProps());\n  };\n\n  handlePinchStop = () => {\n    if (typeof this.pinchStartScale === \"number\") {\n      this.isDown = false;\n      this.velocity = null;\n      this.lastDistance = null;\n      this.pinchStartScale = null;\n      this.pinchStartDistance = null;\n      handlePaddingAnimation.call(this);\n      handleCallback(this.props.onPinchingStop, this.getCallbackProps());\n    }\n  };\n\n  //////////\n  // Touch Events\n  //////////\n\n  handleTouchStart = event => {\n    const {\n      wrapperComponent,\n      contentComponent,\n      scale,\n      options: { disabled, minScale },\n    } = this.stateProvider;\n    const { touches } = event;\n    if (disabled || !wrapperComponent || !contentComponent || scale < minScale)\n      return;\n    handleDisableAnimation.call(this);\n\n    if (touches && touches.length === 1) return this.handleStartPanning(event);\n    if (touches && touches.length === 2) return this.handlePinchStart(event);\n  };\n\n  handleTouch = event => {\n    const { pan, pinch, options } = this.stateProvider;\n    if (options.disabled) return;\n    if (!pan.disabled && event.touches.length === 1)\n      return this.handlePanning(event);\n    if (!pinch.disabled && event.touches.length === 2)\n      return this.handlePinch(event);\n  };\n\n  handleTouchStop = () => {\n    this.handleStopPanning();\n    this.handlePinchStop();\n  };\n\n  //////////\n  // Controls\n  //////////\n\n  zoomIn = event => {\n    const {\n      zoomIn: { disabled, step },\n      options,\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n\n    if (!event) throw Error(\"Zoom in function requires event prop\");\n    if (disabled || options.disabled || !wrapperComponent || !contentComponent)\n      return;\n    handleZoomControls.call(this, 1, step);\n  };\n\n  zoomOut = event => {\n    const {\n      zoomOut: { disabled, step },\n      options,\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n\n    if (!event) throw Error(\"Zoom out function requires event prop\");\n    if (disabled || options.disabled || !wrapperComponent || !contentComponent)\n      return;\n    handleZoomControls.call(this, -1, step);\n  };\n\n  handleDbClick = event => {\n    const {\n      options,\n      doubleClick: { disabled, step },\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n\n    if (!event) throw Error(\"Double click function requires event prop\");\n    if (disabled || options.disabled || !wrapperComponent || !contentComponent)\n      return;\n    handleDoubleClick.call(this, event, 1, step);\n  };\n\n  setScale = (newScale, speed = 200, type = \"easeOut\") => {\n    const {\n      positionX,\n      positionY,\n      scale,\n      options: { disabled },\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n    if (disabled || !wrapperComponent || !contentComponent) return;\n    const targetState = {\n      positionX,\n      positionY,\n      scale: isNaN(newScale) ? scale : newScale,\n    };\n\n    animateComponent.call(this, {\n      targetState,\n      speed,\n      type,\n    });\n  };\n\n  setPositionX = (newPosX, speed = 200, type = \"easeOut\") => {\n    const {\n      positionX,\n      positionY,\n      scale,\n      options: { disabled, transformEnabled },\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n    if (disabled || !transformEnabled || !wrapperComponent || !contentComponent)\n      return;\n    const targetState = {\n      positionX: isNaN(newPosX) ? positionX : newPosX,\n      positionY,\n      scale,\n    };\n\n    animateComponent.call(this, {\n      targetState,\n      speed,\n      type,\n    });\n  };\n\n  setPositionY = (newPosY, speed = 200, type = \"easeOut\") => {\n    const {\n      positionX,\n      scale,\n      positionY,\n      options: { disabled, transformEnabled },\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n    if (disabled || !transformEnabled || !wrapperComponent || !contentComponent)\n      return;\n\n    const targetState = {\n      positionX,\n      positionY: isNaN(newPosY) ? positionY : newPosY,\n      scale,\n    };\n\n    animateComponent.call(this, {\n      targetState,\n      speed,\n      type,\n    });\n  };\n\n  setTransform = (\n    newPosX,\n    newPosY,\n    newScale,\n    speed = 200,\n    type = \"easeOut\",\n  ) => {\n    const {\n      positionX,\n      positionY,\n      scale,\n      options: { disabled, transformEnabled },\n    } = this.stateProvider;\n    const { wrapperComponent, contentComponent } = this.state;\n    if (disabled || !transformEnabled || !wrapperComponent || !contentComponent)\n      return;\n\n    const targetState = {\n      positionX: isNaN(newPosX) ? positionX : newPosX,\n      positionY: isNaN(newPosY) ? positionY : newPosY,\n      scale: isNaN(newScale) ? scale : newScale,\n    };\n\n    animateComponent.call(this, {\n      targetState,\n      speed,\n      type,\n    });\n  };\n\n  resetTransform = () => {\n    const {\n      options: { disabled, transformEnabled },\n    } = this.stateProvider;\n    if (disabled || !transformEnabled) return;\n    resetTransformations.call(this);\n  };\n\n  setDefaultState = () => {\n    this.animation = null;\n    this.stateProvider = {\n      ...this.stateProvider,\n      scale: initialState.scale,\n      positionX: initialState.positionX,\n      positionY: initialState.positionY,\n      ...this.props.defaultValues,\n    };\n\n    this.forceUpdate();\n  };\n\n  //////////\n  // Setters\n  //////////\n\n  setWrapperComponent = wrapperComponent => {\n    this.setState({ wrapperComponent });\n  };\n\n  setContentComponent = contentComponent => {\n    this.setState({ contentComponent }, () => {\n      const {\n        wrapperComponent,\n        options: { centerContent, limitToBounds, limitToWrapper },\n        scale,\n      } = this.stateProvider;\n\n      const { positionX, positionY } = this.props.defaultValues;\n\n      if (\n        (limitToBounds && !limitToWrapper) ||\n        (centerContent && !positionX && !positionY)\n      ) {\n        const transform = `translate(25%, 25%) scale(${scale})`;\n        contentComponent.style.transform = transform;\n        contentComponent.style.WebkitTransform = transform;\n        // force update to inject state to the context\n        this.forceUpdate();\n        const startTime = new Date().getTime();\n        const maxTimeWait = 2000;\n        let interval = setInterval(() => {\n          if (wrapperComponent.offsetWidth) {\n            const bounds = handleCalculateBounds.call(this, scale, false);\n            this.stateProvider.positionX = bounds.minPositionX;\n            this.stateProvider.positionY = bounds.minPositionY;\n            this.applyTransformation(null, null, null);\n            clearInterval(interval);\n            interval = null;\n          } else if (new Date().getTime() - startTime > maxTimeWait) {\n            clearInterval(interval);\n            interval = null;\n          }\n        }, 20);\n      } else {\n        this.applyTransformation(null, null, null);\n      }\n    });\n  };\n\n  applyTransformation = (newScale, posX, posY) => {\n    if (!this.mounted) return;\n    const { contentComponent } = this.state;\n    const { onZoomChange } = this.props;\n    const { previousScale, scale, positionX, positionY } = this.stateProvider;\n    if (!contentComponent)\n      return console.error(\"There is no content component\");\n    const transform = `translate(${posX || positionX}px, ${posY ||\n      positionY}px) scale(${newScale || scale})`;\n    contentComponent.style.transform = transform;\n    contentComponent.style.WebkitTransform = transform;\n    // force update to inject state to the context\n    this.forceUpdate();\n    if (onZoomChange && previousScale !== scale) {\n      handleCallback(onZoomChange, this.getCallbackProps());\n    }\n  };\n\n  //////////\n  // Props\n  //////////\n\n  getCallbackProps = () => getValidPropsFromObject(this.stateProvider);\n\n  render() {\n    const { wrapperComponent, contentComponent } = this.state;\n    /**\n     * Context provider value\n     */\n    const value = {\n      loaded: Boolean(wrapperComponent && contentComponent),\n      state: this.getCallbackProps(),\n      dispatch: {\n        setScale: this.setScale,\n        setPositionX: this.setPositionX,\n        setPositionY: this.setPositionY,\n        zoomIn: this.zoomIn,\n        zoomOut: this.zoomOut,\n        setTransform: this.setTransform,\n        resetTransform: this.resetTransform,\n        setDefaultState: this.setDefaultState,\n      },\n      nodes: {\n        setWrapperComponent: this.setWrapperComponent,\n        setContentComponent: this.setContentComponent,\n      },\n    };\n    const { children } = this.props;\n    const content =\n      typeof children === \"function\"\n        ? children({ ...value.state, ...value.dispatch })\n        : children;\n\n    return <Context.Provider value={value}>{content}</Context.Provider>;\n  }\n}\n\nexport { Context, StateProvider };\n","import React from \"react\";\nimport { StateProvider } from \"../store/StateContext\";\nimport { deleteUndefinedProps } from \"../store/utils\";\nimport { getValidPropsFromObject } from \"../store/propsHandlers\";\nimport { PropsList } from \"../store/interfaces/propsInterface\";\n\nconst TransformWrapper = ({\n  children,\n  defaultPositionX,\n  defaultPositionY,\n  defaultScale,\n  onWheelStart,\n  onWheel,\n  onWheelStop,\n  onPanningStart,\n  onPanning,\n  onPanningStop,\n  onPinchingStart,\n  onPinching,\n  onPinchingStop,\n  onZoomChange,\n  ...rest\n}: PropsList) => {\n  const props = { ...rest };\n  if (props.options && props.options.limitToWrapper) {\n    props.options.limitToBounds = true;\n  }\n  return (\n    <StateProvider\n      defaultValues={deleteUndefinedProps({\n        positionX: defaultPositionX,\n        positionY: defaultPositionY,\n        scale: defaultScale,\n      })}\n      dynamicValues={deleteUndefinedProps(getValidPropsFromObject(props))}\n      onWheelStart={onWheelStart}\n      onWheel={onWheel}\n      onWheelStop={onWheelStop}\n      onPanningStart={onPanningStart}\n      onPanning={onPanning}\n      onPanningStop={onPanningStop}\n      onPinchingStart={onPinchingStart}\n      onPinching={onPinching}\n      onPinchingStop={onPinchingStop}\n      onZoomChange={onZoomChange}\n    >\n      {children}\n    </StateProvider>\n  );\n};\n\nexport { TransformWrapper };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\nimport { Context } from \"../store/StateContext\";\nimport styles from \"./TransformComponent.module.css\";\n\nclass TransformComponent extends React.Component {\n  private wrapperRef = React.createRef<HTMLDivElement>();\n  private contentRef = React.createRef<HTMLDivElement>();\n\n  componentDidMount() {\n    const { nodes } = this.context;\n    nodes.setWrapperComponent(this.wrapperRef.current);\n    nodes.setContentComponent(this.contentRef.current);\n  }\n\n  render() {\n    const { children } = this.props;\n    const {\n      state: {\n        positionX,\n        positionY,\n        scale,\n        options: { wrapperClass, contentClass },\n      },\n    } = this.context;\n\n    const style = {\n      WebkitTransform: `translate(${positionX}px, ${positionY}px) scale(${scale})`,\n      transform: `translate(${positionX}px, ${positionY}px) scale(${scale})`,\n    };\n    return (\n      <div\n        ref={this.wrapperRef}\n        className={`react-transform-component ${styles.container} ${wrapperClass}`}\n      >\n        <div\n          ref={this.contentRef}\n          className={`react-transform-element ${styles.content} ${contentClass}`}\n          style={style}\n        >\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nTransformComponent.contextType = Context;\n\nexport { TransformComponent };\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport CarouselScrollArrow from 'Component/CarouselScrollArrow';\nimport CarouselScrollItem from 'Component/CarouselScrollItem';\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './CarouselScroll.style';\n\n/** @namespace Component/CarouselScroll/Component */\nexport class CarouselScroll extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        showArrow: PropTypes.bool,\n        showedItemCount: PropTypes.number,\n        showedActiveItemNr: PropTypes.number,\n        onChange: PropTypes.func,\n        activeItemId: PropTypes.number\n    };\n\n    static defaultProps = {\n        showArrow: true,\n        showedItemCount: 1,\n        showedActiveItemNr: 2,\n        onChange: () => {},\n        activeItemId: null\n    };\n\n    state = {\n        activeItemId: 0\n    };\n\n    itemRef = createRef();\n\n    carouselRef = createRef();\n\n    componentDidMount() {\n        const { showedItemCount } = this.props;\n\n        const heightSize = 100;\n        const height = `${ heightSize / showedItemCount }%`;\n\n        CSS.setVariable(this.carouselRef, 'carousel-item-height', height);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { children: { length: prevChildrenLength } } = prevProps;\n        const { activeItemId, children: { length: childrenLength } } = this.props;\n        const { activeItemId: prevActiveItemId } = this.state;\n\n        if (prevChildrenLength !== childrenLength) {\n            this.handleReset();\n\n            return;\n        }\n\n        if (activeItemId !== null && activeItemId !== prevActiveItemId) {\n            this.handleChange(activeItemId);\n        }\n    }\n\n    getNextTranslate(nextId) {\n        const { showedItemCount, showedActiveItemNr, children: { length: childrenLength } } = this.props;\n        const { offsetHeight } = this.itemRef.current;\n\n        // When selected item isnt reached wanted position\n        if (nextId < (showedActiveItemNr - 1) || childrenLength <= showedItemCount) {\n            return 0;\n        }\n\n        const isEndReached = (showedItemCount - showedActiveItemNr) + nextId + 1 > childrenLength;\n\n        const position = isEndReached\n            ? childrenLength - showedItemCount\n            : nextId - (showedActiveItemNr - 1);\n\n        return `${ -position * offsetHeight }px`;\n    }\n\n    setTranslate(nextId) {\n        const { children: { length: childrenLength }, showedItemCount } = this.props;\n\n        if (childrenLength <= showedItemCount) {\n            return;\n        }\n\n        const translate = this.getNextTranslate(nextId);\n        CSS.setVariable(this.carouselRef, 'translateY', translate);\n    }\n\n    handleArrowClick = (isNextArrow) => {\n        const { children } = this.props;\n        const { activeItemId: prevActiveItemId } = this.state;\n\n        const activeItemId = prevActiveItemId + (isNextArrow ? 1 : -1);\n\n        if (children.length - 1 < activeItemId || activeItemId < 0) {\n            return;\n        }\n\n        this.handleChange(activeItemId);\n    };\n\n    handleChange = (nextId) => {\n        const { onChange } = this.props;\n\n        this.setTranslate(nextId);\n        this.setState({ activeItemId: nextId });\n        onChange(nextId);\n    };\n\n    handleReset() {\n        const { onChange } = this.props;\n\n        const activeItemId = 0;\n\n        CSS.setVariable(this.carouselRef, 'translateY', 0);\n\n        onChange(activeItemId);\n        this.setState({ activeItemId });\n    }\n\n    renderArrow(isNextArrow = false) {\n        const { showArrow, children: { length: childrenLength }, showedItemCount } = this.props;\n        const { activeItemId } = this.state;\n\n        if (!showArrow || childrenLength <= showedItemCount) {\n            return null;\n        }\n\n        const isDisabled = isNextArrow\n            ? activeItemId === childrenLength - 1\n            : !activeItemId;\n\n        return (\n            <CarouselScrollArrow\n              isNextArrow={ isNextArrow }\n              isDisabled={ isDisabled }\n              onClick={ this.handleArrowClick }\n            />\n        );\n    }\n\n    renderContentItem = (child, key) => {\n        const { activeItemId } = this.state;\n\n        return (\n            <CarouselScrollItem\n              key={ key }\n              position={ key }\n              onClick={ this.handleChange }\n              itemRef={ this.itemRef }\n              isActive={ key === activeItemId }\n            >\n                { child }\n            </CarouselScrollItem>\n        );\n    };\n\n    renderContent() {\n        const { children } = this.props;\n\n        return (\n            <div block=\"CarouselScroll\" elem=\"ContentWrapper\">\n                <div block=\"CarouselScroll\" elem=\"Content\">\n                    { children.map(this.renderContentItem) }\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"CarouselScroll\" ref={ this.carouselRef }>\n                { this.renderArrow() }\n                { this.renderContent() }\n                { this.renderArrow(true) }\n            </div>\n        );\n    }\n}\n\nexport default CarouselScroll;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CarouselScrollArrow from './CarouselScrollArrow.component';\n\n/** @namespace Component/CarouselScrollArrow/Container */\nexport class CarouselScrollArrowContainer extends PureComponent {\n    static propTypes = {\n        isNextArrow: PropTypes.bool.isRequired,\n        isDisabled: PropTypes.bool.isRequired,\n        onClick: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        onClick: this.onClick.bind(this)\n    };\n\n    containerProps = () => {\n        const { isNextArrow, isDisabled } = this.props;\n\n        return {\n            mods: {\n                isNextArrow,\n                isDisabled\n            }\n        };\n    };\n\n    onClick() {\n        const { onClick, isNextArrow } = this.props;\n        onClick(isNextArrow);\n    }\n\n    render() {\n        return (\n            <CarouselScrollArrow\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default CarouselScrollArrowContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\n\nimport CarouselScrollItem from './CarouselScrollItem.component';\n\n/** @namespace Component/CarouselScrollItem/Container */\nexport class CarouselScrollItemContainer extends PureComponent {\n    static propTypes = {\n        isActive: PropTypes.bool,\n        itemRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ]),\n        onClick: PropTypes.func,\n        children: ChildrenType,\n        position: PropTypes.number.isRequired\n    };\n\n    static defaultProps = {\n        isActive: false,\n        itemRef: () => {},\n        onClick: () => {},\n        children: []\n    };\n\n    containerFunctions = {\n        onClick: this.onClick.bind(this)\n    };\n\n    containerProps = () => {\n        const {\n            isActive,\n            itemRef,\n            children\n        } = this.props;\n\n        return {\n            isActive,\n            itemRef,\n            children\n        };\n    };\n\n    onClick() {\n        const { onClick, position } = this.props;\n        onClick(position);\n    }\n\n    render() {\n        return (\n            <CarouselScrollItem\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default CarouselScrollItemContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { LocationType } from 'Type/Common';\nimport media, { PRODUCT_MEDIA } from 'Util/Media/Media';\n\nimport ProductGallery from './ProductGalleryBaseImage.component';\nimport { INITIAL_SCALE, TRANSFORMATION_DELAY, TRANSFORMATION_SPEED } from './ProductGalleryBaseImage.config';\n\n/** @namespace Component/ProductGalleryBaseImage/Container */\nexport class ProductGalleryBaseImageContainer extends Component {\n    static propTypes = {\n        disableZoom: PropTypes.func.isRequired,\n        scale: PropTypes.number.isRequired,\n        previousScale: PropTypes.number.isRequired,\n        index: PropTypes.number.isRequired,\n        mediaData: PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            label: PropTypes.string,\n            file: PropTypes.string,\n            base: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        setTransform: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const { scale, mediaData: { id } } = this.props;\n        const { scale: nextScale, mediaData: { id: nextId } } = nextProps;\n\n        if (scale !== nextScale || id !== nextId) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            scale,\n            previousScale,\n            disableZoom,\n            location: { pathname },\n            setTransform\n        } = this.props;\n        const { location: { pathname: prevPathname } } = prevProps;\n\n        if (pathname !== prevPathname && scale !== INITIAL_SCALE) {\n            setTimeout(\n                () => setTransform(null, null, INITIAL_SCALE, TRANSFORMATION_SPEED),\n                TRANSFORMATION_DELAY\n            );\n        }\n\n        if (scale === 1 && previousScale !== 1) {\n            disableZoom();\n        }\n    }\n\n    containerProps = () => ({\n        alt: this._getAlt(),\n        src: this._getSrc()\n    });\n\n    _getAlt() {\n        const { mediaData: { label } = {} } = this.props;\n        return label || '';\n    }\n\n    _getSrc() {\n        const {\n            mediaData: { file, base: { url: baseUrl } = {} },\n            isZoomEnabled\n        } = this.props;\n\n        if (!isZoomEnabled) {\n            return baseUrl || media(file, PRODUCT_MEDIA);\n        }\n\n        return file ? media(file, PRODUCT_MEDIA) : baseUrl;\n    }\n\n    render() {\n        return (\n            <ProductGallery\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    ProductGalleryBaseImageContainer\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image';\nimport {\n    IMAGE_TYPE, PLACEHOLDER_TYPE, THUMBNAIL_KEY, VIDEO_TYPE\n} from 'Component/ProductGallery/ProductGallery.config';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './ProductGalleryThumbnailImage.style';\n\n/** @namespace Component/ProductGalleryThumbnailImage/Component */\nexport class ProductGalleryThumbnailImage extends PureComponent {\n    static propTypes = {\n        media: PropTypes.shape({\n            label: PropTypes.string,\n            file: PropTypes.string,\n            media_type: PropTypes.string,\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            thumbnail: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired\n    };\n\n    renderMedia() {\n        const { media: { media_type } } = this.props;\n\n        switch (media_type) {\n        case VIDEO_TYPE:\n            return this.renderVideo();\n        case IMAGE_TYPE:\n            return this.renderImage();\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder();\n        default:\n            return null;\n        }\n    }\n\n    renderPlaceholder() {\n        return (\n            <Image\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n              isPlaceholder\n            />\n        );\n    }\n\n    renderVideo() {\n        const {\n            media: {\n                thumbnail: { url },\n                label\n            }\n        } = this.props;\n\n        return (\n            <Image\n              ratio=\"custom\"\n              src={ url }\n              alt={ label }\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    renderImage() {\n        const {\n            media: {\n                label: alt,\n                file,\n                thumbnail: { url: thumbnailUrl } = {},\n                id\n            }\n        } = this.props;\n\n        if (id === THUMBNAIL_KEY) {\n            return this.renderPlaceholder();\n        }\n\n        const src = thumbnailUrl || media(file, PRODUCT_MEDIA);\n\n        return (\n            <Image\n              src={ src }\n              alt={ alt }\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    render() {\n        return (\n            <div\n              block=\"ProductGalleryThumbnailImage\"\n            >\n                { this.renderMedia() }\n            </div>\n        );\n    }\n}\n\nexport default ProductGalleryThumbnailImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\nimport VideoPopup from './VideoPopup.component';\nimport { VIDEO_POPUP_ID } from './VideoPopup.config';\n\n/** @namespace Component/VideoPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    payload: state.PopupReducer.popupPayload[VIDEO_POPUP_ID] || {}\n});\n\n/** @namespace Component/VideoPopup/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoPopup);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { VIDEO_POPUP_ID } from 'Component/VideoPopup/VideoPopup.config';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { MediaItemType } from 'Type/ProductList';\n\nimport VideoThumbnail from './VideoThumbnail.component';\n\n/** @namespace Component/VideoThumbnail/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(VIDEO_POPUP_ID, payload))\n});\n\n/**\n * @class VideoThumbnailContainer\n * @namespace Component/VideoThumbnail/Container/videoThumbnailContainer\n */\nexport class VideoThumbnailContainer extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        showPopup: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        onPlayClick: this._onPlayClick.bind(this)\n    };\n\n    /**\n     * Handles events that occur when the user clicks or taps on a video thumbnail.\n     * Displays a popup with the corresponding video.\n     * @param event\n     * @private\n     */\n    _onPlayClick(event) {\n        const {\n            media,\n            media: {\n                video_content: {\n                    video_title\n                } = {}\n            } = {}, showPopup\n        } = this.props;\n\n        event.preventDefault();\n        showPopup({\n            media,\n            title: video_title\n        });\n    }\n\n    render() {\n        const { media } = this.props;\n\n        return (\n            <VideoThumbnail\n              media={ media }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/VideoThumbnail/Container/mapStateToProps * @namespace Component/VideoThumbnail/Container\n */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoThumbnailContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Html from 'Component/Html';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductInformation.style';\n\n/** @namespace Component/ProductInformation/Component */\nexport class ProductInformation extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired\n    };\n\n    renderDescription() {\n        const { product: { description: { html } = {} } } = this.props;\n\n        if (!html) {\n            return null;\n        }\n\n        return (\n            <div>\n                <Html content={ html } />\n            </div>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product information') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductInformation', elem: 'Content' } }\n            >\n                { this.renderDescription() }\n            </ExpandableContent>\n        );\n    }\n\n    isHTMLWhiteSpaceOrUndefined(htmlString) {\n        if (!htmlString || htmlString.trim() === '') {\n            return true;\n        }\n\n        // creates a DOM object from string\n        const parser = new DOMParser();\n        const document = parser.parseFromString(htmlString.trim(), 'text/html');\n\n        // handles the case of plain text\n        if (document.body.children.length === 0) {\n            return false;\n        }\n\n        // check if at least one HTML element has content\n        const elementsWithContent = Array.from(document.body.children).filter((element) => element.innerText !== '');\n        return elementsWithContent.length === 0;\n    }\n\n    render() {\n        const {\n            areDetailsLoaded,\n            product: {\n                description: { html } = {}\n            }\n        } = this.props;\n\n        if (this.isHTMLWhiteSpaceOrUndefined(html) && areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product information\"\n              mix={ { block: 'ProductInformation' } }\n              wrapperMix={ { block: 'ProductInformation', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductInformation;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { isSignedIn } from 'Util/Auth';\n\nimport ProductReviews from './ProductReviews.component';\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\n/** @namespace Component/ProductReviews/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isEnabled: state.ConfigReducer.reviews_are_enabled,\n    isGuestEnabled: state.ConfigReducer.reviews_allow_guest\n});\n\n/** @namespace Component/ProductReviews/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(REVIEW_POPUP_ID, payload)),\n    showInfoNotification: (message) => dispatch(showNotification('info', message))\n});\n\n/** @namespace Component/ProductReviews/Container */\nexport class ProductReviewsContainer extends PureComponent {\n    static propTypes = {\n        showInfoNotification: PropTypes.func.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        isGuestEnabled: PropTypes.bool,\n        isEnabled: PropTypes.bool\n    };\n\n    static defaultProps = {\n        isEnabled: true,\n        isGuestEnabled: true\n    };\n\n    containerFunctions = {\n        showPopup: this._showPopup.bind(this)\n    };\n\n    _showPopup() {\n        const {\n            showPopup,\n            isGuestEnabled,\n            showInfoNotification\n        } = this.props;\n\n        // if not logged in and guest reviews are not enabled\n        if (!isSignedIn() && !isGuestEnabled) {\n            showInfoNotification(__('You must login or register to review products.'));\n\n            return;\n        }\n\n        showPopup({ title: __('Write a new review') });\n    }\n\n    render() {\n        const { isEnabled } = this.props;\n\n        if (!isEnabled) {\n            return null;\n        }\n\n        return (\n            <ProductReviews\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewsContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { goToPreviousNavigationState } from 'Store/Navigation/Navigation.action';\nimport { TOP_NAVIGATION_TYPE } from 'Store/Navigation/Navigation.reducer';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { hideActiveOverlay } from 'Store/Overlay/Overlay.action';\nimport { customerType } from 'Type/Account';\nimport { ProductType } from 'Type/ProductList';\nimport { RatingItemsType } from 'Type/Rating';\n\nimport ProductReviewForm from './ProductReviewForm.component';\n\nexport const ReviewDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Review/Review.dispatcher'\n);\n\n/** @namespace Component/ProductReviewForm/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    customer: state.MyAccountReducer.customer,\n    isSignedIn: state.MyAccountReducer.isSignedIn,\n    reviewRatings: state.ConfigReducer.reviewRatings\n});\n\n/** @namespace Component/ProductReviewForm/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    addReview: (options) => ReviewDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.submitProductReview(dispatch, options)\n    ),\n    showNotification: (type, message) => dispatch(showNotification(type, message)),\n    hideActiveOverlay: () => dispatch(hideActiveOverlay()),\n    goToPreviousHeaderState: () => dispatch(goToPreviousNavigationState(TOP_NAVIGATION_TYPE))\n});\n\n/** @namespace Component/ProductReviewForm/Container */\nexport class ProductReviewFormContainer extends PureComponent {\n    static propTypes = {\n        showNotification: PropTypes.func.isRequired,\n        goToPreviousHeaderState: PropTypes.func.isRequired,\n        hideActiveOverlay: PropTypes.func.isRequired,\n        reviewRatings: RatingItemsType.isRequired,\n        product: ProductType.isRequired,\n        addReview: PropTypes.func.isRequired,\n        customer: customerType.isRequired\n    };\n\n    containerFunctions = ({\n        onReviewSubmitAttempt: this._onReviewSubmitAttempt.bind(this),\n        onReviewSubmitSuccess: this._onReviewSubmitSuccess.bind(this),\n        onStarRatingClick: this._onStarRatingClick.bind(this),\n        handleNicknameChange: this._handleFieldChange.bind(this, 'nickname'),\n        handleSummaryChange: this._handleFieldChange.bind(this, 'summary'),\n        handleDetailChange: this._handleFieldChange.bind(this, 'detail'),\n        onReviewError: this._onReviewError.bind(this)\n    });\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { customer: { firstname: nickname } } = this.props;\n        const reviewData = { nickname };\n\n        this.state = {\n            isLoading: false,\n            ratingData: {},\n            reviewData\n        };\n    }\n\n    _onReviewError() {\n        this.setState({ isLoading: false });\n    }\n\n    _onReviewSubmitAttempt(_, invalidFields) {\n        const { showNotification, reviewRatings } = this.props;\n        const { ratingData } = this.state;\n\n        const reviewsAreNotValid = invalidFields\n            || !reviewRatings.every(({ rating_id }) => ratingData[rating_id]);\n\n        if (reviewsAreNotValid) {\n            showNotification('info', 'Incorrect data! Please check review fields.');\n        }\n\n        this.setState({ isLoading: !reviewsAreNotValid });\n    }\n\n    _onReviewSubmitSuccess(fields) {\n        const {\n            product,\n            addReview,\n            hideActiveOverlay,\n            goToPreviousHeaderState\n        } = this.props;\n\n        const { ratingData: rating_data, isLoading } = this.state;\n\n        const {\n            nickname,\n            title,\n            detail\n        } = fields;\n\n        const { sku: product_sku } = product;\n\n        if (Object.keys(rating_data).length && isLoading) {\n            addReview({\n                nickname,\n                title,\n                detail,\n                product_sku,\n                rating_data\n            }).then(\n                /** @namespace Component/ProductReviewForm/Container/addReviewThen */\n                (success) => {\n                    if (success) {\n                        this.setState({\n                            ratingData: {},\n                            reviewData: {},\n                            isLoading: false\n                        });\n\n                        goToPreviousHeaderState();\n                        hideActiveOverlay();\n\n                        return;\n                    }\n\n                    this.setState({ isLoading: false });\n                }\n            );\n        }\n    }\n\n    _onStarRatingClick(rating_id, option_id) {\n        this.setState(({ ratingData }) => ({\n            ratingData: { ...ratingData, [rating_id]: option_id }\n        }));\n    }\n\n    _handleFieldChange(fieldName, value) {\n        this.setState(({ reviewData }) => ({\n            reviewData: { ...reviewData, [fieldName]: value }\n        }));\n    }\n\n    render() {\n        return (\n            <ProductReviewForm\n              { ...this.props }\n              { ...this.containerFunctions }\n              { ...this.state }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductReviewFormContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nexport const RatingOptionItemType = PropTypes.shape({\n    option_id: PropTypes.string,\n    value: PropTypes.string\n});\n\nexport const RatingItemsType = PropTypes.arrayOf(\n    PropTypes.shape({\n        rating_id: PropTypes.string,\n        rating_code: PropTypes.string,\n        rating_options: PropTypes.arrayOf(RatingOptionItemType)\n    })\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './ReviewStar.style';\n\n/** @namespace Component/ReviewStar/Component */\nexport class ReviewStar extends PureComponent {\n    static propTypes = {\n        value: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        isChecked: PropTypes.bool.isRequired,\n        option_id: PropTypes.string.isRequired,\n        rating_id: PropTypes.string.isRequired,\n        onStarRatingClick: PropTypes.func.isRequired\n    };\n\n    onStarRatingClick = () => {\n        const {\n            rating_id,\n            option_id,\n            onStarRatingClick\n        } = this.props;\n\n        onStarRatingClick(rating_id, option_id);\n    };\n\n    render() {\n        const {\n            name,\n            value,\n            title,\n            isChecked,\n            rating_id,\n            option_id\n        } = this.props;\n\n        return (\n            <input\n              block=\"ReviewStar\"\n              type=\"radio\"\n              id={ option_id + rating_id }\n              name={ name }\n              value={ value }\n              title={ title }\n              checked={ isChecked }\n              onChange={ this.onStarRatingClick }\n            />\n        );\n    }\n}\n\nexport default ReviewStar;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport ProductReviewItem from 'Component/ProductReviewItem';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductReviewList.style';\n\n/**\n * @class ProductReviewList\n * @namespace Component/ProductReviewList/Component\n */\nexport class ProductReviewList extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired\n    };\n\n    renderReviews() {\n        const { product: { reviews } } = this.props;\n        return reviews.map((reviewItem, i) => (\n            <ProductReviewItem\n              reviewItem={ reviewItem }\n              // eslint-disable-next-line react/no-array-index-key\n              key={ i }\n            />\n        ));\n    }\n\n    render() {\n        const { product } = this.props;\n        const hasReviews = product.reviews && Object.keys(product.reviews).length > 0;\n        if (!hasReviews) {\n            return null;\n        }\n\n        return (\n            <ul block=\"ProductReviewList\">\n                { this.renderReviews() }\n            </ul>\n        );\n    }\n}\n\nexport default ProductReviewList;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductReviewRating from 'Component/ProductReviewRating';\n\nimport './ProductReviewItem.style';\n\n/**\n * @class ProductReviewItem\n * @namespace Component/ProductReviewItem/Component\n */\nexport class ProductReviewItem extends PureComponent {\n    static propTypes = {\n        reviewItem: PropTypes.object.isRequired\n    };\n\n    getFormattedDate(created_at) {\n        // Safari bug\n        const fixedDate = created_at.replace(/-/g, '/');\n        const date = new Date(fixedDate);\n        return date ? date.toDateString() : created_at;\n    }\n\n    renderReviewListItemRating = (ratingVoteItem, i) => {\n        const {\n            rating_code,\n            percent\n        } = ratingVoteItem;\n\n        return (\n            <div\n              key={ i }\n              block=\"ProductReviewItem\"\n              elem=\"RatingSummaryItem\"\n              itemType=\"http://schema.org/Rating\"\n              itemScope\n              itemProp=\"reviewRating\"\n            >\n                <p itemProp=\"name\">{ rating_code }</p>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <ProductReviewRating\n                  summary={ percent }\n                  code={ rating_code }\n                />\n            </div>\n        );\n    };\n\n    renderAuthor(reviewItem) {\n        const { nickname, created_at } = reviewItem;\n\n        return (\n            <p block=\"ProductReviewItem\" elem=\"ReviewAuthor\">\n                { __('Written by ') }\n                <strong itemProp=\"author\">{ nickname }</strong>\n                <meta itemProp=\"datePublished\" content={ this.getFormattedDate(created_at) } />\n                { __(', written at %s', this.getFormattedDate(created_at)) }\n            </p>\n        );\n    }\n\n    render() {\n        const {\n            reviewItem,\n            reviewItem: {\n                title,\n                detail,\n                rating_votes\n            }\n        } = this.props;\n\n        return (\n            <li\n              block=\"ProductReviewItem\"\n              itemType=\"http://schema.org/Review\"\n              itemProp=\"review\"\n              itemScope\n            >\n                <h4 block=\"ProductReviewItem\" elem=\"ReviewTitle\" itemProp=\"name\">\n                    { title }\n                </h4>\n                <div block=\"ProductReviewItem\" elem=\"RatingSummary\">\n                    { rating_votes.map(this.renderReviewListItemRating) }\n                </div>\n                <div block=\"ProductReviewItem\" elem=\"ReviewContent\">\n                    <p block=\"ProductReviewItem\" elem=\"ReviewDetails\" itemProp=\"reviewBody\">\n                        { detail }\n                    </p>\n                    { this.renderAuthor(reviewItem) }\n                </div>\n            </li>\n        );\n    }\n}\n\nexport default ProductReviewItem;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const REVIEW_POPUP_ID = 'REVIEW_POPUP_ID';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductTab from 'Component/ProductTab';\nimport { isMobile } from 'Util/Mobile';\n\nimport './ProductTabs.style';\n\n/** @namespace Component/ProductTabs/Component */\nexport class ProductTabs extends PureComponent {\n    static propTypes = {\n        tabNames: PropTypes.arrayOf(PropTypes.string).isRequired,\n        children: PropTypes.node,\n        defaultTab: PropTypes.string\n    };\n\n    static defaultProps = {\n        children: null,\n        defaultTab: null\n    };\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { defaultTab, tabNames } = this.props;\n\n        this.state = {\n            activeTab: defaultTab || tabNames[0]\n        };\n    }\n\n    onTabClick = (activeTab) => {\n        this.setState({\n            activeTab\n        });\n    };\n\n    renderActiveTab(activeTab, childrenArray) {\n        const { tabNames } = this.props;\n\n        return childrenArray.map((item, i) => {\n            if (tabNames[i].toLowerCase() === activeTab.toLowerCase()) {\n                return item;\n            }\n\n            return false;\n        });\n    }\n\n    renderAllTabs(childrenArray) {\n        return childrenArray.map((item) => item);\n    }\n\n    renderTab = (_, i) => {\n        const { tabNames } = this.props;\n        const { activeTab } = this.state;\n\n        return (\n            <ProductTab\n              tabName={ tabNames[i] }\n              key={ tabNames[i] }\n              onClick={ this.onTabClick }\n              isActive={ tabNames[i].toLowerCase() === activeTab.toLowerCase() }\n            />\n        );\n    };\n\n    renderTabs() {\n        const { children } = this.props;\n        const { activeTab } = this.state;\n\n        return (\n            <>\n                <ul\n                  block=\"ProductTabs\"\n                >\n                    { children.map(this.renderTab) }\n                </ul>\n                { isMobile.any()\n                    ? this.renderAllTabs(children)\n                    : this.renderActiveTab(activeTab, children) }\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <ContentWrapper\n              wrapperMix={ { block: 'ProductTabs', elem: 'Wrapper' } }\n              label={ __('Product tabs') }\n            >\n                { this.renderTabs() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductTabs;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './ProductTab.style';\n\n/** @namespace Component/ProductTab/Component */\nexport class ProductTab extends PureComponent {\n    static propTypes = {\n        tabName: PropTypes.string.isRequired,\n        onClick: PropTypes.func,\n        isActive: PropTypes.bool\n    };\n\n    static defaultProps = {\n        onClick: () => {},\n        isActive: false\n    };\n\n    onClick = () => {\n        const { onClick, tabName } = this.props;\n        onClick(tabName);\n    };\n\n    render() {\n        const { tabName, isActive } = this.props;\n\n        return (\n            <li\n              block=\"ProductTab\"\n              elem=\"Item\"\n              mods={ { isActive } }\n            >\n                <button\n                  mix={ { block: 'ProductTab', elem: 'Button' } }\n                  onClick={ this.onClick }\n                >\n                    { tabName.toUpperCase() }\n                </button>\n            </li>\n        );\n    }\n}\n\nexport default ProductTab;\n","/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductActions from 'Component/ProductActions';\nimport ProductAttributes from 'Component/ProductAttributes';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductGallery from 'Component/ProductGallery';\nimport ProductInformation from 'Component/ProductInformation';\nimport ProductLinks from 'Component/ProductLinks';\nimport ProductReviews from 'Component/ProductReviews';\nimport ProductTabs from 'Component/ProductTabs';\nimport { RELATED, UPSELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { DeviceType } from 'Type/Device';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductPage.style';\n/** @namespace Route/ProductPage/Component */\n\nexport class ProductPage extends PureComponent {\n    static propTypes = {\n        configurableVariantIndex: PropTypes.number.isRequired,\n        productOrVariant: ProductType.isRequired,\n        getLink: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        dataSource: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        device: DeviceType.isRequired\n    };\n\n    renderProductCompareButton() {\n        const {\n            dataSource: { id } = {},\n            device: { isMobile } = {}\n        } = this.props;\n\n        if (!isMobile) {\n            return null;\n        }\n\n        return (\n            <div block=\"ProductPage\" elem=\"ProductCompareButtonWrapper\">\n                <ProductCompareButton\n                  productId={ id }\n                  mix={ {\n                      block: 'ProductCompareButton',\n                      mods: { isGrey: true }\n                  } }\n                />\n            </div>\n        );\n    }\n\n    renderProductPageContent() {\n        const {\n            configurableVariantIndex,\n            parameters,\n            getLink,\n            dataSource,\n            updateConfigurableVariant,\n            productOrVariant,\n            areDetailsLoaded,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice,\n            selectedBundlePrice\n        } = this.props;\n\n        return (\n            <>\n                <ProductGallery\n                  product={ productOrVariant }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                { this.renderProductCompareButton() }\n                <ProductActions\n                  getLink={ getLink }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  product={ dataSource }\n                  productOrVariant={ productOrVariant }\n                  parameters={ parameters }\n                  areDetailsLoaded={ areDetailsLoaded }\n                  configurableVariantIndex={ configurableVariantIndex }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  selectedBundlePrice={ selectedBundlePrice }\n                />\n            </>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            dataSource: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCustomizableOptions\n              options={ options || [] }\n              getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderAdditionalSections() {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <>\n                { this.renderCustomizableOptions() }\n                <ProductTabs tabNames={ [__('About'), __('Details'), __('Reviews')] }>\n                    <ProductInformation\n                      product={ { ...dataSource, parameters } }\n                      areDetailsLoaded={ areDetailsLoaded }\n                    />\n                    <ProductAttributes\n                      product={ { ...dataSource, parameters } }\n                      areDetailsLoaded={ areDetailsLoaded }\n                    />\n                    <ProductReviews\n                      product={ dataSource }\n                      areDetailsLoaded={ areDetailsLoaded }\n                    />\n                </ProductTabs>\n\n                <ProductLinks\n                  linkType={ RELATED }\n                  title={ __('Recommended for you') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductLinks\n                  linkType={ UPSELL }\n                  title={ __('You might also like') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <main\n              block=\"ProductPage\"\n              aria-label=\"Product page\"\n              itemScope\n              itemType=\"http://schema.org/Product\"\n            >\n                <ContentWrapper\n                  wrapperMix={ { block: 'ProductPage', elem: 'Wrapper' } }\n                  label={ __('Main product details') }\n                >\n                    { this.renderProductPageContent() }\n                </ContentWrapper>\n                { this.renderAdditionalSections() }\n            </main>\n        );\n    }\n}\n\nexport default ProductPage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductActions.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable react/no-array-index-key */\n// Disabled due placeholder needs\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport AddToCart from 'Component/AddToCart';\nimport Field from 'Component/Field';\nimport GroupedProductList from 'Component/GroupedProductList';\nimport Html from 'Component/Html';\nimport ProductBundleItems from 'Component/ProductBundleItems';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductConfigurableAttributes from 'Component/ProductConfigurableAttributes';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductPrice from 'Component/ProductPrice';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport ProductWishlistButton from 'Component/ProductWishlistButton';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport TierPrices from 'Component/TierPrices';\nimport { DeviceType } from 'Type/Device';\nimport { PriceType, ProductType } from 'Type/ProductList';\nimport {\n    BUNDLE,\n    CONFIGURABLE,\n    GROUPED\n} from 'Util/Product';\n\nimport './ProductActions.style';\n\n/**\n * Product actions\n * @class ProductActions\n * @namespace Component/ProductActions/Component\n */\nexport class ProductActions extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        productOrVariant: ProductType.isRequired,\n        minQuantity: PropTypes.number.isRequired,\n        maxQuantity: PropTypes.number.isRequired,\n        configurableVariantIndex: PropTypes.number,\n        showOnlyIfLoaded: PropTypes.func.isRequired,\n        quantity: PropTypes.number.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getLink: PropTypes.func.isRequired,\n        setQuantity: PropTypes.func.isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        getIsConfigurableAttributeAvailable: PropTypes.func.isRequired,\n        groupedProductQuantity: PropTypes.objectOf(PropTypes.number).isRequired,\n        clearGroupedProductQuantity: PropTypes.func.isRequired,\n        setGroupedProductQuantity: PropTypes.func.isRequired,\n        onProductValidationError: PropTypes.func.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        productPrice: PriceType,\n        productName: PropTypes.string,\n        offerCount: PropTypes.number.isRequired,\n        offerType: PropTypes.string.isRequired,\n        stockMeta: PropTypes.string.isRequired,\n        metaLink: PropTypes.string.isRequired,\n        device: DeviceType.isRequired\n    };\n\n    static defaultProps = {\n        configurableVariantIndex: 0,\n        productPrice: {},\n        productName: ''\n    };\n\n    configurableOptionsRef = createRef();\n\n    groupedProductsRef = createRef();\n\n    renderStock(stockStatus) {\n        if (stockStatus === 'OUT_OF_STOCK') {\n            return __('Out of stock');\n        }\n\n        return __('In stock');\n    }\n\n    renderSkuAndStock() {\n        const {\n            product,\n            product: { variants },\n            configurableVariantIndex,\n            showOnlyIfLoaded\n        } = this.props;\n\n        const productOrVariant = variants && variants[configurableVariantIndex] !== undefined\n            ? variants[configurableVariantIndex]\n            : product;\n\n        const { sku, stock_status } = productOrVariant;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'sku' } }\n              aria-label=\"Product SKU and availability\"\n            >\n                { showOnlyIfLoaded(\n                    sku,\n                    (\n                        <>\n                            <span block=\"ProductActions\" elem=\"Sku\">\n                                SKU:\n                            </span>\n                            <span block=\"ProductActions\" elem=\"Sku\" itemProp=\"sku\">\n                                { `${ sku }` }\n                            </span>\n                            <span block=\"ProductActions\" elem=\"Stock\">\n                                { this.renderStock(stock_status) }\n                            </span>\n                        </>\n                    ),\n                    <TextPlaceholder />\n                ) }\n            </section>\n        );\n    }\n\n    renderConfigurableAttributes() {\n        const {\n            getLink,\n            updateConfigurableVariant,\n            parameters,\n            areDetailsLoaded,\n            product: { configurable_options, type_id },\n            getIsConfigurableAttributeAvailable\n        } = this.props;\n\n        if (type_id !== 'configurable') {\n            return null;\n        }\n\n        return (\n            <div\n              ref={ this.configurableOptionsRef }\n              block=\"ProductActions\"\n              elem=\"AttributesWrapper\"\n            >\n                <ProductConfigurableAttributes\n                    // eslint-disable-next-line no-magic-numbers\n                  numberOfPlaceholders={ [2, 4] }\n                  mix={ { block: 'ProductActions', elem: 'Attributes' } }\n                  isReady={ areDetailsLoaded }\n                  getLink={ getLink }\n                  parameters={ parameters }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  configurable_options={ configurable_options }\n                  getIsConfigurableAttributeAvailable={ getIsConfigurableAttributeAvailable }\n                  isContentExpanded\n                />\n            </div>\n        );\n    }\n\n    renderBundleItems() {\n        const {\n            product: { items, type_id, price_range },\n            maxQuantity,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice\n        } = this.props;\n\n        if (type_id !== BUNDLE) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'bundle_items' } }\n            >\n                <ProductBundleItems\n                  items={ items }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  maxQuantity={ maxQuantity }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  price_range={ price_range }\n                />\n            </section>\n        );\n    }\n\n    renderShortDescriptionContent() {\n        const { product: { short_description } } = this.props;\n        const { html } = short_description || {};\n\n        const htmlWithItemProp = `<div itemProp=\"description\">${ html }</div>`;\n\n        return (\n            <div block=\"ProductActions\" elem=\"ShortDescription\">\n                { html ? <Html content={ htmlWithItemProp } /> : <p><TextPlaceholder length=\"long\" /></p> }\n            </div>\n        );\n    }\n\n    renderShortDescription() {\n        const { product: { short_description, id } } = this.props;\n        const { html } = short_description || {};\n\n        if (!html && id) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'short' } }\n              aria-label=\"Product short description\"\n            >\n                { this.renderShortDescriptionContent() }\n            </section>\n        );\n    }\n\n    renderNameAndBrand() {\n        const {\n            product:\n                {\n                    name,\n                    attributes: { brand: { attribute_value: brand } = {} } = {}\n                },\n            showOnlyIfLoaded\n        } = this.props;\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'name' } }\n            >\n                { showOnlyIfLoaded(\n                    brand,\n                    (\n                        <h4 block=\"ProductActions\" elem=\"Brand\" itemProp=\"brand\">\n                            <TextPlaceholder content={ brand } />\n                        </h4>\n                    )\n                ) }\n                <h1 block=\"ProductActions\" elem=\"Title\" itemProp=\"name\">\n                    <TextPlaceholder content={ name } length=\"medium\" />\n                </h1>\n            </section>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            product: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (device.isMobile) {\n            return null;\n        }\n\n        return (\n            <section\n              block=\"ProductActions\"\n              elem=\"Section\"\n              mods={ { type: 'customizable_options' } }\n            >\n                <ProductCustomizableOptions\n                  options={ options }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                />\n            </section>\n        );\n    }\n\n    renderQuantityInput() {\n        const {\n            quantity,\n            maxQuantity,\n            minQuantity,\n            setQuantity,\n            product: { type_id }\n        } = this.props;\n\n        if (type_id === GROUPED) {\n            return null;\n        }\n\n        return (\n            <Field\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              value={ quantity }\n              max={ maxQuantity }\n              min={ minQuantity }\n              mix={ { block: 'ProductActions', elem: 'Qty' } }\n              onChange={ setQuantity }\n            />\n        );\n    }\n\n    renderAddToCart() {\n        const {\n            configurableVariantIndex,\n            product,\n            quantity,\n            groupedProductQuantity,\n            onProductValidationError,\n            productOptionsData\n        } = this.props;\n\n        return (\n            <AddToCart\n              product={ product }\n              configurableVariantIndex={ configurableVariantIndex }\n              mix={ { block: 'ProductActions', elem: 'AddToCart' } }\n              quantity={ quantity }\n              groupedProductQuantity={ groupedProductQuantity }\n              onProductValidationError={ onProductValidationError }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderOfferCount() {\n        const { offerCount } = this.props;\n\n        if (offerCount > 1) {\n            return (\n                <meta\n                  itemProp=\"offerCount\"\n                  content={ offerCount }\n                />\n            );\n        }\n\n        return null;\n    }\n\n    renderSchema() {\n        const {\n            productName,\n            stockMeta,\n            metaLink\n        } = this.props;\n\n        return (\n            <>\n                { this.renderOfferCount() }\n                <meta itemProp=\"availability\" content={ stockMeta } />\n                <a\n                  block=\"ProductActions\"\n                  elem=\"Schema-Url\"\n                  itemProp=\"url\"\n                  href={ metaLink }\n                >\n                    { productName }\n                </a>\n            </>\n        );\n    }\n\n    renderConfigurablePriceBadge() {\n        const {\n            configurableVariantIndex,\n            product: { type_id }\n        } = this.props;\n\n        if (\n            type_id !== CONFIGURABLE\n            || configurableVariantIndex > -1\n        ) {\n            return null;\n        }\n\n        return (\n            <p\n              mix={ {\n                  block: 'ProductActions',\n                  elem: 'ConfigurablePriceBadge'\n              } }\n            >\n                { __('As Low as') }\n            </p>\n        );\n    }\n\n    renderPriceWithSchema() {\n        const {\n            productPrice,\n            offerCount\n        } = this.props;\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"PriceWrapper\"\n            >\n                { this.renderConfigurablePriceBadge() }\n                { this.renderSchema() }\n                <ProductPrice\n                  isSchemaRequired\n                  variantsCount={ offerCount }\n                  price={ productPrice }\n                  mix={ { block: 'ProductActions', elem: 'Price' } }\n                />\n            </div>\n        );\n    }\n\n    renderPriceWithGlobalSchema() {\n        const {\n            offerType,\n            product: {\n                type_id\n            }\n        } = this.props;\n\n        if (type_id === GROUPED) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"Schema\"\n              itemType={ offerType }\n              itemProp=\"offers\"\n              itemScope\n            >\n                { this.renderPriceWithSchema() }\n            </div>\n        );\n    }\n\n    renderProductWishlistButton() {\n        const {\n            product,\n            quantity,\n            configurableVariantIndex,\n            onProductValidationError\n        } = this.props;\n\n        return (\n            <ProductWishlistButton\n              product={ product }\n              quantity={ quantity }\n              configurableVariantIndex={ configurableVariantIndex }\n              onProductValidationError={ onProductValidationError }\n            />\n        );\n    }\n\n    renderProductCompareButton() {\n        const {\n            product: { id } = {},\n            device: { isMobile } = {}\n        } = this.props;\n\n        if (!id || isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCompareButton productId={ id } />\n        );\n    }\n\n    renderReviews() {\n        const {\n            product: {\n                review_summary: {\n                    rating_summary,\n                    review_count\n                } = {}\n            }\n        } = this.props;\n\n        if (!rating_summary) {\n            return null;\n        }\n\n        const ONE_FIFTH_OF_A_HUNDRED = 20;\n        const rating = parseFloat(rating_summary / ONE_FIFTH_OF_A_HUNDRED).toFixed(2);\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"Reviews\"\n            >\n                <ProductReviewRating summary={ rating_summary || 0 } />\n                <p block=\"ProductActions\" elem=\"ReviewLabel\">\n                    { rating }\n                    <span>{ __('%s reviews', review_count) }</span>\n                </p>\n            </div>\n        );\n    }\n\n    renderGroupedItems() {\n        const {\n            product,\n            product: {\n                type_id\n            },\n            groupedProductQuantity,\n            setGroupedProductQuantity,\n            clearGroupedProductQuantity\n        } = this.props;\n\n        if (type_id !== GROUPED) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductActions\"\n              elem=\"GroupedItems\"\n              ref={ this.groupedProductsRef }\n            >\n                <GroupedProductList\n                  product={ product }\n                  clearGroupedProductQuantity={ clearGroupedProductQuantity }\n                  groupedProductQuantity={ groupedProductQuantity }\n                  setGroupedProductQuantity={ setGroupedProductQuantity }\n                />\n            </div>\n        );\n    }\n\n    renderTierPrices() {\n        const { productOrVariant } = this.props;\n\n        return (\n            <div block=\"ProductActions\" elem=\"TierPrices\">\n                <TierPrices product={ productOrVariant } />\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <article block=\"ProductActions\">\n                { this.renderPriceWithGlobalSchema() }\n                { this.renderShortDescription() }\n                <div\n                  block=\"ProductActions\"\n                  elem=\"AddToCartWrapper\"\n                  mix={ { block: 'FixedElement', elem: 'Bottom' } }\n                >\n                    { this.renderQuantityInput() }\n                    { this.renderAddToCart() }\n                    { this.renderProductCompareButton() }\n                    { this.renderProductWishlistButton() }\n                </div>\n                { this.renderReviews() }\n                { this.renderNameAndBrand() }\n                { this.renderSkuAndStock() }\n                { this.renderConfigurableAttributes() }\n                { this.renderCustomizableOptions() }\n                { this.renderBundleItems() }\n                { this.renderGroupedItems() }\n                { this.renderTierPrices() }\n            </article>\n        );\n    }\n}\n\nexport default ProductActions;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './GroupedProductList.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './GroupedProductsItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Image from 'Component/Image';\nimport ProductPrice from 'Component/ProductPrice';\nimport TextPlaceholder from 'Component/TextPlaceholder';\nimport { ProductType } from 'Type/ProductList';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './GroupedProductsItem.style';\n\n/**\n * Grouped Product Item\n * @class GroupedProduct\n * @namespace Component/GroupedProductsItem/Component\n */\nexport class GroupedProductsItem extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        changeCount: PropTypes.func.isRequired,\n        itemCount: PropTypes.number.isRequired\n    };\n\n    renderTitle() {\n        const {\n            product: {\n                name,\n                price_range\n            }\n        } = this.props;\n\n        return (\n            <div block=\"GroupedProductsItem\" elem=\"Title\">\n                <p>\n                    <TextPlaceholder content={ name } />\n                </p>\n                <ProductPrice price={ price_range } mods={ { type: 'regular' } } />\n            </div>\n        );\n    }\n\n    renderQuantity() {\n        const {\n            changeCount,\n            itemCount\n        } = this.props;\n\n        return (\n            <div block=\"GroupedProductsItem\" elem=\"Quantity\">\n                <Field\n                  type=\"number\"\n                  id=\"HeaderInput\"\n                  name=\"HeaderInput\"\n                  onChange={ changeCount }\n                  value={ itemCount }\n                  min={ 0 }\n                />\n            </div>\n        );\n    }\n\n    renderImage() {\n        const {\n            product: {\n                thumbnail: {\n                    path: thumb_url\n                }\n            }\n        } = this.props;\n\n        return (\n            <Image\n              mix={ { block: 'GroupedProductsItem', elem: 'Image' } }\n              src={ thumb_url && media(thumb_url, PRODUCT_MEDIA) }\n              alt=\"Product Thumbnail\"\n            />\n        );\n    }\n\n    render() {\n        return (\n            <li block=\"GroupedProductsItem\" aria-label=\"Product Item\">\n                { this.renderImage() }\n                { this.renderTitle() }\n                { this.renderQuantity() }\n            </li>\n        );\n    }\n}\n\nexport default GroupedProductsItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductBundleItems.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductCustomizableOption.container';\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const CHECKBOX = 'checkbox';\nexport const DROPDOWN = 'dropdown';\nexport const TEXT_FIELD = 'field';\nexport const AREA_FIELD = 'area';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ProductBundleItem from 'Component/ProductBundleItem';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions/ProductCustomizableOptions.component';\n\n/** @namespace Component/ProductBundleItems/Component */\nexport class ProductBundleItems extends ProductCustomizableOptions {\n    static propTypes = {\n        ...ProductCustomizableOptions.propTypes,\n        items: PropTypes.array,\n        maxQuantity: PropTypes.number.isRequired,\n        updateQuantity: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        items: []\n    };\n\n    renderContent() {\n        const {\n            items,\n            setSelectedCheckboxValues,\n            setSelectedDropdownValue,\n            maxQuantity,\n            updateQuantity,\n            productOptionsData,\n            price_range\n        } = this.props;\n\n        return items.map((item, key) => (\n            <ProductBundleItem\n              option={ item }\n              price_range={ price_range }\n              /* eslint-disable-next-line react/no-array-index-key */\n              key={ key }\n              setSelectedCheckboxValues={ setSelectedCheckboxValues }\n              setSelectedDropdownValue={ setSelectedDropdownValue }\n              maxQuantity={ maxQuantity }\n              updateQuantity={ updateQuantity }\n              productOptionsData={ productOptionsData }\n            />\n        ));\n    }\n}\n\nexport default ProductBundleItems;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductBundleItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport Field from 'Component/Field';\nimport ProductCustomizableOption from 'Component/ProductCustomizableOption/ProductCustomizableOption.component';\n\nimport {\n    CHECKBOX,\n    MULTI,\n    RADIO,\n    SELECT\n} from './ProductBundleItem.config';\n\nimport './ProductBundleItem.style';\n\n/** @namespace Component/ProductBundleItem/Component */\nexport class ProductBundleItem extends ProductCustomizableOption {\n    static propTypes = {\n        ...ProductCustomizableOption.propTypes,\n        maxQuantity: PropTypes.number.isRequired,\n        setDropdownItemQuantity: PropTypes.func.isRequired\n    };\n\n    renderMap = {\n        [CHECKBOX]: this.renderCheckboxValues.bind(this),\n        [MULTI]: this.renderCheckboxValues.bind(this),\n        [RADIO]: this.renderDropdownValues.bind(this),\n        [SELECT]: this.renderDropdownValues.bind(this)\n    };\n\n    renderHeading(mainTitle, titleBold, quantity) {\n        return (\n            <>\n                <span\n                  block=\"ProductBundleItem\"\n                  elem=\"Heading\"\n                >\n                    { `${ quantity } x ${ mainTitle } + ` }\n                </span>\n                <span\n                  block=\"ProductBundleItem\"\n                  elem=\"HeadingBold\"\n                >\n                    { titleBold }\n                </span>\n            </>\n        );\n    }\n\n    renderOptionCheckboxValue = (item) => {\n        const {\n            getSelectedCheckboxValue,\n            renderOptionLabel\n        } = this.props;\n\n        const {\n            id,\n            label,\n            product: { price_range: { minimum_price: { regular_price: { value } } } },\n            price_type,\n            quantity,\n            is_default\n        } = item;\n\n        const priceLabel = renderOptionLabel(price_type, value);\n\n        return (\n            <div key={ id }>\n                <Field\n                  type=\"checkbox\"\n                  label={ this.renderHeading(label, priceLabel, quantity) }\n                  id={ `option-${ id }` }\n                  name={ `option-${ id }` }\n                  value={ id }\n                  checked={ is_default }\n                  onChange={ getSelectedCheckboxValue }\n                />\n            </div>\n        );\n    };\n\n    renderQtyInput = (item) => {\n        const {\n            selectedDropdownValue,\n            setDropdownItemQuantity,\n            maxQuantity\n        } = this.props;\n        const { id, quantity, can_change_quantity } = item;\n\n        if (id !== selectedDropdownValue || !can_change_quantity) {\n            return null;\n        }\n\n        return (\n            <Field\n              key={ id }\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              value={ quantity }\n              max={ maxQuantity }\n              min={ 1 }\n              mix={ { block: 'ProductBundleItems', elem: 'Qty' } }\n              onChange={ setDropdownItemQuantity }\n            />\n        );\n    };\n\n    renderOptionDropdownValues(values) {\n        const {\n            option: { options },\n            getDropdownOptions,\n            selectedDropdownValue,\n            setDropdownValue\n        } = this.props;\n        const dropdownOptions = getDropdownOptions(values);\n\n        return (\n            <div block=\"ProductBundleItem\" elem=\"DropdownWrapper\">\n                <Field\n                  id=\"bundle-options-dropdown\"\n                  name=\"bundle-options-dropdown\"\n                  type=\"select\"\n                  mix={ { block: 'ProductBundleItem', elem: 'Select' } }\n                  placeholder={ __('Choose Option') }\n                  selectOptions={ dropdownOptions }\n                  value={ selectedDropdownValue }\n                  onChange={ setDropdownValue }\n                />\n                { options.map(this.renderQtyInput) }\n            </div>\n        );\n    }\n\n    renderCheckboxValues() {\n        const { option: { required, options } } = this.props;\n\n        return (\n            <>\n                { options.map(this.renderOptionCheckboxValue) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    renderDropdownValues() {\n        const { option: { required, options } } = this.props;\n\n        return (\n            <>\n                { this.renderOptionDropdownValues(options) }\n                { this.renderRequired(required) }\n            </>\n        );\n    }\n\n    render() {\n        const { optionType } = this.props;\n        const render = this.renderMap[optionType];\n\n        if (!render) {\n            return null;\n        }\n\n        const { option: { title } } = this.props;\n\n        return (\n            <div block=\"ProductBundleItem\" elem=\"Wrapper\">\n                <div block=\"ProductBundleItem\" elem=\"Title\">\n                    { title }\n                </div>\n                { render() }\n            </div>\n        );\n    }\n}\n\nexport default ProductBundleItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport const CHECKBOX = 'checkbox';\nexport const MULTI = 'multi';\nexport const SELECT = 'select';\nexport const RADIO = 'radio';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductConfigurableAttributes.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductAttributes.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { Fragment, PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport ProductAttributeValue from 'Component/ProductAttributeValue';\nimport { AttributeType, ProductType } from 'Type/ProductList';\n\nimport './ProductAttributes.style';\n\n/** @namespace Component/ProductAttributes/Component */\nexport class ProductAttributes extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        attributesWithValues: AttributeType.isRequired\n    };\n\n    renderAttribute = ([attributeLabel, valueLabel]) => (\n        <Fragment key={ attributeLabel }>\n            <dt block=\"ProductAttributes\" elem=\"AttributeLabel\">\n                { attributeLabel }\n            </dt>\n            <dd block=\"ProductAttributes\" elem=\"ValueLabel\">\n                <ProductAttributeValue\n                  key={ attributeLabel }\n                  attribute={ valueLabel }\n                  isFormattedAsText\n                />\n            </dd>\n        </Fragment>\n    );\n\n    renderAttributes() {\n        const { attributesWithValues } = this.props;\n\n        if (!Object.keys(attributesWithValues).length) {\n            return null;\n        }\n\n        return (\n            <dl block=\"ProductAttributes\" elem=\"Attributes\">\n                { Object.entries(attributesWithValues).map(this.renderAttribute) }\n            </dl>\n        );\n    }\n\n    renderContent() {\n        const { areDetailsLoaded } = this.props;\n        const heading = areDetailsLoaded ? __('Product attributes') : '';\n\n        return (\n            <ExpandableContent\n              // show placeholder if the details are not loaded\n              heading={ heading }\n              mix={ { block: 'ProductAttributes', elem: 'Content' } }\n            >\n                { this.renderAttributes() }\n            </ExpandableContent>\n        );\n    }\n\n    render() {\n        const {\n            areDetailsLoaded,\n            product: {\n                description: { html } = {}\n            }\n        } = this.props;\n\n        if (!html && areDetailsLoaded) {\n            return null;\n        }\n\n        return (\n            <ContentWrapper\n              label=\"Product attributes\"\n              mix={ { block: 'ProductAttributes' } }\n              wrapperMix={ { block: 'ProductAttributes', elem: 'Wrapper' } }\n            >\n                { this.renderContent() }\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductAttributes;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductGallery.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ImageZoomPopup.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport TranslateOnCursorMove from 'Component/TranslateOnCursorMove';\nimport { ChildrenType } from 'Type/Common';\n\nimport './ImageZoomPopup.style';\n\n/** @namespace Component/ImageZoomPopup/Component */\nexport class ImageZoomPopup extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired\n    };\n\n    render() {\n        const {\n            children,\n            activeImageId\n        } = this.props;\n\n        return (\n            <div block=\"ImageZoomPopup\">\n                <TranslateOnCursorMove\n                  activeImageId={ activeImageId }\n                >\n                    { children }\n                </TranslateOnCursorMove>\n            </div>\n        );\n    }\n}\n\nexport default ImageZoomPopup;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './TranslateOnCursorMove.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './TranslateOnCursorMove.style';\n\n/** @namespace Component/TranslateOnCursorMove/Component */\nexport class TranslateOnCursorMove extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired,\n        isMobile: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n    };\n\n    ref = createRef();\n\n    handleMouseMove = ({ pageY: wrapperPageY }) => {\n        const { activeImageId } = this.props;\n\n        // Space from top and bottom to shrink mouse move watch area\n        const paddingY = 90;\n\n        // TODO: need to think how to implement more dynamic way\n        const innerHeight = this.ref.current.children[0].children[1].children[0].children[0]\n            .children[activeImageId].children[0].getBoundingClientRect().height;\n        const { height: wrapperHeight, top } = this.ref.current.getBoundingClientRect();\n\n        const pageY = wrapperPageY - top;\n\n        // When mouse is reached top or bottom\n        if (wrapperPageY < paddingY + top || (wrapperPageY > (wrapperHeight + top - paddingY))) {\n            return;\n        }\n\n        const ratio = (innerHeight - wrapperHeight) / (wrapperHeight - (paddingY * 2));\n        const translate = (pageY - paddingY) * ratio;\n\n        CSS.setVariable(this.ref, 'translateYOnCursorMove', `${ -translate }px`);\n    };\n\n    render() {\n        const { children, isMobile } = this.props;\n\n        if (isMobile) {\n            return children;\n        }\n\n        return (\n            <div block=\"TranslateOnCursorMove\" onMouseMove={ this.handleMouseMove } ref={ this.ref }>\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default TranslateOnCursorMove;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { withRouter } from 'react-router';\nimport { TransformWrapper } from 'react-zoom-pan-pinch';\n\nimport CarouselScroll from 'Component/CarouselScroll';\nimport Image from 'Component/Image';\nimport ProductGalleryBaseImage from 'Component/ProductGalleryBaseImage';\nimport ProductGalleryThumbnailImage from 'Component/ProductGalleryThumbnailImage';\nimport Slider from 'Component/Slider';\nimport VideoPopup from 'Component/VideoPopup';\nimport VideoThumbnail from 'Component/VideoThumbnail';\nimport { LocationType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport {\n    IMAGE_TYPE,\n    MAX_ZOOM_SCALE,\n    PLACEHOLDER_TYPE,\n    VIDEO_TYPE\n} from './ProductGallery.config';\n\nimport './ProductGallery.style';\n\n/**\n * Product gallery\n * @class ProductGallery\n * @namespace Component/ProductGallery/Component\n */\nexport class ProductGallery extends PureComponent {\n    static propTypes = {\n        gallery: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([\n                    PropTypes.number,\n                    PropTypes.string\n                ]),\n                image: PropTypes.string,\n                isPlaceholder: PropTypes.bool,\n                alt: PropTypes.string,\n                type: PropTypes.string\n            })\n        ).isRequired,\n        productId: PropTypes.number,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        activeImage: PropTypes.number.isRequired,\n        onActiveImageChange: PropTypes.func.isRequired,\n        handleZoomChange: PropTypes.func.isRequired,\n        registerSharedElementDestination: PropTypes.func.isRequired,\n        disableZoom: PropTypes.func.isRequired,\n        location: LocationType.isRequired,\n        sliderRef: PropTypes.object.isRequired,\n        handleImageZoomPopupActiveChange: PropTypes.func.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        isImageZoomPopupActive: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        productId: 0\n    };\n\n    maxScale = MAX_ZOOM_SCALE;\n\n    imageRef = createRef();\n\n    state = {\n        scrollEnabled: true\n    };\n\n    __construct(props, context) {\n        super.__construct(props, context);\n        this.renderSlide = this.renderSlide.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateSharedDestinationElement();\n    }\n\n    componentDidUpdate(prevProps) {\n        const { productId, location: { pathname }, sliderRef } = this.props;\n        const { productId: prevProductId, location: { pathname: prevPathname } } = prevProps;\n\n        if (productId !== prevProductId) {\n            this.updateSharedDestinationElement();\n        }\n\n        if (sliderRef?.current?.draggableRef && pathname !== prevPathname) {\n            CSS.setVariable(\n                sliderRef.current.draggableRef,\n                'animation-speed',\n                0\n            );\n        }\n    }\n\n    handleSliderClick = () => {\n        const { handleImageZoomPopupActiveChange } = this.props;\n\n        handleImageZoomPopupActiveChange(true);\n    };\n\n    updateSharedDestinationElement() {\n        const { registerSharedElementDestination } = this.props;\n        registerSharedElementDestination(this.imageRef);\n    }\n\n    renderAdditionalPicture = (media, index = 0) => (\n        <ProductGalleryThumbnailImage\n          key={ index }\n          media={ media }\n        />\n    );\n\n    /**\n     * Renders a video thumbnail which opens popup player on click/tap\n     * @param media\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderVideo(media, index) {\n        return (\n            <VideoThumbnail\n              key={ index }\n              media={ media }\n            />\n        );\n    }\n\n    renderPlaceholder(index) {\n        return (\n            <Image\n              key={ index }\n              ratio=\"custom\"\n              mix={ {\n                  block: 'ProductGallery',\n                  elem: 'SliderImage',\n                  mods: { isPlaceholder: true }\n              } }\n              isPlaceholder\n            />\n        );\n    }\n\n    stopScrolling() {\n        this.setState({ scrollEnabled: false });\n        this.timeout = setTimeout(() => {\n            this.setState({ scrollEnabled: true });\n            this.timeout = null;\n\n            // 20 ms is time give to scroll down, usually that is enough\n            // eslint-disable-next-line no-magic-numbers\n        }, 20);\n    }\n\n    onWheel = (zoomState) => {\n        const { scale } = zoomState;\n\n        if (this.timeout) {\n            return;\n        }\n\n        if (scale === 1 || scale === MAX_ZOOM_SCALE) {\n            this.stopScrolling();\n        }\n    };\n\n    /**\n     * Renders a product image to be displayed in the gallery\n     * @param mediaData\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderImage(mediaData, index) {\n        const {\n            isZoomEnabled,\n            handleZoomChange,\n            disableZoom,\n            isMobile,\n            isImageZoomPopupActive\n        } = this.props;\n        const { scrollEnabled } = this.state;\n\n        if (!isMobile) {\n            const { base: { url: src } } = mediaData;\n\n            const style = isImageZoomPopupActive ? { height: 'auto' } : {};\n\n            return (\n                <Image\n                  key={ index }\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  style={ style }\n                />\n            );\n        }\n\n        return (\n            <TransformWrapper\n              key={ index }\n              onZoomChange={ handleZoomChange }\n              onWheelStart={ this.onWheelStart }\n              onWheel={ this.onWheel }\n              wheel={ { limitsOnWheel: true, disabled: !scrollEnabled } }\n            //   doubleClick={ { mode: 'reset' } }\n              pan={ {\n                  disabled: !isZoomEnabled,\n                  limitToWrapperBounds: true,\n                  velocity: false\n              } }\n              options={ {\n                  limitToBounds: true,\n                  minScale: 1\n              } }\n            >\n                { ({\n                    scale,\n                    previousScale,\n                    resetTransform,\n                    setTransform\n                }) => {\n                    if (scale === 1 && previousScale !== 1) {\n                        resetTransform();\n                    }\n\n                    return (\n                        <ProductGalleryBaseImage\n                          setTransform={ setTransform }\n                          index={ index }\n                          mediaData={ mediaData }\n                          scale={ scale }\n                          previousScale={ previousScale }\n                          disableZoom={ disableZoom }\n                          isZoomEnabled={ isZoomEnabled }\n                        />\n                    );\n                } }\n            </TransformWrapper>\n        );\n    }\n\n    /**\n     * Checks for the type of the slide and renders it accordingly\n     * @param media\n     * @param index\n     * @returns {null|*}\n     */\n    renderSlide(media, index) {\n        const { media_type } = media;\n\n        switch (media_type) {\n        case IMAGE_TYPE:\n            return this.renderImage(media, index);\n        case VIDEO_TYPE:\n            return this.renderVideo(media, index);\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder(index);\n        default:\n            return null;\n        }\n    }\n\n    renderAdditionalPictures() {\n        const {\n            gallery,\n            isImageZoomPopupActive,\n            activeImage,\n            onActiveImageChange\n        } = this.props;\n\n        if (gallery.length === 1) {\n            return <div block=\"ProductGallery\" elem=\"Additional\" />;\n        }\n\n        return (\n            <div block=\"ProductGallery\" elem=\"Additional\" mods={ { isImageZoomPopupActive } }>\n                <CarouselScroll activeItemId={ activeImage } onChange={ onActiveImageChange } showedItemCount={ 4 }>\n                    { gallery.map(this.renderAdditionalPicture) }\n                </CarouselScroll>\n            </div>\n        );\n    }\n\n    renderSlider() {\n        const {\n            gallery,\n            activeImage,\n            isZoomEnabled,\n            onActiveImageChange,\n            isImageZoomPopupActive,\n            sliderRef\n        } = this.props;\n\n        const mods = {\n            isImageZoomPopupActive,\n            isZoomInCursor: !isImageZoomPopupActive\n        };\n\n        return (\n            <div\n              ref={ this.imageRef }\n              block=\"ProductGallery\"\n              elem=\"SliderWrapper\"\n            >\n                <Slider\n                  sliderRef={ sliderRef }\n                  mix={ { block: 'ProductGallery', elem: 'Slider', mods } }\n                  showCrumbs\n                  activeImage={ activeImage }\n                  onActiveImageChange={ onActiveImageChange }\n                  isInteractionDisabled={ isZoomEnabled }\n                  onClick={ this.handleSliderClick }\n                  sliderHeight={ isImageZoomPopupActive ? '100%' : 0 }\n                  isHeightTransitionDisabledOnMount\n                >\n                    { gallery.map(this.renderSlide) }\n                </Slider>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"ProductGallery\">\n                { this.renderAdditionalPictures() }\n                { this.renderSlider() }\n                <VideoPopup />\n            </div>\n        );\n    }\n}\n\nexport default withRouter(ProductGallery);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './CarouselScroll.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './CarouselScrollArrow.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './CarouselScrollArrow.style';\n\n/** @namespace Component/CarouselScrollArrow/Component */\nexport class CarouselScrollArrow extends PureComponent {\n    static propTypes = {\n        mods: PropTypes.object,\n        onClick: PropTypes.func\n    };\n\n    static defaultProps = {\n        mods: {},\n        onClick: () => {}\n    };\n\n    render() {\n        const { mods, onClick } = this.props;\n\n        return (\n            <button\n              block=\"CarouselScrollArrow\"\n              mods={ mods }\n              onClick={ onClick }\n              aria-label=\"Arrow\"\n            />\n        );\n    }\n}\n\nexport default CarouselScrollArrow;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './CarouselScrollItem.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\n\nimport './CarouselScrollItem.style';\n\n/** @namespace Component/CarouselScrollItem/Component */\nexport class CarouselScrollItem extends PureComponent {\n    static propTypes = {\n        isActive: PropTypes.bool.isRequired,\n        itemRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ]).isRequired,\n        onClick: PropTypes.func.isRequired,\n        children: ChildrenType.isRequired\n    };\n\n    render() {\n        const {\n            isActive,\n            itemRef,\n            onClick,\n            children\n        } = this.props;\n\n        return (\n            <button\n              block=\"CarouselScrollItem\"\n              mods={ { isActive } }\n              ref={ itemRef }\n              onClick={ onClick }\n            >\n                { children }\n            </button>\n        );\n    }\n}\n\nexport default CarouselScrollItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport { default } from './ProductGalleryBaseImage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { TransformComponent } from 'react-zoom-pan-pinch';\n\nimport Image from 'Component/Image';\n\n/** @namespace Component/ProductGalleryBaseImage/Component */\nexport class ProductGalleryBaseImage extends PureComponent {\n    static propTypes = {\n        src: PropTypes.string.isRequired,\n        alt: PropTypes.string.isRequired\n    };\n\n    render() {\n        const { src, alt } = this.props;\n\n        return (\n            <TransformComponent>\n                <Image\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  alt={ alt }\n                />\n                <img\n                  style={ { display: 'none' } }\n                  alt={ alt }\n                  src={ src }\n                  itemProp=\"image\"\n                />\n            </TransformComponent>\n        );\n    }\n}\n\nexport default ProductGalleryBaseImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nexport const TRANSFORMATION_DELAY = 0;\nexport const TRANSFORMATION_SPEED = 0;\nexport const INITIAL_SCALE = 1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductGalleryThumbnailImage.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './VideoPopup.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { PureComponent } from 'react';\n\nimport Popup from 'Component/Popup';\nimport { MediaItemType } from 'Type/ProductList';\nimport { makeCancelable } from 'Util/Promise';\n\nimport { VIDEO_POPUP_ID, VIMEO_FORMAT, YOUTUBE_FORMAT } from './VideoPopup.config';\n\nimport './VideoPopup.style';\n\n/**\n * A popup capable of displaying a video\n * @class VideoPopup\n * @namespace Component/VideoPopup/Component\n */\nexport class VideoPopup extends PureComponent {\n    static propTypes = {\n        payload: MediaItemType.isRequired\n    };\n\n    componentDidMount() {\n        this.loadVimeoLibrary();\n        this.loadYouTubeLibrary();\n\n        Promise.all([\n            this.vimeoPromise,\n            this.youTubePromise\n        ]).then(\n            /** @namespace Component/VideoPopup/Component/videoLibrariesThen */\n            () => this.forceUpdate()\n        );\n    }\n\n    componentWillUnmount() {\n        if (this.youTubePromise) {\n            this.youTubePromise.cancel();\n        }\n\n        if (this.vimeoPromise) {\n            this.vimeoPromise.cancel();\n        }\n    }\n\n    /**\n     * Renders a video provided by Vimeo\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderVimeoVideo(videoId) {\n        const Vimeo = this.vimeoComponent;\n\n        if (!Vimeo) {\n            return null;\n        }\n\n        return (\n            <Vimeo\n              videoId={ videoId }\n              autoplay\n            />\n        );\n    }\n\n    /**\n     * Renders a video provided by Youtube\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderYoutubeVideo(videoId) {\n        const YouTube = this.youTubeComponent;\n\n        if (!YouTube) {\n            return null;\n        }\n\n        return (\n            <YouTube\n              videoId={ videoId }\n              containerClassName=\"VideoPopup-YouTubeContainer\"\n              // eslint-disable-next-line react/forbid-component-props\n              className=\"VideoPopup-YouTube\"\n              opts={ { playerVars: { autoplay: 1 } } }\n            />\n        );\n    }\n\n    loadVimeoLibrary() {\n        this.vimeoPromise = makeCancelable(import('react-vimeo'));\n\n        this.vimeoPromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/vimeoPromisePromiseThen */\n            ({ default: vimeo }) => {\n                this.vimeoComponent = vimeo;\n            }\n        );\n    }\n\n    loadYouTubeLibrary() {\n        this.youTubePromise = makeCancelable(import('react-youtube'));\n\n        this.youTubePromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/youTubePromisePromiseThen */\n            ({ default: youTube }) => {\n                this.youTubeComponent = youTube;\n            }\n        );\n    }\n\n    /**\n     * Parses the video URL and renders the video accordingly\n     * @returns {null|*}\n     * @private\n     */\n    _renderVideoContent() {\n        const {\n            payload: {\n                media: {\n                    video_content: { video_url } = {}\n                } = {}\n            }\n        } = this.props;\n\n        if (!video_url) {\n            return null;\n        }\n\n        const [, vimeoId] = VIMEO_FORMAT.exec(video_url) || [];\n        if (vimeoId) {\n            return this._renderVimeoVideo(vimeoId);\n        }\n\n        const [, youtubeId] = YOUTUBE_FORMAT.exec(video_url);\n        if (youtubeId) {\n            return this._renderYoutubeVideo(youtubeId);\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <Popup id={ VIDEO_POPUP_ID } mix={ { block: 'VideoPopup' } }>\n                <div block=\"VideoPopup\" elem=\"VideoPlayer\">\n                    <div block=\"VideoPopup\" elem=\"PlayerContent\">\n                        { this._renderVideoContent() }\n                    </div>\n                </div>\n            </Popup>\n        );\n    }\n}\n\nexport default VideoPopup;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './VideoThumbnail.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image/Image.container';\nimport { MediaItemType } from 'Type/ProductList';\n\nimport './VideoThumbnail.style';\n\n/**\n * VideoThumbnail component\n * @class VideoThumbnail\n * @namespace Component/VideoThumbnail/Component/videoThumbnail\n */\nexport class VideoThumbnail extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        onPlayClick: PropTypes.func.isRequired\n    };\n\n    /**\n     * Renders an icon indicating that the video can be played\n     * @namespace Component/VideoThumbnail/Component\n */\n    renderPlayIcon() {\n        return (\n            <span block=\"VideoThumbnail\" elem=\"PlayIcon\">\n                { __('Play video') }\n            </span>\n        );\n    }\n\n    render() {\n        const {\n            media: {\n                thumbnail: { url },\n                video_content: { video_title }\n            },\n            onPlayClick\n        } = this.props;\n\n        return (\n            <div block=\"VideoThumbnail\">\n                <button\n                  block=\"VideoThumbnail\"\n                  elem=\"Button\"\n                  onClick={ onPlayClick }\n                  title={ __('Play video %s', video_title) }\n                >\n                    <Image\n                      src={ url }\n                      ratio=\"custom\"\n                      mix={ {\n                          block: 'VideoThumbnail',\n                          elem: 'Thumbnail',\n                          mods: { isPlaceholder: !url }\n                      } }\n                      isPlaceholder={ !url }\n                      alt={ video_title }\n                    />\n                    { this.renderPlayIcon() }\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default VideoThumbnail;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductInformation.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviews.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Popup from 'Component/Popup';\nimport ProductReviewForm from 'Component/ProductReviewForm';\nimport ProductReviewList from 'Component/ProductReviewList';\nimport ProductReviewRating from 'Component/ProductReviewRating';\nimport { ProductType } from 'Type/ProductList';\n\nimport { REVIEW_POPUP_ID } from './ProductReviews.config';\n\nimport './ProductReviews.style';\n\n/** @namespace Component/ProductReviews/Component */\nexport class ProductReviews extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        areDetailsLoaded: PropTypes.bool\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false\n    };\n\n    renderPopup() {\n        const { product } = this.props;\n\n        return (\n            <Popup\n              id={ REVIEW_POPUP_ID }\n              mix={ { block: 'ProductReviews', elem: 'Popup' } }\n            >\n                <ProductReviewForm product={ product } />\n            </Popup>\n        );\n    }\n\n    renderButton() {\n        const { showPopup } = this.props;\n\n        return (\n            <button\n              block=\"ProductReviews\"\n              elem=\"Button\"\n              mix={ { block: 'Button' } }\n              onClick={ showPopup }\n            >\n                { __('Write a new review') }\n            </button>\n        );\n    }\n\n    renderNoRating() {\n        return (\n            <p>\n                { __('There are no reviews yet! Click button on the right to submit one!') }\n            </p>\n        );\n    }\n\n    renderRatingSchema(percent, reviewCount) {\n        return (\n            <>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <meta itemProp=\"reviewCount\" content={ reviewCount } />\n            </>\n        );\n    }\n\n    renderRatingData() {\n        const {\n            product: {\n                review_summary: {\n                    rating_summary,\n                    review_count\n                } = {}\n            }\n        } = this.props;\n\n        const STARS_COUNT = 5;\n        const PERCENT = 100;\n\n        // eslint-disable-next-line no-mixed-operators\n        const percent = parseFloat(STARS_COUNT * (rating_summary || 0) / PERCENT).toFixed(2);\n\n        if (!review_count) {\n            return this.renderNoRating();\n        }\n\n        return (\n            <>\n                { this.renderRatingSchema(rating_summary, review_count) }\n                <ProductReviewRating\n                  mix={ { block: 'ProductReviews', elem: 'SummaryRating' } }\n                  summary={ rating_summary }\n                />\n                <p block=\"ProductReviews\" elem=\"SummaryDetails\">\n                    { percent }\n                    <span>{ __('%s reviews', review_count || 0) }</span>\n                </p>\n            </>\n        );\n    }\n\n    renderSummary() {\n        const {\n            product: {\n                review_summary: {\n                    review_count\n                } = {}\n            }\n        } = this.props;\n\n        const reviewSchemaObject = review_count\n            ? {\n                itemType: 'http://schema.org/AggregateRating',\n                itemProp: 'aggregateRating',\n                itemScope: true\n            } : {};\n\n        return (\n            <div\n              block=\"ProductReviews\"\n              elem=\"Summary\"\n              { ...reviewSchemaObject }\n            >\n                { this.renderRatingData() }\n                { this.renderButton() }\n            </div>\n        );\n    }\n\n    renderList() {\n        const { product } = this.props;\n\n        return (\n            <ProductReviewList\n              product={ product }\n            />\n        );\n    }\n\n    render() {\n        const {\n            product,\n            areDetailsLoaded\n        } = this.props;\n\n        const {\n            review_summary: { review_count } = {}\n        } = product;\n\n        const heading = areDetailsLoaded\n            ? __('Product reviews (%s)', review_count || '0')\n            : '';\n\n        return (\n            <ContentWrapper\n              label=\"Product reviews\"\n              mix={ { block: 'ProductReviews' } }\n              wrapperMix={ { block: 'ProductReviews', elem: 'Wrapper' } }\n            >\n                <ExpandableContent\n                  mix={ { block: 'ProductReviews', elem: 'Content' } }\n                  heading={ heading }\n                >\n                    { this.renderSummary() }\n                    { this.renderList() }\n                    { this.renderPopup() }\n                </ExpandableContent>\n            </ContentWrapper>\n        );\n    }\n}\n\nexport default ProductReviews;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewForm.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Form from 'Component/Form';\nimport Loader from 'Component/Loader';\nimport ReviewStar from 'Component/ReviewStar';\nimport { RatingItemsType } from 'Type/Rating';\n\nimport './ProductReviewForm.style';\n\n/**\n * ProductReviewForm\n * @class ProductReviewForm\n * @namespace Component/ProductReviewForm/Component\n */\nexport class ProductReviewForm extends PureComponent {\n    static propTypes = {\n        reviewRatings: RatingItemsType.isRequired,\n        isLoading: PropTypes.bool.isRequired,\n        onReviewSubmitAttempt: PropTypes.func.isRequired,\n        onReviewSubmitSuccess: PropTypes.func.isRequired,\n        onReviewError: PropTypes.func.isRequired,\n        onStarRatingClick: PropTypes.func.isRequired,\n        handleNicknameChange: PropTypes.func.isRequired,\n        handleSummaryChange: PropTypes.func.isRequired,\n        handleDetailChange: PropTypes.func.isRequired,\n        ratingData: PropTypes.objectOf(PropTypes.string).isRequired,\n        reviewData: PropTypes.shape({\n            nickname: PropTypes.string,\n            summary: PropTypes.string,\n            detail: PropTypes.string\n        }).isRequired\n    };\n\n    ratingTitleMap = {\n        1: __('Awful'),\n        2: __('Bad'),\n        3: __('Average'),\n        4: __('Good'),\n        5: __('Awesome')\n    };\n\n    renderReviewStar(options, rating_id) {\n        const { ratingData, onStarRatingClick } = this.props;\n        const { option_id, value } = options;\n        const isChecked = !!ratingData[rating_id] && ratingData[rating_id] === option_id;\n\n        return (\n            <ReviewStar\n              key={ option_id }\n              name={ rating_id }\n              value={ value }\n              title={ this.ratingTitleMap[value] }\n              isChecked={ isChecked }\n              option_id={ option_id }\n              rating_id={ rating_id }\n              onStarRatingClick={ onStarRatingClick }\n            />\n        );\n    }\n\n    renderReviewRating() {\n        const { reviewRatings } = this.props;\n\n        return reviewRatings.map((rating) => {\n            const { rating_id, rating_code, rating_options } = rating;\n\n            return (\n                <fieldset block=\"ProductReviewForm\" elem=\"Rating\" key={ rating_id }>\n                    <legend block=\"ProductReviewForm\" elem=\"Legend\">\n                        { rating_code }\n                    </legend>\n                    { rating_options\n                        .sort(({ value }, { value: nextValue }) => nextValue - value)\n                        .map((option) => this.renderReviewStar(option, rating_id)) }\n                </fieldset>\n            );\n        });\n    }\n\n    renderButton() {\n        return (\n            <button\n              block=\"ProductReviewForm\"\n              elem=\"Button\"\n              type=\"submit\"\n              mix={ { block: 'Button' } }\n            >\n                { __('Submit Review') }\n            </button>\n        );\n    }\n\n    renderReviewFormContent() {\n        const {\n            handleNicknameChange,\n            handleSummaryChange,\n            handleDetailChange,\n            reviewData\n        } = this.props;\n\n        const {\n            nickname = '',\n            summary = '',\n            detail = ''\n        } = reviewData;\n\n        return (\n            <div\n              block=\"ProductReviewForm\"\n              elem=\"Wrapper\"\n            >\n                <div>\n                    { this.renderReviewRating() }\n                </div>\n                <div\n                  block=\"ProductReviewForm\"\n                  elem=\"Content\"\n                >\n                    <Field\n                      type=\"text\"\n                      label={ __('Nickname') }\n                      id=\"nickname\"\n                      name=\"nickname\"\n                      validation={ ['notEmpty'] }\n                      value={ nickname }\n                      onChange={ handleNicknameChange }\n                    />\n                    <Field\n                      type=\"text\"\n                      label={ __('Summary') }\n                      id=\"title\"\n                      name=\"title\"\n                      validation={ ['notEmpty'] }\n                      value={ summary }\n                      onChange={ handleSummaryChange }\n                    />\n                    <Field\n                      type=\"textarea\"\n                      label={ __('Review') }\n                      id=\"detail\"\n                      name=\"detail\"\n                      validation={ ['notEmpty'] }\n                      value={ detail }\n                      onChange={ handleDetailChange }\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            isLoading,\n            onReviewSubmitAttempt,\n            onReviewSubmitSuccess,\n            onReviewError\n        } = this.props;\n\n        return (\n            <Form\n              key=\"product-review\"\n              mix={ { block: 'ProductReviewForm' } }\n              onSubmit={ onReviewSubmitAttempt }\n              onSubmitSuccess={ onReviewSubmitSuccess }\n              onSubmitError={ onReviewError }\n            >\n                <Loader isLoading={ isLoading } />\n                { this.renderReviewFormContent() }\n                { this.renderButton() }\n            </Form>\n        );\n    }\n}\n\nexport default ProductReviewForm;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ReviewStar.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewList.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductReviewItem.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductTabs.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright  Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './ProductTab.component';\n"],"sourceRoot":""}